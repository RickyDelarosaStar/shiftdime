(function(e,t){var n,i,r=typeof t,s=e.location,a=e.document,o=a.documentElement,l=e.jQuery,u=e.$,c={},f=[],p="1.10.2",d=f.concat,h=f.push,g=f.slice,m=f.indexOf,v=c.toString,y=c.hasOwnProperty,b=p.trim,w=function(e,t){return new w.fn.init(e,t,i)},x=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,_=/\S+/g,S=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,A=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,T=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,C=/^[\],:{}\s]*$/,k=/(?:^|:|,)(?:\s*\[)+/g,P=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,E=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,N=/^-ms-/,j=/-([\da-z])/gi,M=function(e,t){return t.toUpperCase()},D=function(e){(a.addEventListener||"load"===e.type||"complete"===a.readyState)&&(I(),w.ready())},I=function(){a.addEventListener?(a.removeEventListener("DOMContentLoaded",D,!1),e.removeEventListener("load",D,!1)):(a.detachEvent("onreadystatechange",D),e.detachEvent("onload",D))};w.fn=w.prototype={jquery:p,constructor:w,init:function(e,n,i){var r,s;if(!e)return this;if("string"==typeof e){if(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:A.exec(e),!r||!r[1]&&n)return!n||n.jquery?(n||i).find(e):this.constructor(n).find(e);if(r[1]){if(n=n instanceof w?n[0]:n,w.merge(this,w.parseHTML(r[1],n&&n.nodeType?n.ownerDocument||n:a,!0)),T.test(r[1])&&w.isPlainObject(n))for(r in n)w.isFunction(this[r])?this[r](n[r]):this.attr(r,n[r]);return this}if(s=a.getElementById(r[2]),s&&s.parentNode){if(s.id!==r[2])return i.find(e);this.length=1,this[0]=s}return this.context=a,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):w.isFunction(e)?i.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),w.makeArray(e,this))},selector:"",length:0,toArray:function(){return g.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=w.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return w.each(this,e,t)},ready:function(e){return w.ready.promise().done(e),this},slice:function(){return this.pushStack(g.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(w.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:h,sort:[].sort,splice:[].splice},w.fn.init.prototype=w.fn,w.extend=w.fn.extend=function(){var e,n,i,r,s,a,o=arguments[0]||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof o&&(c=o,o=arguments[1]||{},l=2),"object"==typeof o||w.isFunction(o)||(o={}),u===l&&(o=this,--l);u>l;l++)if(null!=(s=arguments[l]))for(r in s)e=o[r],i=s[r],o!==i&&(c&&i&&(w.isPlainObject(i)||(n=w.isArray(i)))?(n?(n=!1,a=e&&w.isArray(e)?e:[]):a=e&&w.isPlainObject(e)?e:{},o[r]=w.extend(c,a,i)):i!==t&&(o[r]=i));return o},w.extend({expando:"jQuery"+(p+Math.random()).replace(/\D/g,""),noConflict:function(t){return e.$===w&&(e.$=u),t&&e.jQuery===w&&(e.jQuery=l),w},isReady:!1,readyWait:1,holdReady:function(e){e?w.readyWait++:w.ready(!0)},ready:function(e){if(e===!0?!--w.readyWait:!w.isReady){if(!a.body)return setTimeout(w.ready);w.isReady=!0,e!==!0&&--w.readyWait>0||(n.resolveWith(a,[w]),w.fn.trigger&&w(a).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===w.type(e)},isArray:Array.isArray||function(e){return"array"===w.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?c[v.call(e)]||"object":typeof e},isPlainObject:function(e){var n;if(!e||"object"!==w.type(e)||e.nodeType||w.isWindow(e))return!1;try{if(e.constructor&&!y.call(e,"constructor")&&!y.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}if(w.support.ownLast)for(n in e)return y.call(e,n);for(n in e);return n===t||y.call(e,n)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||a;var i=T.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=w.buildFragment([e],t,r),r&&w(r).remove(),w.merge([],i.childNodes))},parseJSON:function(n){return e.JSON&&e.JSON.parse?e.JSON.parse(n):null===n?n:"string"==typeof n&&(n=w.trim(n),n&&C.test(n.replace(P,"@").replace(E,"]").replace(k,"")))?Function("return "+n)():(w.error("Invalid JSON: "+n),t)},parseXML:function(n){var i,r;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(r=new DOMParser,i=r.parseFromString(n,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(n))}catch(s){i=t}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||w.error("Invalid XML: "+n),i},noop:function(){},globalEval:function(t){t&&w.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(N,"ms-").replace(j,M)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var i,r=0,s=e.length,a=$(e);if(n){if(a){for(;s>r;r++)if(i=t.apply(e[r],n),i===!1)break}else for(r in e)if(i=t.apply(e[r],n),i===!1)break}else if(a){for(;s>r;r++)if(i=t.call(e[r],r,e[r]),i===!1)break}else for(r in e)if(i=t.call(e[r],r,e[r]),i===!1)break;return e},trim:b&&!b.call("\ufeffÂ ")?function(e){return null==e?"":b.call(e)}:function(e){return null==e?"":(e+"").replace(S,"")},makeArray:function(e,t){var n=t||[];return null!=e&&($(Object(e))?w.merge(n,"string"==typeof e?[e]:e):h.call(n,e)),n},inArray:function(e,t,n){var i;if(t){if(m)return m.call(t,e,n);for(i=t.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var i=n.length,r=e.length,s=0;if("number"==typeof i)for(;i>s;s++)e[r++]=n[s];else while(n[s]!==t)e[r++]=n[s++];return e.length=r,e},grep:function(e,t,n){var i,r=[],s=0,a=e.length;for(n=!!n;a>s;s++)i=!!t(e[s],s),n!==i&&r.push(e[s]);return r},map:function(e,t,n){var i,r=0,s=e.length,a=$(e),o=[];if(a)for(;s>r;r++)i=t(e[r],r,n),null!=i&&(o[o.length]=i);else for(r in e)i=t(e[r],r,n),null!=i&&(o[o.length]=i);return d.apply([],o)},guid:1,proxy:function(e,n){var i,r,s;return"string"==typeof n&&(s=e[n],n=e,e=s),w.isFunction(e)?(i=g.call(arguments,2),r=function(){return e.apply(n||this,i.concat(g.call(arguments)))},r.guid=e.guid=e.guid||w.guid++,r):t},access:function(e,n,i,r,s,a,o){var l=0,u=e.length,c=null==i;if("object"===w.type(i)){s=!0;for(l in i)w.access(e,n,l,i[l],!0,a,o)}else if(r!==t&&(s=!0,w.isFunction(r)||(o=!0),c&&(o?(n.call(e,r),n=null):(c=n,n=function(e,t,n){return c.call(w(e),n)})),n))for(;u>l;l++)n(e[l],i,o?r:r.call(e[l],l,n(e[l],i)));return s?e:c?n.call(e):u?n(e[0],i):a},now:function(){return(new Date).getTime()},swap:function(e,t,n,i){var r,s,a={};for(s in t)a[s]=e.style[s],e.style[s]=t[s];r=n.apply(e,i||[]);for(s in t)e.style[s]=a[s];return r}}),w.ready.promise=function(t){if(!n)if(n=w.Deferred(),"complete"===a.readyState)setTimeout(w.ready);else if(a.addEventListener)a.addEventListener("DOMContentLoaded",D,!1),e.addEventListener("load",D,!1);else{a.attachEvent("onreadystatechange",D),e.attachEvent("onload",D);var i=!1;try{i=null==e.frameElement&&a.documentElement}catch(r){}i&&i.doScroll&&function s(){if(!w.isReady){try{i.doScroll("left")}catch(e){return setTimeout(s,50)}I(),w.ready()}}()}return n.promise(t)},w.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){c["[object "+t+"]"]=t.toLowerCase()});function $(e){var t=e.length,n=w.type(e);return w.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}i=w(a),function(e,t){var n,i,r,s,a,o,l,u,c,f,p,d,h,g,m,v,y,b="sizzle"+-new Date,x=e.document,_=0,S=0,A=oe(),T=oe(),C=oe(),k=!1,P=function(e,t){return e===t?(k=!0,0):0},E=typeof t,N=1<<31,j={}.hasOwnProperty,M=[],D=M.pop,I=M.push,$=M.push,O=M.slice,L=M.indexOf||function(e){var t=0,n=this.length;for(;n>t;t++)if(this[t]===e)return t;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",B="[\\x20\\t\\r\\n\\f]",F="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",z=F.replace("w","w#"),H="\\["+B+"*("+F+")"+B+"*(?:([*^$|!~]?=)"+B+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+z+")|)|)"+B+"*\\]",U=":("+F+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+H.replace(3,8)+")*)|.*)\\)|)",V=RegExp("^"+B+"+|((?:^|[^\\\\])(?:\\\\.)*)"+B+"+$","g"),q=RegExp("^"+B+"*,"+B+"*"),W=RegExp("^"+B+"*([>+~]|"+B+")"+B+"*"),J=RegExp(B+"*[+~]"),Y=RegExp("="+B+"*([^\\]'\"]*)"+B+"*\\]","g"),X=RegExp(U),G=RegExp("^"+z+"$"),K={ID:RegExp("^#("+F+")"),CLASS:RegExp("^\\.("+F+")"),TAG:RegExp("^("+F.replace("w","w*")+")"),ATTR:RegExp("^"+H),PSEUDO:RegExp("^"+U),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+B+"*(even|odd|(([+-]|)(\\d*)n|)"+B+"*(?:([+-]|)"+B+"*(\\d+)|))"+B+"*\\)|)","i"),bool:RegExp("^(?:"+R+")$","i"),needsContext:RegExp("^"+B+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+B+"*((?:-\\d)?\\d*)"+B+"*\\)|)(?=[^-]|$)","i")},Q=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/^(?:input|select|textarea|button)$/i,te=/^h\d$/i,ne=/'|\\/g,ie=RegExp("\\\\([\\da-f]{1,6}"+B+"?|("+B+")|.)","ig"),re=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(55296|i>>10,56320|1023&i)};try{$.apply(M=O.call(x.childNodes),x.childNodes),M[x.childNodes.length].nodeType}catch(se){$={apply:M.length?function(e,t){I.apply(e,O.call(t))}:function(e,t){var n=e.length,i=0;while(e[n++]=t[i++]);e.length=n-1}}}function ae(e,t,n,r){var s,a,o,l,u,c,d,m,v,w;if((t?t.ownerDocument||t:x)!==p&&f(t),t=t||p,n=n||[],!e||"string"!=typeof e)return n;if(1!==(l=t.nodeType)&&9!==l)return[];if(h&&!r){if(s=Z.exec(e))if(o=s[1]){if(9===l){if(a=t.getElementById(o),!a||!a.parentNode)return n;if(a.id===o)return n.push(a),n}else if(t.ownerDocument&&(a=t.ownerDocument.getElementById(o))&&y(t,a)&&a.id===o)return n.push(a),n}else{if(s[2])return $.apply(n,t.getElementsByTagName(e)),n;if((o=s[3])&&i.getElementsByClassName&&t.getElementsByClassName)return $.apply(n,t.getElementsByClassName(o)),n}if(i.qsa&&(!g||!g.test(e))){if(m=d=b,v=t,w=9===l&&e,1===l&&"object"!==t.nodeName.toLowerCase()){c=me(e),(d=t.getAttribute("id"))?m=d.replace(ne,"\\$&"):t.setAttribute("id",m),m="[id='"+m+"'] ",u=c.length;while(u--)c[u]=m+ve(c[u]);v=J.test(e)&&t.parentNode||t,w=c.join(",")}if(w)try{return $.apply(n,v.querySelectorAll(w)),n}catch(_){}finally{d||t.removeAttribute("id")}}}return Te(e.replace(V,"$1"),t,n,r)}function oe(){var e=[];function t(n,i){return e.push(n+=" ")>s.cacheLength&&delete t[e.shift()],t[n]=i}return t}function le(e){return e[b]=!0,e}function ue(e){var t=p.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ce(e,t){var n=e.split("|"),i=e.length;while(i--)s.attrHandle[n[i]]=t}function fe(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||N)-(~e.sourceIndex||N);if(i)return i;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function pe(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function de(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function he(e){return le(function(t){return t=+t,le(function(n,i){var r,s=e([],n.length,t),a=s.length;while(a--)n[r=s[a]]&&(n[r]=!(i[r]=n[r]))})})}o=ae.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},i=ae.support={},f=ae.setDocument=function(e){var n=e?e.ownerDocument||e:x,r=n.defaultView;return n!==p&&9===n.nodeType&&n.documentElement?(p=n,d=n.documentElement,h=!o(n),r&&r.attachEvent&&r!==r.top&&r.attachEvent("onbeforeunload",function(){f()}),i.attributes=ue(function(e){return e.className="i",!e.getAttribute("className")}),i.getElementsByTagName=ue(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),i.getElementsByClassName=ue(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),i.getById=ue(function(e){return d.appendChild(e).id=b,!n.getElementsByName||!n.getElementsByName(b).length}),i.getById?(s.find.ID=function(e,t){if(typeof t.getElementById!==E&&h){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},s.filter.ID=function(e){var t=e.replace(ie,re);return function(e){return e.getAttribute("id")===t}}):(delete s.find.ID,s.filter.ID=function(e){var t=e.replace(ie,re);return function(e){var n=typeof e.getAttributeNode!==E&&e.getAttributeNode("id");return n&&n.value===t}}),s.find.TAG=i.getElementsByTagName?function(e,n){return typeof n.getElementsByTagName!==E?n.getElementsByTagName(e):t}:function(e,t){var n,i=[],r=0,s=t.getElementsByTagName(e);if("*"===e){while(n=s[r++])1===n.nodeType&&i.push(n);return i}return s},s.find.CLASS=i.getElementsByClassName&&function(e,n){return typeof n.getElementsByClassName!==E&&h?n.getElementsByClassName(e):t},m=[],g=[],(i.qsa=Q.test(n.querySelectorAll))&&(ue(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||g.push("\\["+B+"*(?:value|"+R+")"),e.querySelectorAll(":checked").length||g.push(":checked")}),ue(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&g.push("[*^$]="+B+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")})),(i.matchesSelector=Q.test(v=d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&&ue(function(e){i.disconnectedMatch=v.call(e,"div"),v.call(e,"[s!='']:x"),m.push("!=",U)}),g=g.length&&RegExp(g.join("|")),m=m.length&&RegExp(m.join("|")),y=Q.test(d.contains)||d.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},P=d.compareDocumentPosition?function(e,t){if(e===t)return k=!0,0;var r=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t);return r?1&r||!i.sortDetached&&t.compareDocumentPosition(e)===r?e===n||y(x,e)?-1:t===n||y(x,t)?1:c?L.call(c,e)-L.call(c,t):0:4&r?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var i,r=0,s=e.parentNode,a=t.parentNode,o=[e],l=[t];if(e===t)return k=!0,0;if(!s||!a)return e===n?-1:t===n?1:s?-1:a?1:c?L.call(c,e)-L.call(c,t):0;if(s===a)return fe(e,t);i=e;while(i=i.parentNode)o.unshift(i);i=t;while(i=i.parentNode)l.unshift(i);while(o[r]===l[r])r++;return r?fe(o[r],l[r]):o[r]===x?-1:l[r]===x?1:0},n):p},ae.matches=function(e,t){return ae(e,null,null,t)},ae.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&f(e),t=t.replace(Y,"='$1']"),!(!i.matchesSelector||!h||m&&m.test(t)||g&&g.test(t)))try{var n=v.call(e,t);if(n||i.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(r){}return ae(t,p,null,[e]).length>0},ae.contains=function(e,t){return(e.ownerDocument||e)!==p&&f(e),y(e,t)},ae.attr=function(e,n){(e.ownerDocument||e)!==p&&f(e);var r=s.attrHandle[n.toLowerCase()],a=r&&j.call(s.attrHandle,n.toLowerCase())?r(e,n,!h):t;return a===t?i.attributes||!h?e.getAttribute(n):(a=e.getAttributeNode(n))&&a.specified?a.value:null:a},ae.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},ae.uniqueSort=function(e){var t,n=[],r=0,s=0;if(k=!i.detectDuplicates,c=!i.sortStable&&e.slice(0),e.sort(P),k){while(t=e[s++])t===e[s]&&(r=n.push(s));while(r--)e.splice(n[r],1)}return e},a=ae.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=a(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i];i++)n+=a(t);return n},s=ae.selectors={cacheLength:50,createPseudo:le,match:K,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ie,re),e[3]=(e[4]||e[5]||"").replace(ie,re),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ae.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ae.error(e[0]),e},PSEUDO:function(e){var n,i=!e[5]&&e[2];return K.CHILD.test(e[0])?null:(e[3]&&e[4]!==t?e[2]=e[4]:i&&X.test(i)&&(n=me(i,!0))&&(n=i.indexOf(")",i.length-n)-i.length)&&(e[0]=e[0].slice(0,n),e[2]=i.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ie,re).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=A[e+" "];return t||(t=RegExp("(^|"+B+")"+e+"("+B+"|$)"))&&A(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==E&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(i){var r=ae.attr(i,e);return null==r?"!="===t:t?(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&r.indexOf(n)>-1:"$="===t?n&&r.slice(-n.length)===n:"~="===t?(" "+r+" ").indexOf(n)>-1:"|="===t?r===n||r.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,i,r){var s="nth"!==e.slice(0,3),a="last"!==e.slice(-4),o="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var u,c,f,p,d,h,g=s!==a?"nextSibling":"previousSibling",m=t.parentNode,v=o&&t.nodeName.toLowerCase(),y=!l&&!o;if(m){if(s){while(g){f=t;while(f=f[g])if(o?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?m.firstChild:m.lastChild],a&&y){c=m[b]||(m[b]={}),u=c[e]||[],d=u[0]===_&&u[1],p=u[0]===_&&u[2],f=d&&m.childNodes[d];while(f=++d&&f&&f[g]||(p=d=0)||h.pop())if(1===f.nodeType&&++p&&f===t){c[e]=[_,d,p];break}}else if(y&&(u=(t[b]||(t[b]={}))[e])&&u[0]===_)p=u[1];else while(f=++d&&f&&f[g]||(p=d=0)||h.pop())if((o?f.nodeName.toLowerCase()===v:1===f.nodeType)&&++p&&(y&&((f[b]||(f[b]={}))[e]=[_,p]),f===t))break;return p-=r,p===i||0===p%i&&p/i>=0}}},PSEUDO:function(e,t){var n,i=s.pseudos[e]||s.setFilters[e.toLowerCase()]||ae.error("unsupported pseudo: "+e);return i[b]?i(t):i.length>1?(n=[e,e,"",t],s.setFilters.hasOwnProperty(e.toLowerCase())?le(function(e,n){var r,s=i(e,t),a=s.length;while(a--)r=L.call(e,s[a]),e[r]=!(n[r]=s[a])}):function(e){return i(e,0,n)}):i}},pseudos:{not:le(function(e){var t=[],n=[],i=l(e.replace(V,"$1"));return i[b]?le(function(e,t,n,r){var s,a=i(e,null,r,[]),o=e.length;while(o--)(s=a[o])&&(e[o]=!(t[o]=s))}):function(e,r,s){return t[0]=e,i(t,null,s,n),!n.pop()}}),has:le(function(e){return function(t){return ae(e,t).length>0}}),contains:le(function(e){return function(t){return(t.textContent||t.innerText||a(t)).indexOf(e)>-1}}),lang:le(function(e){return G.test(e||"")||ae.error("unsupported lang: "+e),e=e.replace(ie,re).toLowerCase(),function(t){var n;do if(n=h?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===d},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!s.pseudos.empty(e)},header:function(e){return te.test(e.nodeName)},input:function(e){return ee.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:he(function(){return[0]}),last:he(function(e,t){return[t-1]}),eq:he(function(e,t,n){return[0>n?n+t:n]}),even:he(function(e,t){var n=0;for(;t>n;n+=2)e.push(n);return e}),odd:he(function(e,t){var n=1;for(;t>n;n+=2)e.push(n);return e}),lt:he(function(e,t,n){var i=0>n?n+t:n;for(;--i>=0;)e.push(i);return e}),gt:he(function(e,t,n){var i=0>n?n+t:n;for(;t>++i;)e.push(i);return e})}},s.pseudos.nth=s.pseudos.eq;for(n in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})s.pseudos[n]=pe(n);for(n in{submit:!0,reset:!0})s.pseudos[n]=de(n);function ge(){}ge.prototype=s.filters=s.pseudos,s.setFilters=new ge;function me(e,t){var n,i,r,a,o,l,u,c=T[e+" "];if(c)return t?0:c.slice(0);o=e,l=[],u=s.preFilter;while(o){(!n||(i=q.exec(o)))&&(i&&(o=o.slice(i[0].length)||o),l.push(r=[])),n=!1,(i=W.exec(o))&&(n=i.shift(),r.push({value:n,type:i[0].replace(V," ")}),o=o.slice(n.length));for(a in s.filter)!(i=K[a].exec(o))||u[a]&&!(i=u[a](i))||(n=i.shift(),r.push({value:n,type:a,matches:i}),o=o.slice(n.length));if(!n)break}return t?o.length:o?ae.error(e):T(e,l).slice(0)}function ve(e){var t=0,n=e.length,i="";for(;n>t;t++)i+=e[t].value;return i}function ye(e,t,n){var i=t.dir,s=n&&"parentNode"===i,a=S++;return t.first?function(t,n,r){while(t=t[i])if(1===t.nodeType||s)return e(t,n,r)}:function(t,n,o){var l,u,c,f=_+" "+a;if(o){while(t=t[i])if((1===t.nodeType||s)&&e(t,n,o))return!0}else while(t=t[i])if(1===t.nodeType||s)if(c=t[b]||(t[b]={}),(u=c[i])&&u[0]===f){if((l=u[1])===!0||l===r)return l===!0}else if(u=c[i]=[f],u[1]=e(t,n,o)||r,u[1]===!0)return!0}}function be(e){return e.length>1?function(t,n,i){var r=e.length;while(r--)if(!e[r](t,n,i))return!1;return!0}:e[0]}function we(e,t,n,i,r){var s,a=[],o=0,l=e.length,u=null!=t;for(;l>o;o++)(s=e[o])&&(!n||n(s,i,r))&&(a.push(s),u&&t.push(o));return a}function xe(e,t,n,i,r,s){return i&&!i[b]&&(i=xe(i)),r&&!r[b]&&(r=xe(r,s)),le(function(s,a,o,l){var u,c,f,p=[],d=[],h=a.length,g=s||Ae(t||"*",o.nodeType?[o]:o,[]),m=!e||!s&&t?g:we(g,p,e,o,l),v=n?r||(s?e:h||i)?[]:a:m;if(n&&n(m,v,o,l),i){u=we(v,d),i(u,[],o,l),c=u.length;while(c--)(f=u[c])&&(v[d[c]]=!(m[d[c]]=f))}if(s){if(r||e){if(r){u=[],c=v.length;while(c--)(f=v[c])&&u.push(m[c]=f);r(null,v=[],u,l)}c=v.length;while(c--)(f=v[c])&&(u=r?L.call(s,f):p[c])>-1&&(s[u]=!(a[u]=f))}}else v=we(v===a?v.splice(h,v.length):v),r?r(null,a,v,l):$.apply(a,v)})}function _e(e){var t,n,i,r=e.length,a=s.relative[e[0].type],o=a||s.relative[" "],l=a?1:0,c=ye(function(e){return e===t},o,!0),f=ye(function(e){return L.call(t,e)>-1},o,!0),p=[function(e,n,i){return!a&&(i||n!==u)||((t=n).nodeType?c(e,n,i):f(e,n,i))}];for(;r>l;l++)if(n=s.relative[e[l].type])p=[ye(be(p),n)];else{if(n=s.filter[e[l].type].apply(null,e[l].matches),n[b]){for(i=++l;r>i;i++)if(s.relative[e[i].type])break;return xe(l>1&&be(p),l>1&&ve(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(V,"$1"),n,i>l&&_e(e.slice(l,i)),r>i&&_e(e=e.slice(i)),r>i&&ve(e))}p.push(n)}return be(p)}function Se(e,t){var n=0,i=t.length>0,a=e.length>0,o=function(o,l,c,f,d){var h,g,m,v=[],y=0,b="0",w=o&&[],x=null!=d,S=u,A=o||a&&s.find.TAG("*",d&&l.parentNode||l),T=_+=null==S?1:Math.random()||.1;for(x&&(u=l!==p&&l,r=n);null!=(h=A[b]);b++){if(a&&h){g=0;while(m=e[g++])if(m(h,l,c)){f.push(h);break}x&&(_=T,r=++n)}i&&((h=!m&&h)&&y--,o&&w.push(h))}if(y+=b,i&&b!==y){g=0;while(m=t[g++])m(w,v,l,c);if(o){if(y>0)while(b--)w[b]||v[b]||(v[b]=D.call(f));v=we(v)}$.apply(f,v),x&&!o&&v.length>0&&y+t.length>1&&ae.uniqueSort(f)}return x&&(_=T,u=S),w};return i?le(o):o}l=ae.compile=function(e,t){var n,i=[],r=[],s=C[e+" "];if(!s){t||(t=me(e)),n=t.length;while(n--)s=_e(t[n]),s[b]?i.push(s):r.push(s);s=C(e,Se(r,i))}return s};function Ae(e,t,n){var i=0,r=t.length;for(;r>i;i++)ae(e,t[i],n);return n}function Te(e,t,n,r){var a,o,u,c,f,p=me(e);if(!r&&1===p.length){if(o=p[0]=p[0].slice(0),o.length>2&&"ID"===(u=o[0]).type&&i.getById&&9===t.nodeType&&h&&s.relative[o[1].type]){if(t=(s.find.ID(u.matches[0].replace(ie,re),t)||[])[0],!t)return n;e=e.slice(o.shift().value.length)}a=K.needsContext.test(e)?0:o.length;while(a--){if(u=o[a],s.relative[c=u.type])break;if((f=s.find[c])&&(r=f(u.matches[0].replace(ie,re),J.test(o[0].type)&&t.parentNode||t))){if(o.splice(a,1),e=r.length&&ve(o),!e)return $.apply(n,r),n;break}}}return l(e,p)(r,t,!h,n,J.test(e)),n}i.sortStable=b.split("").sort(P).join("")===b,i.detectDuplicates=k,f(),i.sortDetached=ue(function(e){return 1&e.compareDocumentPosition(p.createElement("div"))}),ue(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||ce("type|href|height|width",function(e,n,i){return i?t:e.getAttribute(n,"type"===n.toLowerCase()?1:2)}),i.attributes&&ue(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||ce("value",function(e,n,i){return i||"input"!==e.nodeName.toLowerCase()?t:e.defaultValue}),ue(function(e){return null==e.getAttribute("disabled")})||ce(R,function(e,n,i){var r;return i?t:(r=e.getAttributeNode(n))&&r.specified?r.value:e[n]===!0?n.toLowerCase():null}),w.find=ae,w.expr=ae.selectors,w.expr[":"]=w.expr.pseudos,w.unique=ae.uniqueSort,w.text=ae.getText,w.isXMLDoc=ae.isXML,w.contains=ae.contains}(e);var O={};function L(e){var t=O[e]={};return w.each(e.match(_)||[],function(e,n){t[n]=!0}),t}w.Callbacks=function(e){e="string"==typeof e?O[e]||L(e):w.extend({},e);var n,i,r,s,a,o,l=[],u=!e.once&&[],c=function(t){for(i=e.memory&&t,r=!0,a=o||0,o=0,s=l.length,n=!0;l&&s>a;a++)if(l[a].apply(t[0],t[1])===!1&&e.stopOnFalse){i=!1;break}n=!1,l&&(u?u.length&&c(u.shift()):i?l=[]:f.disable())},f={add:function(){if(l){var t=l.length;(function r(t){w.each(t,function(t,n){var i=w.type(n);"function"===i?e.unique&&f.has(n)||l.push(n):n&&n.length&&"string"!==i&&r(n)})})(arguments),n?s=l.length:i&&(o=t,c(i))}return this},remove:function(){return l&&w.each(arguments,function(e,t){var i;while((i=w.inArray(t,l,i))>-1)l.splice(i,1),n&&(s>=i&&s--,a>=i&&a--)}),this},has:function(e){return e?w.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],s=0,this},disable:function(){return l=u=i=t,this},disabled:function(){return!l},lock:function(){return u=t,i||f.disable(),this},locked:function(){return!u},fireWith:function(e,t){return!l||r&&!u||(t=t||[],t=[e,t.slice?t.slice():t],n?u.push(t):c(t)),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!r}};return f},w.extend({Deferred:function(e){var t=[["resolve","done",w.Callbacks("once memory"),"resolved"],["reject","fail",w.Callbacks("once memory"),"rejected"],["notify","progress",w.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return w.Deferred(function(n){w.each(t,function(t,s){var a=s[0],o=w.isFunction(e[t])&&e[t];r[s[1]](function(){var e=o&&o.apply(this,arguments);e&&w.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a+"With"](this===i?n.promise():this,o?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?w.extend(e,i):i}},r={};return i.pipe=i.then,w.each(t,function(e,s){var a=s[2],o=s[3];i[s[1]]=a.add,o&&a.add(function(){n=o},t[1^e][2].disable,t[2][2].lock),r[s[0]]=function(){return r[s[0]+"With"](this===r?i:this,arguments),this},r[s[0]+"With"]=a.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t=0,n=g.call(arguments),i=n.length,r=1!==i||e&&w.isFunction(e.promise)?i:0,s=1===r?e:w.Deferred(),a=function(e,t,n){return function(i){t[e]=this,n[e]=arguments.length>1?g.call(arguments):i,n===o?s.notifyWith(t,n):--r||s.resolveWith(t,n)}},o,l,u;if(i>1)for(o=Array(i),l=Array(i),u=Array(i);i>t;t++)n[t]&&w.isFunction(n[t].promise)?n[t].promise().done(a(t,u,n)).fail(s.reject).progress(a(t,l,o)):--r;return r||s.resolveWith(u,n),s.promise()}}),w.support=function(t){var n,i,s,o,l,u,c,f,p,d=a.createElement("div");if(d.setAttribute("className","t"),d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=d.getElementsByTagName("*")||[],i=d.getElementsByTagName("a")[0],!i||!i.style||!n.length)return t;o=a.createElement("select"),u=o.appendChild(a.createElement("option")),s=d.getElementsByTagName("input")[0],i.style.cssText="top:1px;float:left;opacity:.5",t.getSetAttribute="t"!==d.className,t.leadingWhitespace=3===d.firstChild.nodeType,t.tbody=!d.getElementsByTagName("tbody").length,t.htmlSerialize=!!d.getElementsByTagName("link").length,t.style=/top/.test(i.getAttribute("style")),t.hrefNormalized="/a"===i.getAttribute("href"),t.opacity=/^0.5/.test(i.style.opacity),t.cssFloat=!!i.style.cssFloat,t.checkOn=!!s.value,t.optSelected=u.selected,t.enctype=!!a.createElement("form").enctype,t.html5Clone="<:nav></:nav>"!==a.createElement("nav").cloneNode(!0).outerHTML,t.inlineBlockNeedsLayout=!1,t.shrinkWrapBlocks=!1,t.pixelPosition=!1,t.deleteExpando=!0,t.noCloneEvent=!0,t.reliableMarginRight=!0,t.boxSizingReliable=!0,s.checked=!0,t.noCloneChecked=s.cloneNode(!0).checked,o.disabled=!0,t.optDisabled=!u.disabled;try{delete d.test}catch(h){t.deleteExpando=!1}s=a.createElement("input"),s.setAttribute("value",""),t.input=""===s.getAttribute("value"),s.value="t",s.setAttribute("type","radio"),t.radioValue="t"===s.value,s.setAttribute("checked","t"),s.setAttribute("name","t"),l=a.createDocumentFragment(),l.appendChild(s),t.appendChecked=s.checked,t.checkClone=l.cloneNode(!0).cloneNode(!0).lastChild.checked,d.attachEvent&&(d.attachEvent("onclick",function(){t.noCloneEvent=!1}),d.cloneNode(!0).click());for(p in{submit:!0,change:!0,focusin:!0})d.setAttribute(c="on"+p,"t"),t[p+"Bubbles"]=c in e||d.attributes[c].expando===!1;d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===d.style.backgroundClip;for(p in w(t))break;return t.ownLast="0"!==p,w(function(){var n,i,s,o="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",l=a.getElementsByTagName("body")[0];l&&(n=a.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",l.appendChild(n).appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",s=d.getElementsByTagName("td"),s[0].style.cssText="padding:0;margin:0;border:0;display:none",f=0===s[0].offsetHeight,s[0].style.display="",s[1].style.display="none",t.reliableHiddenOffsets=f&&0===s[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",w.swap(l,null!=l.style.zoom?{zoom:1}:{},function(){t.boxSizing=4===d.offsetWidth}),e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(d,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(d,null)||{width:"4px"}).width,i=d.appendChild(a.createElement("div")),i.style.cssText=d.style.cssText=o,i.style.marginRight=i.style.width="0",d.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(i,null)||{}).marginRight)),typeof d.style.zoom!==r&&(d.innerHTML="",d.style.cssText=o+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.innerHTML="<div></div>",d.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==d.offsetWidth,t.inlineBlockNeedsLayout&&(l.style.zoom=1)),l.removeChild(n),n=d=s=i=null)}),n=o=l=u=i=s=null,
t}({});var R=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,B=/([A-Z])/g;function F(e,n,i,r){if(w.acceptData(e)){var s,a,o=w.expando,l=e.nodeType,u=l?w.cache:e,c=l?e[o]:e[o]&&o;if(c&&u[c]&&(r||u[c].data)||i!==t||"string"!=typeof n)return c||(c=l?e[o]=f.pop()||w.guid++:o),u[c]||(u[c]=l?{}:{toJSON:w.noop}),("object"==typeof n||"function"==typeof n)&&(r?u[c]=w.extend(u[c],n):u[c].data=w.extend(u[c].data,n)),a=u[c],r||(a.data||(a.data={}),a=a.data),i!==t&&(a[w.camelCase(n)]=i),"string"==typeof n?(s=a[n],null==s&&(s=a[w.camelCase(n)])):s=a,s}}function z(e,t,n){if(w.acceptData(e)){var i,r,s=e.nodeType,a=s?w.cache:e,o=s?e[w.expando]:w.expando;if(a[o]){if(t&&(i=n?a[o]:a[o].data)){w.isArray(t)?t=t.concat(w.map(t,w.camelCase)):t in i?t=[t]:(t=w.camelCase(t),t=t in i?[t]:t.split(" ")),r=t.length;while(r--)delete i[t[r]];if(n?!U(i):!w.isEmptyObject(i))return}(n||(delete a[o].data,U(a[o])))&&(s?w.cleanData([e],!0):w.support.deleteExpando||a!=a.window?delete a[o]:a[o]=null)}}}w.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?w.cache[e[w.expando]]:e[w.expando],!!e&&!U(e)},data:function(e,t,n){return F(e,t,n)},removeData:function(e,t){return z(e,t)},_data:function(e,t,n){return F(e,t,n,!0)},_removeData:function(e,t){return z(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&w.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),w.fn.extend({data:function(e,n){var i,r,s=null,a=0,o=this[0];if(e===t){if(this.length&&(s=w.data(o),1===o.nodeType&&!w._data(o,"parsedAttrs"))){for(i=o.attributes;i.length>a;a++)r=i[a].name,0===r.indexOf("data-")&&(r=w.camelCase(r.slice(5)),H(o,r,s[r]));w._data(o,"parsedAttrs",!0)}return s}return"object"==typeof e?this.each(function(){w.data(this,e)}):arguments.length>1?this.each(function(){w.data(this,e,n)}):o?H(o,e,w.data(o,e)):null},removeData:function(e){return this.each(function(){w.removeData(this,e)})}});function H(e,n,i){if(i===t&&1===e.nodeType){var r="data-"+n.replace(B,"-$1").toLowerCase();if(i=e.getAttribute(r),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:R.test(i)?w.parseJSON(i):i}catch(s){}w.data(e,n,i)}else i=t}return i}function U(e){var t;for(t in e)if(("data"!==t||!w.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}w.extend({queue:function(e,n,i){var r;return e?(n=(n||"fx")+"queue",r=w._data(e,n),i&&(!r||w.isArray(i)?r=w._data(e,n,w.makeArray(i)):r.push(i)),r||[]):t},dequeue:function(e,t){t=t||"fx";var n=w.queue(e,t),i=n.length,r=n.shift(),s=w._queueHooks(e,t),a=function(){w.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete s.stop,r.call(e,a,s)),!i&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return w._data(e,n)||w._data(e,n,{empty:w.Callbacks("once memory").add(function(){w._removeData(e,t+"queue"),w._removeData(e,n)})})}}),w.fn.extend({queue:function(e,n){var i=2;return"string"!=typeof e&&(n=e,e="fx",i--),i>arguments.length?w.queue(this[0],e):n===t?this:this.each(function(){var t=w.queue(this,e,n);w._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&w.dequeue(this,e)})},dequeue:function(e){return this.each(function(){w.dequeue(this,e)})},delay:function(e,t){return e=w.fx?w.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var i,r=1,s=w.Deferred(),a=this,o=this.length,l=function(){--r||s.resolveWith(a,[a])};"string"!=typeof e&&(n=e,e=t),e=e||"fx";while(o--)i=w._data(a[o],e+"queueHooks"),i&&i.empty&&(r++,i.empty.add(l));return l(),s.promise(n)}});var V,q,W=/[\t\r\n\f]/g,J=/\r/g,Y=/^(?:input|select|textarea|button|object)$/i,X=/^(?:a|area)$/i,G=/^(?:checked|selected)$/i,K=w.support.getSetAttribute,Q=w.support.input;w.fn.extend({attr:function(e,t){return w.access(this,w.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){w.removeAttr(this,e)})},prop:function(e,t){return w.access(this,w.prop,e,t,arguments.length>1)},removeProp:function(e){return e=w.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,i,r,s,a=0,o=this.length,l="string"==typeof e&&e;if(w.isFunction(e))return this.each(function(t){w(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(_)||[];o>a;a++)if(n=this[a],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(W," "):" ")){s=0;while(r=t[s++])0>i.indexOf(" "+r+" ")&&(i+=r+" ");n.className=w.trim(i)}return this},removeClass:function(e){var t,n,i,r,s,a=0,o=this.length,l=0===arguments.length||"string"==typeof e&&e;if(w.isFunction(e))return this.each(function(t){w(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(_)||[];o>a;a++)if(n=this[a],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(W," "):"")){s=0;while(r=t[s++])while(i.indexOf(" "+r+" ")>=0)i=i.replace(" "+r+" "," ");n.className=e?w.trim(i):""}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):w.isFunction(e)?this.each(function(n){w(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n){var t,i=0,s=w(this),a=e.match(_)||[];while(t=a[i++])s.hasClass(t)?s.removeClass(t):s.addClass(t)}else(n===r||"boolean"===n)&&(this.className&&w._data(this,"__className__",this.className),this.className=this.className||e===!1?"":w._data(this,"__className__")||"")})},hasClass:function(e){var t=" "+e+" ",n=0,i=this.length;for(;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(W," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,i,r,s=this[0];{if(arguments.length)return r=w.isFunction(e),this.each(function(n){var s;1===this.nodeType&&(s=r?e.call(this,n,w(this).val()):e,null==s?s="":"number"==typeof s?s+="":w.isArray(s)&&(s=w.map(s,function(e){return null==e?"":e+""})),i=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()],i&&"set"in i&&i.set(this,s,"value")!==t||(this.value=s))});if(s)return i=w.valHooks[s.type]||w.valHooks[s.nodeName.toLowerCase()],i&&"get"in i&&(n=i.get(s,"value"))!==t?n:(n=s.value,"string"==typeof n?n.replace(J,""):null==n?"":n)}}}),w.extend({valHooks:{option:{get:function(e){var t=w.find.attr(e,"value");return null!=t?t:e.text}},select:{get:function(e){var t,n,i=e.options,r=e.selectedIndex,s="select-one"===e.type||0>r,a=s?null:[],o=s?r+1:i.length,l=0>r?o:s?r:0;for(;o>l;l++)if(n=i[l],!(!n.selected&&l!==r||(w.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&w.nodeName(n.parentNode,"optgroup"))){if(t=w(n).val(),s)return t;a.push(t)}return a},set:function(e,t){var n,i,r=e.options,s=w.makeArray(t),a=r.length;while(a--)i=r[a],(i.selected=w.inArray(w(i).val(),s)>=0)&&(n=!0);return n||(e.selectedIndex=-1),s}}},attr:function(e,n,i){var s,a,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===r?w.prop(e,n,i):(1===o&&w.isXMLDoc(e)||(n=n.toLowerCase(),s=w.attrHooks[n]||(w.expr.match.bool.test(n)?q:V)),i===t?s&&"get"in s&&null!==(a=s.get(e,n))?a:(a=w.find.attr(e,n),null==a?t:a):null!==i?s&&"set"in s&&(a=s.set(e,i,n))!==t?a:(e.setAttribute(n,i+""),i):(w.removeAttr(e,n),t))},removeAttr:function(e,t){var n,i,r=0,s=t&&t.match(_);if(s&&1===e.nodeType)while(n=s[r++])i=w.propFix[n]||n,w.expr.match.bool.test(n)?Q&&K||!G.test(n)?e[i]=!1:e[w.camelCase("default-"+n)]=e[i]=!1:w.attr(e,n,""),e.removeAttribute(K?n:i)},attrHooks:{type:{set:function(e,t){if(!w.support.radioValue&&"radio"===t&&w.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(e,n,i){var r,s,a,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return a=1!==o||!w.isXMLDoc(e),a&&(n=w.propFix[n]||n,s=w.propHooks[n]),i!==t?s&&"set"in s&&(r=s.set(e,i,n))!==t?r:e[n]=i:s&&"get"in s&&null!==(r=s.get(e,n))?r:e[n]},propHooks:{tabIndex:{get:function(e){var t=w.find.attr(e,"tabindex");return t?parseInt(t,10):Y.test(e.nodeName)||X.test(e.nodeName)&&e.href?0:-1}}}}),q={set:function(e,t,n){return t===!1?w.removeAttr(e,n):Q&&K||!G.test(n)?e.setAttribute(!K&&w.propFix[n]||n,n):e[w.camelCase("default-"+n)]=e[n]=!0,n}},w.each(w.expr.match.bool.source.match(/\w+/g),function(e,n){var i=w.expr.attrHandle[n]||w.find.attr;w.expr.attrHandle[n]=Q&&K||!G.test(n)?function(e,n,r){var s=w.expr.attrHandle[n],a=r?t:(w.expr.attrHandle[n]=t)!=i(e,n,r)?n.toLowerCase():null;return w.expr.attrHandle[n]=s,a}:function(e,n,i){return i?t:e[w.camelCase("default-"+n)]?n.toLowerCase():null}}),Q&&K||(w.attrHooks.value={set:function(e,n,i){return w.nodeName(e,"input")?(e.defaultValue=n,t):V&&V.set(e,n,i)}}),K||(V={set:function(e,n,i){var r=e.getAttributeNode(i);return r||e.setAttributeNode(r=e.ownerDocument.createAttribute(i)),r.value=n+="","value"===i||n===e.getAttribute(i)?n:t}},w.expr.attrHandle.id=w.expr.attrHandle.name=w.expr.attrHandle.coords=function(e,n,i){var r;return i?t:(r=e.getAttributeNode(n))&&""!==r.value?r.value:null},w.valHooks.button={get:function(e,n){var i=e.getAttributeNode(n);return i&&i.specified?i.value:t},set:V.set},w.attrHooks.contenteditable={set:function(e,t,n){V.set(e,""===t?!1:t,n)}},w.each(["width","height"],function(e,n){w.attrHooks[n]={set:function(e,i){return""===i?(e.setAttribute(n,"auto"),i):t}}})),w.support.hrefNormalized||w.each(["href","src"],function(e,t){w.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),w.support.style||(w.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),w.support.optSelected||(w.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){w.propFix[this.toLowerCase()]=this}),w.support.enctype||(w.propFix.enctype="encoding"),w.each(["radio","checkbox"],function(){w.valHooks[this]={set:function(e,n){return w.isArray(n)?e.checked=w.inArray(w(e).val(),n)>=0:t}},w.support.checkOn||(w.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Z=/^(?:input|select|textarea)$/i,ee=/^key/,te=/^(?:mouse|contextmenu)|click/,ne=/^(?:focusinfocus|focusoutblur)$/,ie=/^([^.]*)(?:\.(.+)|)$/;function re(){return!0}function se(){return!1}function ae(){try{return a.activeElement}catch(e){}}w.event={global:{},add:function(e,n,i,s,a){var o,l,u,c,f,p,d,h,g,m,v,y=w._data(e);if(y){i.handler&&(c=i,i=c.handler,a=c.selector),i.guid||(i.guid=w.guid++),(l=y.events)||(l=y.events={}),(p=y.handle)||(p=y.handle=function(e){return typeof w===r||e&&w.event.triggered===e.type?t:w.event.dispatch.apply(p.elem,arguments)},p.elem=e),n=(n||"").match(_)||[""],u=n.length;while(u--)o=ie.exec(n[u])||[],g=v=o[1],m=(o[2]||"").split(".").sort(),g&&(f=w.event.special[g]||{},g=(a?f.delegateType:f.bindType)||g,f=w.event.special[g]||{},d=w.extend({type:g,origType:v,data:s,handler:i,guid:i.guid,selector:a,needsContext:a&&w.expr.match.needsContext.test(a),namespace:m.join(".")},c),(h=l[g])||(h=l[g]=[],h.delegateCount=0,f.setup&&f.setup.call(e,s,m,p)!==!1||(e.addEventListener?e.addEventListener(g,p,!1):e.attachEvent&&e.attachEvent("on"+g,p))),f.add&&(f.add.call(e,d),d.handler.guid||(d.handler.guid=i.guid)),a?h.splice(h.delegateCount++,0,d):h.push(d),w.event.global[g]=!0);e=null}},remove:function(e,t,n,i,r){var s,a,o,l,u,c,f,p,d,h,g,m=w.hasData(e)&&w._data(e);if(m&&(c=m.events)){t=(t||"").match(_)||[""],u=t.length;while(u--)if(o=ie.exec(t[u])||[],d=g=o[1],h=(o[2]||"").split(".").sort(),d){f=w.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,p=c[d]||[],o=o[2]&&RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=s=p.length;while(s--)a=p[s],!r&&g!==a.origType||n&&n.guid!==a.guid||o&&!o.test(a.namespace)||i&&i!==a.selector&&("**"!==i||!a.selector)||(p.splice(s,1),a.selector&&p.delegateCount--,f.remove&&f.remove.call(e,a));l&&!p.length&&(f.teardown&&f.teardown.call(e,h,m.handle)!==!1||w.removeEvent(e,d,m.handle),delete c[d])}else for(d in c)w.event.remove(e,d+t[u],n,i,!0);w.isEmptyObject(c)&&(delete m.handle,w._removeData(e,"events"))}},trigger:function(n,i,r,s){var o,l,u,c,f,p,d,h=[r||a],g=y.call(n,"type")?n.type:n,m=y.call(n,"namespace")?n.namespace.split("."):[];if(u=p=r=r||a,3!==r.nodeType&&8!==r.nodeType&&!ne.test(g+w.event.triggered)&&(g.indexOf(".")>=0&&(m=g.split("."),g=m.shift(),m.sort()),l=0>g.indexOf(":")&&"on"+g,n=n[w.expando]?n:new w.Event(g,"object"==typeof n&&n),n.isTrigger=s?2:3,n.namespace=m.join("."),n.namespace_re=n.namespace?RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=r),i=null==i?[n]:w.makeArray(i,[n]),f=w.event.special[g]||{},s||!f.trigger||f.trigger.apply(r,i)!==!1)){if(!s&&!f.noBubble&&!w.isWindow(r)){for(c=f.delegateType||g,ne.test(c+g)||(u=u.parentNode);u;u=u.parentNode)h.push(u),p=u;p===(r.ownerDocument||a)&&h.push(p.defaultView||p.parentWindow||e)}d=0;while((u=h[d++])&&!n.isPropagationStopped())n.type=d>1?c:f.bindType||g,o=(w._data(u,"events")||{})[n.type]&&w._data(u,"handle"),o&&o.apply(u,i),o=l&&u[l],o&&w.acceptData(u)&&o.apply&&o.apply(u,i)===!1&&n.preventDefault();if(n.type=g,!s&&!n.isDefaultPrevented()&&(!f._default||f._default.apply(h.pop(),i)===!1)&&w.acceptData(r)&&l&&r[g]&&!w.isWindow(r)){p=r[l],p&&(r[l]=null),w.event.triggered=g;try{r[g]()}catch(v){}w.event.triggered=t,p&&(r[l]=p)}return n.result}},dispatch:function(e){e=w.event.fix(e);var n,i,r,s,a,o=[],l=g.call(arguments),u=(w._data(this,"events")||{})[e.type]||[],c=w.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){o=w.event.handlers.call(this,e,u),n=0;while((s=o[n++])&&!e.isPropagationStopped()){e.currentTarget=s.elem,a=0;while((r=s.handlers[a++])&&!e.isImmediatePropagationStopped())(!e.namespace_re||e.namespace_re.test(r.namespace))&&(e.handleObj=r,e.data=r.data,i=((w.event.special[r.origType]||{}).handle||r.handler).apply(s.elem,l),i!==t&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,n){var i,r,s,a,o=[],l=n.delegateCount,u=e.target;if(l&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(u.disabled!==!0||"click"!==e.type)){for(s=[],a=0;l>a;a++)r=n[a],i=r.selector+" ",s[i]===t&&(s[i]=r.needsContext?w(i,this).index(u)>=0:w.find(i,this,null,[u]).length),s[i]&&s.push(r);s.length&&o.push({elem:u,handlers:s})}return n.length>l&&o.push({elem:this,handlers:n.slice(l)}),o},fix:function(e){if(e[w.expando])return e;var t,n,i,r=e.type,s=e,o=this.fixHooks[r];o||(this.fixHooks[r]=o=te.test(r)?this.mouseHooks:ee.test(r)?this.keyHooks:{}),i=o.props?this.props.concat(o.props):this.props,e=new w.Event(s),t=i.length;while(t--)n=i[t],e[n]=s[n];return e.target||(e.target=s.srcElement||a),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,o.filter?o.filter(e,s):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var i,r,s,o=n.button,l=n.fromElement;return null==e.pageX&&null!=n.clientX&&(r=e.target.ownerDocument||a,s=r.documentElement,i=r.body,e.pageX=n.clientX+(s&&s.scrollLeft||i&&i.scrollLeft||0)-(s&&s.clientLeft||i&&i.clientLeft||0),e.pageY=n.clientY+(s&&s.scrollTop||i&&i.scrollTop||0)-(s&&s.clientTop||i&&i.clientTop||0)),!e.relatedTarget&&l&&(e.relatedTarget=l===e.target?n.toElement:l),e.which||o===t||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ae()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===ae()&&this.blur?(this.blur(),!1):t},delegateType:"focusout"},click:{trigger:function(){return w.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):t},_default:function(e){return w.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var r=w.extend(new w.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?w.event.trigger(r,null,t):w.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},w.removeEvent=a.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var i="on"+t;e.detachEvent&&(typeof e[i]===r&&(e[i]=null),e.detachEvent(i,n))},w.Event=function(e,n){return this instanceof w.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?re:se):this.type=e,n&&w.extend(this,n),this.timeStamp=e&&e.timeStamp||w.now(),this[w.expando]=!0,t):new w.Event(e,n)},w.Event.prototype={isDefaultPrevented:se,isPropagationStopped:se,isImmediatePropagationStopped:se,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=re,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=re,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=re,this.stopPropagation()}},w.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){w.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,s=e.handleObj;return(!r||r!==i&&!w.contains(i,r))&&(e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t),n}}}),w.support.submitBubbles||(w.event.special.submit={setup:function(){return w.nodeName(this,"form")?!1:(w.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,i=w.nodeName(n,"input")||w.nodeName(n,"button")?n.form:t;i&&!w._data(i,"submitBubbles")&&(w.event.add(i,"submit._submit",function(e){e._submit_bubble=!0}),w._data(i,"submitBubbles",!0))}),t)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&w.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return w.nodeName(this,"form")?!1:(w.event.remove(this,"._submit"),t)}}),w.support.changeBubbles||(w.event.special.change={setup:function(){return Z.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(w.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),w.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),w.event.simulate("change",this,e,!0)})),!1):(w.event.add(this,"beforeactivate._change",function(e){var t=e.target;Z.test(t.nodeName)&&!w._data(t,"changeBubbles")&&(w.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||w.event.simulate("change",this.parentNode,e,!0)}),w._data(t,"changeBubbles",!0))}),t)},handle:function(e){var n=e.target;return this!==n||e.isSimulated||e.isTrigger||"radio"!==n.type&&"checkbox"!==n.type?e.handleObj.handler.apply(this,arguments):t},teardown:function(){return w.event.remove(this,"._change"),!Z.test(this.nodeName)}}),w.support.focusinBubbles||w.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,i=function(e){w.event.simulate(t,e.target,w.event.fix(e),!0)};w.event.special[t]={setup:function(){0===n++&&a.addEventListener(e,i,!0)},teardown:function(){0===--n&&a.removeEventListener(e,i,!0)}}}),w.fn.extend({on:function(e,n,i,r,s){var a,o;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=t);for(a in e)this.on(a,n,i,e[a],s);return this}if(null==i&&null==r?(r=n,i=n=t):null==r&&("string"==typeof n?(r=i,i=t):(r=i,i=n,n=t)),r===!1)r=se;else if(!r)return this;return 1===s&&(o=r,r=function(e){return w().off(e),o.apply(this,arguments)},r.guid=o.guid||(o.guid=w.guid++)),this.each(function(){w.event.add(this,e,r,i,n)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,n,i){var r,s;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,w(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(s in e)this.off(s,n,e[s]);return this}return(n===!1||"function"==typeof n)&&(i=n,n=t),i===!1&&(i=se),this.each(function(){w.event.remove(this,e,i,n)})},trigger:function(e,t){return this.each(function(){w.event.trigger(e,t,this)})},triggerHandler:function(e,n){var i=this[0];return i?w.event.trigger(e,n,i,!0):t}});var oe=/^.[^:#\[\.,]*$/,le=/^(?:parents|prev(?:Until|All))/,ue=w.expr.match.needsContext,ce={children:!0,contents:!0,next:!0,prev:!0};w.fn.extend({find:function(e){var t,n=[],i=this,r=i.length;if("string"!=typeof e)return this.pushStack(w(e).filter(function(){for(t=0;r>t;t++)if(w.contains(i[t],this))return!0}));for(t=0;r>t;t++)w.find(e,i[t],n);return n=this.pushStack(r>1?w.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},has:function(e){var t,n=w(e,this),i=n.length;return this.filter(function(){for(t=0;i>t;t++)if(w.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(pe(this,e||[],!0))},filter:function(e){return this.pushStack(pe(this,e||[],!1))},is:function(e){return!!pe(this,"string"==typeof e&&ue.test(e)?w(e):e||[],!1).length},closest:function(e,t){var n,i=0,r=this.length,s=[],a=ue.test(e)||"string"!=typeof e?w(e,t||this.context):0;for(;r>i;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(11>n.nodeType&&(a?a.index(n)>-1:1===n.nodeType&&w.find.matchesSelector(n,e))){n=s.push(n);break}return this.pushStack(s.length>1?w.unique(s):s)},index:function(e){return e?"string"==typeof e?w.inArray(this[0],w(e)):w.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?w(e,t):w.makeArray(e&&e.nodeType?[e]:e),i=w.merge(this.get(),n);return this.pushStack(w.unique(i))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}});function fe(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}w.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return w.dir(e,"parentNode")},parentsUntil:function(e,t,n){return w.dir(e,"parentNode",n)},next:function(e){return fe(e,"nextSibling")},prev:function(e){return fe(e,"previousSibling")},nextAll:function(e){return w.dir(e,"nextSibling")},prevAll:function(e){return w.dir(e,"previousSibling")},nextUntil:function(e,t,n){return w.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return w.dir(e,"previousSibling",n)},siblings:function(e){return w.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return w.sibling(e.firstChild)},contents:function(e){return w.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:w.merge([],e.childNodes)}},function(e,t){w.fn[e]=function(n,i){var r=w.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=w.filter(i,r)),this.length>1&&(ce[e]||(r=w.unique(r)),le.test(e)&&(r=r.reverse())),this.pushStack(r)}}),w.extend({filter:function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?w.find.matchesSelector(i,e)?[i]:[]:w.find.matches(e,w.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,n,i){var r=[],s=e[n];while(s&&9!==s.nodeType&&(i===t||1!==s.nodeType||!w(s).is(i)))1===s.nodeType&&r.push(s),s=s[n];return r},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});function pe(e,t,n){if(w.isFunction(t))return w.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return w.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(oe.test(t))return w.filter(t,e,n);t=w.filter(t,e)}return w.grep(e,function(e){return w.inArray(e,t)>=0!==n})}function de(e){var t=he.split("|"),n=e.createDocumentFragment();if(n.createElement)while(t.length)n.createElement(t.pop());return n}var he="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",ge=/ jQuery\d+="(?:null|\d+)"/g,me=RegExp("<(?:"+he+")[\\s/>]","i"),ve=/^\s+/,ye=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,be=/<([\w:]+)/,we=/<tbody/i,xe=/<|&#?\w+;/,_e=/<(?:script|style|link)/i,Se=/^(?:checkbox|radio)$/i,Ae=/checked\s*(?:[^=]|=\s*.checked.)/i,Te=/^$|\/(?:java|ecma)script/i,Ce=/^true\/(.*)/,ke=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Pe={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:w.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Ee=de(a),Ne=Ee.appendChild(a.createElement("div"));Pe.optgroup=Pe.option,Pe.tbody=Pe.tfoot=Pe.colgroup=Pe.caption=Pe.thead,Pe.th=Pe.td,w.fn.extend({text:function(e){return w.access(this,function(e){return e===t?w.text(this):this.empty().append((this[0]&&this[0].ownerDocument||a).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=je(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=je(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){var n,i=e?w.filter(e,this):this,r=0;for(;null!=(n=i[r]);r++)t||1!==n.nodeType||w.cleanData(Le(n)),n.parentNode&&(t&&w.contains(n.ownerDocument,n)&&Ie(Le(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){var e,t=0;for(;null!=(e=this[t]);t++){1===e.nodeType&&w.cleanData(Le(e,!1));while(e.firstChild)e.removeChild(e.firstChild);e.options&&w.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return w.clone(this,e,t)})},html:function(e){return w.access(this,function(e){var n=this[0]||{},i=0,r=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(ge,""):t;if(!("string"!=typeof e||_e.test(e)||!w.support.htmlSerialize&&me.test(e)||!w.support.leadingWhitespace&&ve.test(e)||Pe[(be.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(ye,"<$1></$2>");try{for(;r>i;i++)n=this[i]||{},1===n.nodeType&&(w.cleanData(Le(n,!1)),n.innerHTML=e);n=0}catch(s){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=w.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;return this.domManip(arguments,function(n){var i=e[t++],r=e[t++];r&&(i&&i.parentNode!==r&&(i=this.nextSibling),w(this).remove(),r.insertBefore(n,i))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){e=d.apply([],e);var i,r,s,a,o,l,u=0,c=this.length,f=this,p=c-1,h=e[0],g=w.isFunction(h);if(g||!(1>=c||"string"!=typeof h||w.support.checkClone)&&Ae.test(h))return this.each(function(i){var r=f.eq(i);g&&(e[0]=h.call(this,i,r.html())),r.domManip(e,t,n)});if(c&&(l=w.buildFragment(e,this[0].ownerDocument,!1,!n&&this),i=l.firstChild,1===l.childNodes.length&&(l=i),i)){for(a=w.map(Le(l,"script"),Me),s=a.length;c>u;u++)r=l,u!==p&&(r=w.clone(r,!0,!0),s&&w.merge(a,Le(r,"script"))),t.call(this[u],r,u);if(s)for(o=a[a.length-1].ownerDocument,w.map(a,De),u=0;s>u;u++)r=a[u],Te.test(r.type||"")&&!w._data(r,"globalEval")&&w.contains(o,r)&&(r.src?w._evalUrl(r.src):w.globalEval((r.text||r.textContent||r.innerHTML||"").replace(ke,"")));l=i=null}return this}});function je(e,t){return w.nodeName(e,"table")&&w.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function Me(e){return e.type=(null!==w.find.attr(e,"type"))+"/"+e.type,e}function De(e){var t=Ce.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function Ie(e,t){var n,i=0;for(;null!=(n=e[i]);i++)w._data(n,"globalEval",!t||w._data(t[i],"globalEval"))}function $e(e,t){if(1===t.nodeType&&w.hasData(e)){var n,i,r,s=w._data(e),a=w._data(t,s),o=s.events;if(o){delete a.handle,a.events={};for(n in o)for(i=0,r=o[n].length;r>i;i++)w.event.add(t,n,o[n][i])}a.data&&(a.data=w.extend({},a.data))}}function Oe(e,t){var n,i,r;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!w.support.noCloneEvent&&t[w.expando]){r=w._data(t);for(i in r.events)w.removeEvent(t,i,r.handle);t.removeAttribute(w.expando)}"script"===n&&t.text!==e.text?(Me(t).text=e.text,De(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),w.support.html5Clone&&e.innerHTML&&!w.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Se.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){w.fn[e]=function(e){var n,i=0,r=[],s=w(e),a=s.length-1;for(;a>=i;i++)n=i===a?this:this.clone(!0),w(s[i])[t](n),h.apply(r,n.get());return this.pushStack(r)}});function Le(e,n){var i,s,a=0,o=typeof e.getElementsByTagName!==r?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!==r?e.querySelectorAll(n||"*"):t;if(!o)for(o=[],i=e.childNodes||e;null!=(s=i[a]);a++)!n||w.nodeName(s,n)?o.push(s):w.merge(o,Le(s,n));return n===t||n&&w.nodeName(e,n)?w.merge([e],o):o}function Re(e){Se.test(e.type)&&(e.defaultChecked=e.checked)}w.extend({clone:function(e,t,n){var i,r,s,a,o,l=w.contains(e.ownerDocument,e);if(w.support.html5Clone||w.isXMLDoc(e)||!me.test("<"+e.nodeName+">")?s=e.cloneNode(!0):(Ne.innerHTML=e.outerHTML,Ne.removeChild(s=Ne.firstChild)),!(w.support.noCloneEvent&&w.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||w.isXMLDoc(e)))for(i=Le(s),o=Le(e),a=0;null!=(r=o[a]);++a)i[a]&&Oe(r,i[a]);if(t)if(n)for(o=o||Le(e),i=i||Le(s),a=0;null!=(r=o[a]);a++)$e(r,i[a]);else $e(e,s);return i=Le(s,"script"),i.length>0&&Ie(i,!l&&Le(e,"script")),i=o=r=null,s},buildFragment:function(e,t,n,i){var r,s,a,o,l,u,c,f=e.length,p=de(t),d=[],h=0;for(;f>h;h++)if(s=e[h],s||0===s)if("object"===w.type(s))w.merge(d,s.nodeType?[s]:s);else if(xe.test(s)){o=o||p.appendChild(t.createElement("div")),l=(be.exec(s)||["",""])[1].toLowerCase(),c=Pe[l]||Pe._default,o.innerHTML=c[1]+s.replace(ye,"<$1></$2>")+c[2],r=c[0];while(r--)o=o.lastChild;if(!w.support.leadingWhitespace&&ve.test(s)&&d.push(t.createTextNode(ve.exec(s)[0])),!w.support.tbody){s="table"!==l||we.test(s)?"<table>"!==c[1]||we.test(s)?0:o:o.firstChild,r=s&&s.childNodes.length;while(r--)w.nodeName(u=s.childNodes[r],"tbody")&&!u.childNodes.length&&s.removeChild(u)}w.merge(d,o.childNodes),o.textContent="";while(o.firstChild)o.removeChild(o.firstChild);o=p.lastChild}else d.push(t.createTextNode(s));o&&p.removeChild(o),w.support.appendChecked||w.grep(Le(d,"input"),Re),h=0;while(s=d[h++])if((!i||-1===w.inArray(s,i))&&(a=w.contains(s.ownerDocument,s),o=Le(p.appendChild(s),"script"),a&&Ie(o),n)){r=0;while(s=o[r++])Te.test(s.type||"")&&n.push(s)}return o=null,p},cleanData:function(e,t){var n,i,s,a,o=0,l=w.expando,u=w.cache,c=w.support.deleteExpando,p=w.event.special;for(;null!=(n=e[o]);o++)if((t||w.acceptData(n))&&(s=n[l],a=s&&u[s])){if(a.events)for(i in a.events)p[i]?w.event.remove(n,i):w.removeEvent(n,i,a.handle);
u[s]&&(delete u[s],c?delete n[l]:typeof n.removeAttribute!==r?n.removeAttribute(l):n[l]=null,f.push(s))}},_evalUrl:function(e){return w.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),w.fn.extend({wrapAll:function(e){if(w.isFunction(e))return this.each(function(t){w(this).wrapAll(e.call(this,t))});if(this[0]){var t=w(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&&1===e.firstChild.nodeType)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return w.isFunction(e)?this.each(function(t){w(this).wrapInner(e.call(this,t))}):this.each(function(){var t=w(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=w.isFunction(e);return this.each(function(n){w(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){w.nodeName(this,"body")||w(this).replaceWith(this.childNodes)}).end()}});var Be,Fe,ze,He=/alpha\([^)]*\)/i,Ue=/opacity\s*=\s*([^)]*)/,Ve=/^(top|right|bottom|left)$/,qe=/^(none|table(?!-c[ea]).+)/,We=/^margin/,Je=RegExp("^("+x+")(.*)$","i"),Ye=RegExp("^("+x+")(?!px)[a-z%]+$","i"),Xe=RegExp("^([+-])=("+x+")","i"),Ge={BODY:"block"},Ke={position:"absolute",visibility:"hidden",display:"block"},Qe={letterSpacing:0,fontWeight:400},Ze=["Top","Right","Bottom","Left"],et=["Webkit","O","Moz","ms"];function tt(e,t){if(t in e)return t;var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,r=et.length;while(r--)if(t=et[r]+n,t in e)return t;return i}function nt(e,t){return e=t||e,"none"===w.css(e,"display")||!w.contains(e.ownerDocument,e)}function it(e,t){var n,i,r,s=[],a=0,o=e.length;for(;o>a;a++)i=e[a],i.style&&(s[a]=w._data(i,"olddisplay"),n=i.style.display,t?(s[a]||"none"!==n||(i.style.display=""),""===i.style.display&&nt(i)&&(s[a]=w._data(i,"olddisplay",ot(i.nodeName)))):s[a]||(r=nt(i),(n&&"none"!==n||!r)&&w._data(i,"olddisplay",r?n:w.css(i,"display"))));for(a=0;o>a;a++)i=e[a],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?s[a]||"":"none"));return e}w.fn.extend({css:function(e,n){return w.access(this,function(e,n,i){var r,s,a={},o=0;if(w.isArray(n)){for(s=Fe(e),r=n.length;r>o;o++)a[n[o]]=w.css(e,n[o],!1,s);return a}return i!==t?w.style(e,n,i):w.css(e,n)},e,n,arguments.length>1)},show:function(){return it(this,!0)},hide:function(){return it(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){nt(this)?w(this).show():w(this).hide()})}}),w.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=ze(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":w.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,i,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var s,a,o,l=w.camelCase(n),u=e.style;if(n=w.cssProps[l]||(w.cssProps[l]=tt(u,l)),o=w.cssHooks[n]||w.cssHooks[l],i===t)return o&&"get"in o&&(s=o.get(e,!1,r))!==t?s:u[n];if(a=typeof i,"string"===a&&(s=Xe.exec(i))&&(i=(s[1]+1)*s[2]+parseFloat(w.css(e,n)),a="number"),!(null==i||"number"===a&&isNaN(i)||("number"!==a||w.cssNumber[l]||(i+="px"),w.support.clearCloneStyle||""!==i||0!==n.indexOf("background")||(u[n]="inherit"),o&&"set"in o&&(i=o.set(e,i,r))===t)))try{u[n]=i}catch(c){}}},css:function(e,n,i,r){var s,a,o,l=w.camelCase(n);return n=w.cssProps[l]||(w.cssProps[l]=tt(e.style,l)),o=w.cssHooks[n]||w.cssHooks[l],o&&"get"in o&&(a=o.get(e,!0,i)),a===t&&(a=ze(e,n,r)),"normal"===a&&n in Qe&&(a=Qe[n]),""===i||i?(s=parseFloat(a),i===!0||w.isNumeric(s)?s||0:a):a}}),e.getComputedStyle?(Fe=function(t){return e.getComputedStyle(t,null)},ze=function(e,n,i){var r,s,a,o=i||Fe(e),l=o?o.getPropertyValue(n)||o[n]:t,u=e.style;return o&&(""!==l||w.contains(e.ownerDocument,e)||(l=w.style(e,n)),Ye.test(l)&&We.test(n)&&(r=u.width,s=u.minWidth,a=u.maxWidth,u.minWidth=u.maxWidth=u.width=l,l=o.width,u.width=r,u.minWidth=s,u.maxWidth=a)),l}):a.documentElement.currentStyle&&(Fe=function(e){return e.currentStyle},ze=function(e,n,i){var r,s,a,o=i||Fe(e),l=o?o[n]:t,u=e.style;return null==l&&u&&u[n]&&(l=u[n]),Ye.test(l)&&!Ve.test(n)&&(r=u.left,s=e.runtimeStyle,a=s&&s.left,a&&(s.left=e.currentStyle.left),u.left="fontSize"===n?"1em":l,l=u.pixelLeft+"px",u.left=r,a&&(s.left=a)),""===l?"auto":l});function rt(e,t,n){var i=Je.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function st(e,t,n,i,r){var s=n===(i?"border":"content")?4:"width"===t?1:0,a=0;for(;4>s;s+=2)"margin"===n&&(a+=w.css(e,n+Ze[s],!0,r)),i?("content"===n&&(a-=w.css(e,"padding"+Ze[s],!0,r)),"margin"!==n&&(a-=w.css(e,"border"+Ze[s]+"Width",!0,r))):(a+=w.css(e,"padding"+Ze[s],!0,r),"padding"!==n&&(a+=w.css(e,"border"+Ze[s]+"Width",!0,r)));return a}function at(e,t,n){var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,s=Fe(e),a=w.support.boxSizing&&"border-box"===w.css(e,"boxSizing",!1,s);if(0>=r||null==r){if(r=ze(e,t,s),(0>r||null==r)&&(r=e.style[t]),Ye.test(r))return r;i=a&&(w.support.boxSizingReliable||r===e.style[t]),r=parseFloat(r)||0}return r+st(e,t,n||(a?"border":"content"),i,s)+"px"}function ot(e){var t=a,n=Ge[e];return n||(n=lt(e,t),"none"!==n&&n||(Be=(Be||w("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(Be[0].contentWindow||Be[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=lt(e,t),Be.detach()),Ge[e]=n),n}function lt(e,t){var n=w(t.createElement(e)).appendTo(t.body),i=w.css(n[0],"display");return n.remove(),i}w.each(["height","width"],function(e,n){w.cssHooks[n]={get:function(e,i,r){return i?0===e.offsetWidth&&qe.test(w.css(e,"display"))?w.swap(e,Ke,function(){return at(e,n,r)}):at(e,n,r):t},set:function(e,t,i){var r=i&&Fe(e);return rt(e,t,i?st(e,n,i,w.support.boxSizing&&"border-box"===w.css(e,"boxSizing",!1,r),r):0)}}}),w.support.opacity||(w.cssHooks.opacity={get:function(e,t){return Ue.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,r=w.isNumeric(t)?"alpha(opacity="+100*t+")":"",s=i&&i.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===w.trim(s.replace(He,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||i&&!i.filter)||(n.filter=He.test(s)?s.replace(He,r):s+" "+r)}}),w(function(){w.support.reliableMarginRight||(w.cssHooks.marginRight={get:function(e,n){return n?w.swap(e,{display:"inline-block"},ze,[e,"marginRight"]):t}}),!w.support.pixelPosition&&w.fn.position&&w.each(["top","left"],function(e,n){w.cssHooks[n]={get:function(e,i){return i?(i=ze(e,n),Ye.test(i)?w(e).position()[n]+"px":i):t}}})}),w.expr&&w.expr.filters&&(w.expr.filters.hidden=function(e){return 0>=e.offsetWidth&&0>=e.offsetHeight||!w.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||w.css(e,"display"))},w.expr.filters.visible=function(e){return!w.expr.filters.hidden(e)}),w.each({margin:"",padding:"",border:"Width"},function(e,t){w.cssHooks[e+t]={expand:function(n){var i=0,r={},s="string"==typeof n?n.split(" "):[n];for(;4>i;i++)r[e+Ze[i]+t]=s[i]||s[i-2]||s[0];return r}},We.test(e)||(w.cssHooks[e+t].set=rt)});var ut=/%20/g,ct=/\[\]$/,ft=/\r?\n/g,pt=/^(?:submit|button|image|reset|file)$/i,dt=/^(?:input|select|textarea|keygen)/i;w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=w.prop(this,"elements");return e?w.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!w(this).is(":disabled")&&dt.test(this.nodeName)&&!pt.test(e)&&(this.checked||!Se.test(e))}).map(function(e,t){var n=w(this).val();return null==n?null:w.isArray(n)?w.map(n,function(e){return{name:t.name,value:e.replace(ft,"\r\n")}}):{name:t.name,value:n.replace(ft,"\r\n")}}).get()}}),w.param=function(e,n){var i,r=[],s=function(e,t){t=w.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=w.ajaxSettings&&w.ajaxSettings.traditional),w.isArray(e)||e.jquery&&!w.isPlainObject(e))w.each(e,function(){s(this.name,this.value)});else for(i in e)ht(i,e[i],n,s);return r.join("&").replace(ut,"+")};function ht(e,t,n,i){var r;if(w.isArray(t))w.each(t,function(t,r){n||ct.test(e)?i(e,r):ht(e+"["+("object"==typeof r?t:"")+"]",r,n,i)});else if(n||"object"!==w.type(t))i(e,t);else for(r in t)ht(e+"["+r+"]",t[r],n,i)}w.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){w.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),w.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var gt,mt,vt=w.now(),yt=/\?/,bt=/#.*$/,wt=/([?&])_=[^&]*/,xt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,_t=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,St=/^(?:GET|HEAD)$/,At=/^\/\//,Tt=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Ct=w.fn.load,kt={},Pt={},Et="*/".concat("*");try{mt=s.href}catch(Nt){mt=a.createElement("a"),mt.href="",mt=mt.href}gt=Tt.exec(mt.toLowerCase())||[];function jt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,s=t.toLowerCase().match(_)||[];if(w.isFunction(n))while(i=s[r++])"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function Mt(e,n,i,r){var s={},a=e===Pt;function o(l){var u;return s[l]=!0,w.each(e[l]||[],function(e,l){var c=l(n,i,r);return"string"!=typeof c||a||s[c]?a?!(u=c):t:(n.dataTypes.unshift(c),o(c),!1)}),u}return o(n.dataTypes[0])||!s["*"]&&o("*")}function Dt(e,n){var i,r,s=w.ajaxSettings.flatOptions||{};for(r in n)n[r]!==t&&((s[r]?e:i||(i={}))[r]=n[r]);return i&&w.extend(!0,e,i),e}w.fn.load=function(e,n,i){if("string"!=typeof e&&Ct)return Ct.apply(this,arguments);var r,s,a,o=this,l=e.indexOf(" ");return l>=0&&(r=e.slice(l,e.length),e=e.slice(0,l)),w.isFunction(n)?(i=n,n=t):n&&"object"==typeof n&&(a="POST"),o.length>0&&w.ajax({url:e,type:a,dataType:"html",data:n}).done(function(e){s=arguments,o.html(r?w("<div>").append(w.parseHTML(e)).find(r):e)}).complete(i&&function(e,t){o.each(i,s||[e.responseText,t,e])}),this},w.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){w.fn[t]=function(e){return this.on(t,e)}}),w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:mt,type:"GET",isLocal:_t.test(gt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Et,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":w.parseJSON,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Dt(Dt(e,w.ajaxSettings),t):Dt(w.ajaxSettings,e)},ajaxPrefilter:jt(kt),ajaxTransport:jt(Pt),ajax:function(e,n){"object"==typeof e&&(n=e,e=t),n=n||{};var i,r,s,a,o,l,u,c,f=w.ajaxSetup({},n),p=f.context||f,d=f.context&&(p.nodeType||p.jquery)?w(p):w.event,h=w.Deferred(),g=w.Callbacks("once memory"),m=f.statusCode||{},v={},y={},b=0,x="canceled",S={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!c){c={};while(t=xt.exec(a))c[t[1].toLowerCase()]=t[2]}t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return b||(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)m[t]=[m[t],e[t]];else S.always(e[S.status]);return this},abort:function(e){var t=e||x;return u&&u.abort(t),T(0,t),this}};if(h.promise(S).complete=g.add,S.success=S.done,S.error=S.fail,f.url=((e||f.url||mt)+"").replace(bt,"").replace(At,gt[1]+"//"),f.type=n.method||n.type||f.method||f.type,f.dataTypes=w.trim(f.dataType||"*").toLowerCase().match(_)||[""],null==f.crossDomain&&(i=Tt.exec(f.url.toLowerCase()),f.crossDomain=!(!i||i[1]===gt[1]&&i[2]===gt[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(gt[3]||("http:"===gt[1]?"80":"443")))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=w.param(f.data,f.traditional)),Mt(kt,f,n,S),2===b)return S;l=f.global,l&&0===w.active++&&w.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!St.test(f.type),s=f.url,f.hasContent||(f.data&&(s=f.url+=(yt.test(s)?"&":"?")+f.data,delete f.data),f.cache===!1&&(f.url=wt.test(s)?s.replace(wt,"$1_="+vt++):s+(yt.test(s)?"&":"?")+"_="+vt++)),f.ifModified&&(w.lastModified[s]&&S.setRequestHeader("If-Modified-Since",w.lastModified[s]),w.etag[s]&&S.setRequestHeader("If-None-Match",w.etag[s])),(f.data&&f.hasContent&&f.contentType!==!1||n.contentType)&&S.setRequestHeader("Content-Type",f.contentType),S.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Et+"; q=0.01":""):f.accepts["*"]);for(r in f.headers)S.setRequestHeader(r,f.headers[r]);if(f.beforeSend&&(f.beforeSend.call(p,S,f)===!1||2===b))return S.abort();x="abort";for(r in{success:1,error:1,complete:1})S[r](f[r]);if(u=Mt(Pt,f,n,S)){S.readyState=1,l&&d.trigger("ajaxSend",[S,f]),f.async&&f.timeout>0&&(o=setTimeout(function(){S.abort("timeout")},f.timeout));try{b=1,u.send(v,T)}catch(A){if(!(2>b))throw A;T(-1,A)}}else T(-1,"No Transport");function T(e,n,i,r){var c,v,y,x,_,A=n;2!==b&&(b=2,o&&clearTimeout(o),u=t,a=r||"",S.readyState=e>0?4:0,c=e>=200&&300>e||304===e,i&&(x=It(f,S,i)),x=$t(f,x,S,c),c?(f.ifModified&&(_=S.getResponseHeader("Last-Modified"),_&&(w.lastModified[s]=_),_=S.getResponseHeader("etag"),_&&(w.etag[s]=_)),204===e||"HEAD"===f.type?A="nocontent":304===e?A="notmodified":(A=x.state,v=x.data,y=x.error,c=!y)):(y=A,(e||!A)&&(A="error",0>e&&(e=0))),S.status=e,S.statusText=(n||A)+"",c?h.resolveWith(p,[v,A,S]):h.rejectWith(p,[S,A,y]),S.statusCode(m),m=t,l&&d.trigger(c?"ajaxSuccess":"ajaxError",[S,f,c?v:y]),g.fireWith(p,[S,A]),l&&(d.trigger("ajaxComplete",[S,f]),--w.active||w.event.trigger("ajaxStop")))}return S},getJSON:function(e,t,n){return w.get(e,t,n,"json")},getScript:function(e,n){return w.get(e,t,n,"script")}}),w.each(["get","post"],function(e,n){w[n]=function(e,i,r,s){return w.isFunction(i)&&(s=s||r,r=i,i=t),w.ajax({url:e,type:n,dataType:s,data:i,success:r})}});function It(e,n,i){var r,s,a,o,l=e.contents,u=e.dataTypes;while("*"===u[0])u.shift(),s===t&&(s=e.mimeType||n.getResponseHeader("Content-Type"));if(s)for(o in l)if(l[o]&&l[o].test(s)){u.unshift(o);break}if(u[0]in i)a=u[0];else{for(o in i){if(!u[0]||e.converters[o+" "+u[0]]){a=o;break}r||(r=o)}a=a||r}return a?(a!==u[0]&&u.unshift(a),i[a]):t}function $t(e,t,n,i){var r,s,a,o,l,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];s=c.shift();while(s)if(e.responseFields[s]&&(n[e.responseFields[s]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=s,s=c.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(a=u[l+" "+s]||u["* "+s],!a)for(r in u)if(o=r.split(" "),o[1]===s&&(a=u[l+" "+o[0]]||u["* "+o[0]])){a===!0?a=u[r]:u[r]!==!0&&(s=o[0],c.unshift(o[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(f){return{state:"parsererror",error:a?f:"No conversion from "+l+" to "+s}}}return{state:"success",data:t}}w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return w.globalEval(e),e}}}),w.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),w.ajaxTransport("script",function(e){if(e.crossDomain){var n,i=a.head||w("head")[0]||a.documentElement;return{send:function(t,r){n=a.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||r(200,"success"))},i.insertBefore(n,i.firstChild)},abort:function(){n&&n.onload(t,!0)}}}});var Ot=[],Lt=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Ot.pop()||w.expando+"_"+vt++;return this[e]=!0,e}}),w.ajaxPrefilter("json jsonp",function(n,i,r){var s,a,o,l=n.jsonp!==!1&&(Lt.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Lt.test(n.data)&&"data");return l||"jsonp"===n.dataTypes[0]?(s=n.jsonpCallback=w.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,l?n[l]=n[l].replace(Lt,"$1"+s):n.jsonp!==!1&&(n.url+=(yt.test(n.url)?"&":"?")+n.jsonp+"="+s),n.converters["script json"]=function(){return o||w.error(s+" was not called"),o[0]},n.dataTypes[0]="json",a=e[s],e[s]=function(){o=arguments},r.always(function(){e[s]=a,n[s]&&(n.jsonpCallback=i.jsonpCallback,Ot.push(s)),o&&w.isFunction(a)&&a(o[0]),o=a=t}),"script"):t});var Rt,Bt,Ft=0,zt=e.ActiveXObject&&function(){var e;for(e in Rt)Rt[e](t,!0)};function Ht(){try{return new e.XMLHttpRequest}catch(t){}}function Ut(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}w.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&Ht()||Ut()}:Ht,Bt=w.ajaxSettings.xhr(),w.support.cors=!!Bt&&"withCredentials"in Bt,Bt=w.support.ajax=!!Bt,Bt&&w.ajaxTransport(function(n){if(!n.crossDomain||w.support.cors){var i;return{send:function(r,s){var a,o,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(o in n.xhrFields)l[o]=n.xhrFields[o];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");try{for(o in r)l.setRequestHeader(o,r[o])}catch(u){}l.send(n.hasContent&&n.data||null),i=function(e,r){var o,u,c,f;try{if(i&&(r||4===l.readyState))if(i=t,a&&(l.onreadystatechange=w.noop,zt&&delete Rt[a]),r)4!==l.readyState&&l.abort();else{f={},o=l.status,u=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(f.text=l.responseText);try{c=l.statusText}catch(p){c=""}o||!n.isLocal||n.crossDomain?1223===o&&(o=204):o=f.text?200:404}}catch(d){r||s(-1,d)}f&&s(o,c,f,u)},n.async?4===l.readyState?setTimeout(i):(a=++Ft,zt&&(Rt||(Rt={},w(e).unload(zt)),Rt[a]=i),l.onreadystatechange=i):i()},abort:function(){i&&i(t,!0)}}}});var Vt,qt,Wt=/^(?:toggle|show|hide)$/,Jt=RegExp("^(?:([+-])=|)("+x+")([a-z%]*)$","i"),Yt=/queueHooks$/,Xt=[tn],Gt={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),r=Jt.exec(t),s=r&&r[3]||(w.cssNumber[e]?"":"px"),a=(w.cssNumber[e]||"px"!==s&&+i)&&Jt.exec(w.css(n.elem,e)),o=1,l=20;if(a&&a[3]!==s){s=s||a[3],r=r||[],a=+i||1;do o=o||".5",a/=o,w.style(n.elem,e,a+s);while(o!==(o=n.cur()/i)&&1!==o&&--l)}return r&&(a=n.start=+a||+i||0,n.unit=s,n.end=r[1]?a+(r[1]+1)*r[2]:+r[2]),n}]};function Kt(){return setTimeout(function(){Vt=t}),Vt=w.now()}function Qt(e,t,n){var i,r=(Gt[t]||[]).concat(Gt["*"]),s=0,a=r.length;for(;a>s;s++)if(i=r[s].call(n,t,e))return i}function Zt(e,t,n){var i,r,s=0,a=Xt.length,o=w.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;var t=Vt||Kt(),n=Math.max(0,u.startTime+u.duration-t),i=n/u.duration||0,s=1-i,a=0,l=u.tweens.length;for(;l>a;a++)u.tweens[a].run(s);return o.notifyWith(e,[u,s,n]),1>s&&l?n:(o.resolveWith(e,[u]),!1)},u=o.promise({elem:e,props:w.extend({},t),opts:w.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Vt||Kt(),duration:n.duration,tweens:[],createTween:function(t,n){var i=w.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(i),i},stop:function(t){var n=0,i=t?u.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)u.tweens[n].run(1);return t?o.resolveWith(e,[u,t]):o.rejectWith(e,[u,t]),this}}),c=u.props;for(en(c,u.opts.specialEasing);a>s;s++)if(i=Xt[s].call(u,e,c,u.opts))return i;return w.map(c,Qt,u),w.isFunction(u.opts.start)&&u.opts.start.call(e,u),w.fx.timer(w.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function en(e,t){var n,i,r,s,a;for(n in e)if(i=w.camelCase(n),r=t[i],s=e[n],w.isArray(s)&&(r=s[1],s=e[n]=s[0]),n!==i&&(e[i]=s,delete e[n]),a=w.cssHooks[i],a&&"expand"in a){s=a.expand(s),delete e[i];for(n in s)n in e||(e[n]=s[n],t[n]=r)}else t[i]=r}w.Animation=w.extend(Zt,{tweener:function(e,t){w.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,i=0,r=e.length;for(;r>i;i++)n=e[i],Gt[n]=Gt[n]||[],Gt[n].unshift(t)},prefilter:function(e,t){t?Xt.unshift(e):Xt.push(e)}});function tn(e,t,n){var i,r,s,a,o,l,u=this,c={},f=e.style,p=e.nodeType&&nt(e),d=w._data(e,"fxshow");n.queue||(o=w._queueHooks(e,"fx"),null==o.unqueued&&(o.unqueued=0,l=o.empty.fire,o.empty.fire=function(){o.unqueued||l()}),o.unqueued++,u.always(function(){u.always(function(){o.unqueued--,w.queue(e,"fx").length||o.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],"inline"===w.css(e,"display")&&"none"===w.css(e,"float")&&(w.support.inlineBlockNeedsLayout&&"inline"!==ot(e.nodeName)?f.zoom=1:f.display="inline-block")),n.overflow&&(f.overflow="hidden",w.support.shrinkWrapBlocks||u.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(i in t)if(r=t[i],Wt.exec(r)){if(delete t[i],s=s||"toggle"===r,r===(p?"hide":"show"))continue;c[i]=d&&d[i]||w.style(e,i)}if(!w.isEmptyObject(c)){d?"hidden"in d&&(p=d.hidden):d=w._data(e,"fxshow",{}),s&&(d.hidden=!p),p?w(e).show():u.done(function(){w(e).hide()}),u.done(function(){var t;w._removeData(e,"fxshow");for(t in c)w.style(e,t,c[t])});for(i in c)a=Qt(p?d[i]:0,i,u),i in d||(d[i]=a.start,p&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}}function nn(e,t,n,i,r){return new nn.prototype.init(e,t,n,i,r)}w.Tween=nn,nn.prototype={constructor:nn,init:function(e,t,n,i,r,s){this.elem=e,this.prop=n,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=s||(w.cssNumber[n]?"":"px")},cur:function(){var e=nn.propHooks[this.prop];return e&&e.get?e.get(this):nn.propHooks._default.get(this)},run:function(e){var t,n=nn.propHooks[this.prop];return this.pos=t=this.options.duration?w.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):nn.propHooks._default.set(this),this}},nn.prototype.init.prototype=nn.prototype,nn.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=w.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){w.fx.step[e.prop]?w.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[w.cssProps[e.prop]]||w.cssHooks[e.prop])?w.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},nn.propHooks.scrollTop=nn.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},w.each(["toggle","show","hide"],function(e,t){var n=w.fn[t];w.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(rn(t,!0),e,i,r)}}),w.fn.extend({fadeTo:function(e,t,n,i){return this.filter(nt).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=w.isEmptyObject(e),s=w.speed(t,n,i),a=function(){var t=Zt(this,w.extend({},e),s);(r||w._data(this,"finish"))&&t.stop(!0)};return a.finish=a,r||s.queue===!1?this.each(a):this.queue(s.queue,a)},stop:function(e,n,i){var r=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",s=w.timers,a=w._data(this);if(n)a[n]&&a[n].stop&&r(a[n]);else for(n in a)a[n]&&a[n].stop&&Yt.test(n)&&r(a[n]);for(n=s.length;n--;)s[n].elem!==this||null!=e&&s[n].queue!==e||(s[n].anim.stop(i),t=!1,s.splice(n,1));(t||!i)&&w.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=w._data(this),i=n[e+"queue"],r=n[e+"queueHooks"],s=w.timers,a=i?i.length:0;for(n.finish=!0,w.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;a>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}});function rn(e,t){var n,i={height:e},r=0;for(t=t?1:0;4>r;r+=2-t)n=Ze[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}w.each({slideDown:rn("show"),slideUp:rn("hide"),slideToggle:rn("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){w.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),w.speed=function(e,t,n){var i=e&&"object"==typeof e?w.extend({},e):{complete:n||!n&&t||w.isFunction(e)&&e,duration:e,easing:n&&t||t&&!w.isFunction(t)&&t};return i.duration=w.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in w.fx.speeds?w.fx.speeds[i.duration]:w.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){w.isFunction(i.old)&&i.old.call(this),i.queue&&w.dequeue(this,i.queue)},i},w.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},w.timers=[],w.fx=nn.prototype.init,w.fx.tick=function(){var e,n=w.timers,i=0;for(Vt=w.now();n.length>i;i++)e=n[i],e()||n[i]!==e||n.splice(i--,1);n.length||w.fx.stop(),Vt=t},w.fx.timer=function(e){e()&&w.timers.push(e)&&w.fx.start()},w.fx.interval=13,w.fx.start=function(){qt||(qt=setInterval(w.fx.tick,w.fx.interval))},w.fx.stop=function(){clearInterval(qt),qt=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fx.step={},w.expr&&w.expr.filters&&(w.expr.filters.animated=function(e){return w.grep(w.timers,function(t){return e===t.elem}).length}),w.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){w.offset.setOffset(this,e,t)});var n,i,s={top:0,left:0},a=this[0],o=a&&a.ownerDocument;if(o)return n=o.documentElement,w.contains(n,a)?(typeof a.getBoundingClientRect!==r&&(s=a.getBoundingClientRect()),i=sn(o),{top:s.top+(i.pageYOffset||n.scrollTop)-(n.clientTop||0),left:s.left+(i.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):s},w.offset={setOffset:function(e,t,n){var i=w.css(e,"position");"static"===i&&(e.style.position="relative");var r=w(e),s=r.offset(),a=w.css(e,"top"),o=w.css(e,"left"),l=("absolute"===i||"fixed"===i)&&w.inArray("auto",[a,o])>-1,u={},c={},f,p;l?(c=r.position(),f=c.top,p=c.left):(f=parseFloat(a)||0,p=parseFloat(o)||0),w.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(u.top=t.top-s.top+f),null!=t.left&&(u.left=t.left-s.left+p),"using"in t?t.using.call(e,u):r.css(u)}},w.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},i=this[0];return"fixed"===w.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),w.nodeName(e[0],"html")||(n=e.offset()),n.top+=w.css(e[0],"borderTopWidth",!0),n.left+=w.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-w.css(i,"marginTop",!0),left:t.left-n.left-w.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||o;while(e&&!w.nodeName(e,"html")&&"static"===w.css(e,"position"))e=e.offsetParent;return e||o})}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var i=/Y/.test(n);w.fn[e]=function(r){return w.access(this,function(e,r,s){var a=sn(e);return s===t?a?n in a?a[n]:a.document.documentElement[r]:e[r]:(a?a.scrollTo(i?w(a).scrollLeft():s,i?s:w(a).scrollTop()):e[r]=s,t)},e,r,arguments.length,null)}});function sn(e){return w.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}w.each({Height:"height",Width:"width"},function(e,n){w.each({padding:"inner"+e,content:n,"":"outer"+e},function(i,r){w.fn[r]=function(r,s){var a=arguments.length&&(i||"boolean"!=typeof r),o=i||(r===!0||s===!0?"margin":"border");return w.access(this,function(n,i,r){var s;return w.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(s=n.documentElement,Math.max(n.body["scroll"+e],s["scroll"+e],n.body["offset"+e],s["offset"+e],s["client"+e])):r===t?w.css(n,i,o):w.style(n,i,r,o)},n,a?r:t,a,null)}})}),w.fn.size=function(){return this.length},w.fn.andSelf=w.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=w:(e.jQuery=e.$=w,"function"==typeof define&&define.amd&&define("jquery",[],function(){return w}))})(window);+function(e){"use strict";var t=function(t,n){this.options=n;this.$body=e(document.body);this.$element=e(t);this.$dialog=this.$element.find(".modal-dialog");this.$backdrop=null;this.isShown=null;this.originalBodyPad=null;this.scrollbarWidth=0;this.ignoreBackdropClick=false;if(this.options.remote){this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))}};t.VERSION="3.3.4";t.TRANSITION_DURATION=300;t.BACKDROP_TRANSITION_DURATION=150;t.DEFAULTS={backdrop:true,keyboard:true,show:true};t.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)};t.prototype.show=function(n){var i=this;var r=e.Event("show.bs.modal",{relatedTarget:n});this.$element.trigger(r);if(this.isShown||r.isDefaultPrevented())return;this.isShown=true;this.checkScrollbar();this.setScrollbar();this.$body.addClass("modal-open");this.escape();this.resize();this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this));this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(t){if(e(t.target).is(i.$element))i.ignoreBackdropClick=true})});this.backdrop(function(){var r=e.support.transition&&i.$element.hasClass("fade");if(!i.$element.parent().length){i.$element.appendTo(i.$body)}i.$element.show().scrollTop(0);i.adjustDialog();if(r){i.$element[0].offsetWidth}i.$element.addClass("in").attr("aria-hidden",false);i.enforceFocus();var s=e.Event("shown.bs.modal",{relatedTarget:n});r?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(s)}).emulateTransitionEnd(t.TRANSITION_DURATION):i.$element.trigger("focus").trigger(s)})};t.prototype.hide=function(n){if(n)n.preventDefault();n=e.Event("hide.bs.modal");this.$element.trigger(n);if(!this.isShown||n.isDefaultPrevented())return;this.isShown=false;this.escape();this.resize();e(document).off("focusin.bs.modal");this.$element.removeClass("in").attr("aria-hidden",true).off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal");this.$dialog.off("mousedown.dismiss.bs.modal");e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(t.TRANSITION_DURATION):this.hideModal()};t.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){if(this.$element[0]!==e.target&&!this.$element.has(e.target).length){this.$element.trigger("focus")}},this))};t.prototype.escape=function(){if(this.isShown&&this.options.keyboard){this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){e.which==27&&this.hide()},this))}else if(!this.isShown){this.$element.off("keydown.dismiss.bs.modal")}};t.prototype.resize=function(){if(this.isShown){e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this))}else{e(window).off("resize.bs.modal")}};t.prototype.hideModal=function(){var e=this;this.$element.hide();this.backdrop(function(){e.$body.removeClass("modal-open");e.resetAdjustments();e.resetScrollbar();e.$element.trigger("hidden.bs.modal")})};t.prototype.removeBackdrop=function(){
this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};t.prototype.backdrop=function(n){var i=this;var r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var s=e.support.transition&&r;this.$backdrop=e('<div class="modal-backdrop '+r+'" />').appendTo(this.$body);this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){if(this.ignoreBackdropClick){this.ignoreBackdropClick=false;return}if(e.target!==e.currentTarget)return;this.options.backdrop=="static"?this.$element[0].focus():this.hide()},this));if(s)this.$backdrop[0].offsetWidth;this.$backdrop.addClass("in");if(!n)return;s?this.$backdrop.one("bsTransitionEnd",n).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):n()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){i.removeBackdrop();n&&n()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):a()}else if(n){n()}};t.prototype.handleUpdate=function(){this.adjustDialog()};t.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})};t.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})};t.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e;this.scrollbarWidth=this.measureScrollbar()};t.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"";if(this.bodyIsOverflowing)this.$body.css("padding-right",e+this.scrollbarWidth)};t.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)};t.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure";this.$body.append(e);var t=e.offsetWidth-e.clientWidth;this.$body[0].removeChild(e);return t};function n(n,i){return this.each(function(){var r=e(this);var s=r.data("bs.modal");var a=e.extend({},t.DEFAULTS,r.data(),typeof n=="object"&&n);if(!s)r.data("bs.modal",s=new t(this,a));if(typeof n=="string")s[n](i);else if(a.show)s.show(i)})}var i=e.fn.modal;e.fn.modal=n;e.fn.modal.Constructor=t;e.fn.modal.noConflict=function(){e.fn.modal=i;return this};e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var i=e(this);var r=i.attr("href");var s=e(i.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,""));var a=s.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},s.data(),i.data());if(i.is("a"))t.preventDefault();s.one("show.bs.modal",function(e){if(e.isDefaultPrevented())return;s.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})});n.call(s,a,this)})}(jQuery);+function(e){"use strict";var t=function(n,i){this.$element=e(n);this.options=e.extend({},t.DEFAULTS,i);this.isLoading=false};t.VERSION="3.3.4";t.DEFAULTS={loadingText:"loading..."};t.prototype.setState=function(t){var n="disabled";var i=this.$element;var r=i.is("input")?"val":"html";var s=i.data();t=t+"Text";if(s.resetText==null)i.data("resetText",i[r]());setTimeout(e.proxy(function(){i[r](s[t]==null?this.options[t]:s[t]);if(t=="loadingText"){this.isLoading=true;i.addClass(n).attr(n,n)}else if(this.isLoading){this.isLoading=false;i.removeClass(n).removeAttr(n)}},this),0)};t.prototype.toggle=function(){var e=true;var t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");if(n.prop("type")=="radio"){if(n.prop("checked")&&this.$element.hasClass("active"))e=false;else t.find(".active").removeClass("active")}if(e)n.prop("checked",!this.$element.hasClass("active")).trigger("change")}else{this.$element.attr("aria-pressed",!this.$element.hasClass("active"))}if(e)this.$element.toggleClass("active")};function n(n){return this.each(function(){var i=e(this);var r=i.data("bs.button");var s=typeof n=="object"&&n;if(!r)i.data("bs.button",r=new t(this,s));if(n=="toggle")r.toggle();else if(n)r.setState(n)})}var i=e.fn.button;e.fn.button=n;e.fn.button.Constructor=t;e.fn.button.noConflict=function(){e.fn.button=i;return this};e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(t){var i=e(t.target);if(!i.hasClass("btn"))i=i.closest(".btn");n.call(i,"toggle");t.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery);+function(e){"use strict";var t=function(n,i){this.$element=e(n);this.options=e.extend({},t.DEFAULTS,i);this.$trigger=e('[data-toggle="collapse"][href="#'+n.id+'"],'+'[data-toggle="collapse"][data-target="#'+n.id+'"]');this.transitioning=null;if(this.options.parent){this.$parent=this.getParent()}else{this.addAriaAndCollapsedClass(this.$element,this.$trigger)}if(this.options.toggle)this.toggle()};t.VERSION="3.3.4";t.TRANSITION_DURATION=350;t.DEFAULTS={toggle:true};t.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"};t.prototype.show=function(){if(this.transitioning||this.$element.hasClass("in"))return;var n;var r=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(r&&r.length){n=r.data("bs.collapse");if(n&&n.transitioning)return}var s=e.Event("show.bs.collapse");this.$element.trigger(s);if(s.isDefaultPrevented())return;if(r&&r.length){i.call(r,"hide");n||r.data("bs.collapse",null)}var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",true);this.$trigger.removeClass("collapsed").attr("aria-expanded",true);this.transitioning=1;var o=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a]("");this.transitioning=0;this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return o.call(this);var l=e.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",e.proxy(o,this)).emulateTransitionEnd(t.TRANSITION_DURATION)[a](this.$element[0][l])};t.prototype.hide=function(){if(this.transitioning||!this.$element.hasClass("in"))return;var n=e.Event("hide.bs.collapse");this.$element.trigger(n);if(n.isDefaultPrevented())return;var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight;this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",false);this.$trigger.addClass("collapsed").attr("aria-expanded",false);this.transitioning=1;var r=function(){this.transitioning=0;this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!e.support.transition)return r.call(this);this.$element[i](0).one("bsTransitionEnd",e.proxy(r,this)).emulateTransitionEnd(t.TRANSITION_DURATION)};t.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};t.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(t,i){var r=e(i);this.addAriaAndCollapsedClass(n(r),r)},this)).end()};t.prototype.addAriaAndCollapsedClass=function(e,t){var n=e.hasClass("in");e.attr("aria-expanded",n);t.toggleClass("collapsed",!n).attr("aria-expanded",n)};function n(t){var n;var i=t.attr("data-target")||(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return e(i)}function i(n){return this.each(function(){var i=e(this);var r=i.data("bs.collapse");var s=e.extend({},t.DEFAULTS,i.data(),typeof n=="object"&&n);if(!r&&s.toggle&&/show|hide/.test(n))s.toggle=false;if(!r)i.data("bs.collapse",r=new t(this,s));if(typeof n=="string")r[n]()})}var r=e.fn.collapse;e.fn.collapse=i;e.fn.collapse.Constructor=t;e.fn.collapse.noConflict=function(){e.fn.collapse=r;return this};e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var r=e(this);if(!r.attr("data-target"))t.preventDefault();var s=n(r);var a=s.data("bs.collapse");var o=a?"toggle":r.data();i.call(s,o)})}(jQuery);(function(){var e=this,t=e._,n=Array.prototype,i=Object.prototype,r=Function.prototype,s=n.push,a=n.slice,o=n.concat,l=i.toString,u=i.hasOwnProperty,c=Array.isArray,f=Object.keys,p=r.bind,d=function(e){return e instanceof d?e:this instanceof d?void(this._wrapped=e):new d(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=d),exports._=d):e._=d,d.VERSION="1.7.0";var h=function(e,t,n){if(t===void 0)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)};case 4:return function(n,i,r,s){return e.call(t,n,i,r,s)}}return function(){return e.apply(t,arguments)}};d.iteratee=function(e,t,n){return null==e?d.identity:d.isFunction(e)?h(e,t,n):d.isObject(e)?d.matches(e):d.property(e)},d.each=d.forEach=function(e,t,n){if(null==e)return e;t=h(t,n);var i,r=e.length;if(r===+r)for(i=0;r>i;i++)t(e[i],i,e);else{var s=d.keys(e);for(i=0,r=s.length;r>i;i++)t(e[s[i]],s[i],e)}return e},d.map=d.collect=function(e,t,n){if(null==e)return[];t=d.iteratee(t,n);for(var i,r=e.length!==+e.length&&d.keys(e),s=(r||e).length,a=Array(s),o=0;s>o;o++)i=r?r[o]:o,a[o]=t(e[i],i,e);return a};var g="Reduce of empty array with no initial value";d.reduce=d.foldl=d.inject=function(e,t,n,i){null==e&&(e=[]),t=h(t,i,4);var r,s=e.length!==+e.length&&d.keys(e),a=(s||e).length,o=0;if(arguments.length<3){if(!a)throw new TypeError(g);n=e[s?s[o++]:o++]}for(;a>o;o++)r=s?s[o]:o,n=t(n,e[r],r,e);return n},d.reduceRight=d.foldr=function(e,t,n,i){null==e&&(e=[]),t=h(t,i,4);var r,s=e.length!==+e.length&&d.keys(e),a=(s||e).length;if(arguments.length<3){if(!a)throw new TypeError(g);n=e[s?s[--a]:--a]}for(;a--;)r=s?s[a]:a,n=t(n,e[r],r,e);return n},d.find=d.detect=function(e,t,n){var i;return t=d.iteratee(t,n),d.some(e,function(e,n,r){return t(e,n,r)?(i=e,!0):void 0}),i},d.filter=d.select=function(e,t,n){var i=[];return null==e?i:(t=d.iteratee(t,n),d.each(e,function(e,n,r){t(e,n,r)&&i.push(e)}),i)},d.reject=function(e,t,n){return d.filter(e,d.negate(d.iteratee(t)),n)},d.every=d.all=function(e,t,n){if(null==e)return!0;t=d.iteratee(t,n);var i,r,s=e.length!==+e.length&&d.keys(e),a=(s||e).length;for(i=0;a>i;i++)if(r=s?s[i]:i,!t(e[r],r,e))return!1;return!0},d.some=d.any=function(e,t,n){if(null==e)return!1;t=d.iteratee(t,n);var i,r,s=e.length!==+e.length&&d.keys(e),a=(s||e).length;for(i=0;a>i;i++)if(r=s?s[i]:i,t(e[r],r,e))return!0;return!1},d.contains=d.include=function(e,t){return null==e?!1:(e.length!==+e.length&&(e=d.values(e)),d.indexOf(e,t)>=0)},d.invoke=function(e,t){var n=a.call(arguments,2),i=d.isFunction(t);return d.map(e,function(e){return(i?t:e[t]).apply(e,n)})},d.pluck=function(e,t){return d.map(e,d.property(t))},d.where=function(e,t){return d.filter(e,d.matches(t))},d.findWhere=function(e,t){return d.find(e,d.matches(t))},d.max=function(e,t,n){var i,r,s=-1/0,a=-1/0;if(null==t&&null!=e){e=e.length===+e.length?e:d.values(e);for(var o=0,l=e.length;l>o;o++)i=e[o],i>s&&(s=i)}else t=d.iteratee(t,n),d.each(e,function(e,n,i){r=t(e,n,i),(r>a||r===-1/0&&s===-1/0)&&(s=e,a=r)});return s},d.min=function(e,t,n){var i,r,s=1/0,a=1/0;if(null==t&&null!=e){e=e.length===+e.length?e:d.values(e);for(var o=0,l=e.length;l>o;o++)i=e[o],s>i&&(s=i)}else t=d.iteratee(t,n),d.each(e,function(e,n,i){r=t(e,n,i),(a>r||1/0===r&&1/0===s)&&(s=e,a=r)});return s},d.shuffle=function(e){for(var t,n=e&&e.length===+e.length?e:d.values(e),i=n.length,r=Array(i),s=0;i>s;s++)t=d.random(0,s),t!==s&&(r[s]=r[t]),r[t]=n[s];return r},d.sample=function(e,t,n){return null==t||n?(e.length!==+e.length&&(e=d.values(e)),e[d.random(e.length-1)]):d.shuffle(e).slice(0,Math.max(0,t))},d.sortBy=function(e,t,n){return t=d.iteratee(t,n),d.pluck(d.map(e,function(e,n,i){return{value:e,index:n,criteria:t(e,n,i)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||n===void 0)return 1;if(i>n||i===void 0)return-1}return e.index-t.index}),"value")};var m=function(e){return function(t,n,i){var r={};return n=d.iteratee(n,i),d.each(t,function(i,s){var a=n(i,s,t);e(r,i,a)}),r}};d.groupBy=m(function(e,t,n){d.has(e,n)?e[n].push(t):e[n]=[t]}),d.indexBy=m(function(e,t,n){e[n]=t}),d.countBy=m(function(e,t,n){d.has(e,n)?e[n]++:e[n]=1}),d.sortedIndex=function(e,t,n,i){n=d.iteratee(n,i,1);for(var r=n(t),s=0,a=e.length;a>s;){var o=s+a>>>1;n(e[o])<r?s=o+1:a=o}return s},d.toArray=function(e){return e?d.isArray(e)?a.call(e):e.length===+e.length?d.map(e,d.identity):d.values(e):[]},d.size=function(e){return null==e?0:e.length===+e.length?e.length:d.keys(e).length},d.partition=function(e,t,n){t=d.iteratee(t,n);var i=[],r=[];return d.each(e,function(e,n,s){(t(e,n,s)?i:r).push(e)}),[i,r]},d.first=d.head=d.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:0>t?[]:a.call(e,0,t)},d.initial=function(e,t,n){return a.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},d.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:a.call(e,Math.max(e.length-t,0))},d.rest=d.tail=d.drop=function(e,t,n){return a.call(e,null==t||n?1:t)},d.compact=function(e){return d.filter(e,d.identity)};var v=function(e,t,n,i){if(t&&d.every(e,d.isArray))return o.apply(i,e);for(var r=0,a=e.length;a>r;r++){var l=e[r];d.isArray(l)||d.isArguments(l)?t?s.apply(i,l):v(l,t,n,i):n||i.push(l)}return i};d.flatten=function(e,t){return v(e,t,!1,[])},d.without=function(e){return d.difference(e,a.call(arguments,1))},d.uniq=d.unique=function(e,t,n,i){if(null==e)return[];d.isBoolean(t)||(i=n,n=t,t=!1),null!=n&&(n=d.iteratee(n,i));for(var r=[],s=[],a=0,o=e.length;o>a;a++){var l=e[a];if(t)a&&s===l||r.push(l),s=l;else if(n){var u=n(l,a,e);d.indexOf(s,u)<0&&(s.push(u),r.push(l))}else d.indexOf(r,l)<0&&r.push(l)}return r},d.union=function(){return d.uniq(v(arguments,!0,!0,[]))},d.intersection=function(e){if(null==e)return[];for(var t=[],n=arguments.length,i=0,r=e.length;r>i;i++){var s=e[i];if(!d.contains(t,s)){for(var a=1;n>a&&d.contains(arguments[a],s);a++);a===n&&t.push(s)}}return t},d.difference=function(e){var t=v(a.call(arguments,1),!0,!0,[]);return d.filter(e,function(e){return!d.contains(t,e)})},d.zip=function(e){if(null==e)return[];for(var t=d.max(arguments,"length").length,n=Array(t),i=0;t>i;i++)n[i]=d.pluck(arguments,i);return n},d.object=function(e,t){if(null==e)return{};for(var n={},i=0,r=e.length;r>i;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},d.indexOf=function(e,t,n){if(null==e)return-1;var i=0,r=e.length;if(n){if("number"!=typeof n)return i=d.sortedIndex(e,t),e[i]===t?i:-1;i=0>n?Math.max(0,r+n):n}for(;r>i;i++)if(e[i]===t)return i;return-1},d.lastIndexOf=function(e,t,n){if(null==e)return-1;var i=e.length;for("number"==typeof n&&(i=0>n?i+n+1:Math.min(i,n+1));--i>=0;)if(e[i]===t)return i;return-1},d.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=n||1;for(var i=Math.max(Math.ceil((t-e)/n),0),r=Array(i),s=0;i>s;s++,e+=n)r[s]=e;return r};var y=function(){};d.bind=function(e,t){var n,i;if(p&&e.bind===p)return p.apply(e,a.call(arguments,1));if(!d.isFunction(e))throw new TypeError("Bind must be called on a function");return n=a.call(arguments,2),i=function(){if(!(this instanceof i))return e.apply(t,n.concat(a.call(arguments)));y.prototype=e.prototype;var r=new y;y.prototype=null;var s=e.apply(r,n.concat(a.call(arguments)));return d.isObject(s)?s:r}},d.partial=function(e){var t=a.call(arguments,1);return function(){for(var n=0,i=t.slice(),r=0,s=i.length;s>r;r++)i[r]===d&&(i[r]=arguments[n++]);for(;n<arguments.length;)i.push(arguments[n++]);return e.apply(this,i)}},d.bindAll=function(e){var t,n,i=arguments.length;if(1>=i)throw new Error("bindAll must be passed function names");for(t=1;i>t;t++)n=arguments[t],e[n]=d.bind(e[n],e);return e},d.memoize=function(e,t){var n=function(i){var r=n.cache,s=t?t.apply(this,arguments):i;return d.has(r,s)||(r[s]=e.apply(this,arguments)),r[s]};return n.cache={},n},d.delay=function(e,t){var n=a.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},d.defer=function(e){return d.delay.apply(d,[e,1].concat(a.call(arguments,1)))},d.throttle=function(e,t,n){var i,r,s,a=null,o=0;n||(n={});var l=function(){o=n.leading===!1?0:d.now(),a=null,s=e.apply(i,r),a||(i=r=null)};return function(){var u=d.now();o||n.leading!==!1||(o=u);var c=t-(u-o);return i=this,r=arguments,0>=c||c>t?(clearTimeout(a),a=null,o=u,s=e.apply(i,r),a||(i=r=null)):a||n.trailing===!1||(a=setTimeout(l,c)),s}},d.debounce=function(e,t,n){var i,r,s,a,o,l=function(){var u=d.now()-a;t>u&&u>0?i=setTimeout(l,t-u):(i=null,n||(o=e.apply(s,r),i||(s=r=null)))};return function(){s=this,r=arguments,a=d.now();var u=n&&!i;return i||(i=setTimeout(l,t)),u&&(o=e.apply(s,r),s=r=null),o}},d.wrap=function(e,t){return d.partial(t,e)},d.negate=function(e){return function(){return!e.apply(this,arguments)}},d.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,i=e[t].apply(this,arguments);n--;)i=e[n].call(this,i);return i}},d.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},d.before=function(e,t){var n;return function(){return--e>0?n=t.apply(this,arguments):t=null,n}},d.once=d.partial(d.before,2),d.keys=function(e){if(!d.isObject(e))return[];if(f)return f(e);var t=[];for(var n in e)d.has(e,n)&&t.push(n);return t},d.values=function(e){for(var t=d.keys(e),n=t.length,i=Array(n),r=0;n>r;r++)i[r]=e[t[r]];return i},d.pairs=function(e){for(var t=d.keys(e),n=t.length,i=Array(n),r=0;n>r;r++)i[r]=[t[r],e[t[r]]];return i},d.invert=function(e){for(var t={},n=d.keys(e),i=0,r=n.length;r>i;i++)t[e[n[i]]]=n[i];return t},d.functions=d.methods=function(e){var t=[];for(var n in e)d.isFunction(e[n])&&t.push(n);return t.sort()},d.extend=function(e){if(!d.isObject(e))return e;for(var t,n,i=1,r=arguments.length;r>i;i++){t=arguments[i];for(n in t)u.call(t,n)&&(e[n]=t[n])}return e},d.pick=function(e,t,n){var i,r={};if(null==e)return r;if(d.isFunction(t)){t=h(t,n);for(i in e){var s=e[i];t(s,i,e)&&(r[i]=s)}}else{var l=o.apply([],a.call(arguments,1));e=new Object(e);for(var u=0,c=l.length;c>u;u++)i=l[u],i in e&&(r[i]=e[i])}return r},d.omit=function(e,t,n){if(d.isFunction(t))t=d.negate(t);else{var i=d.map(o.apply([],a.call(arguments,1)),String);t=function(e,t){return!d.contains(i,t)}}return d.pick(e,t,n)},d.defaults=function(e){if(!d.isObject(e))return e;for(var t=1,n=arguments.length;n>t;t++){var i=arguments[t];for(var r in i)e[r]===void 0&&(e[r]=i[r])}return e},d.clone=function(e){return d.isObject(e)?d.isArray(e)?e.slice():d.extend({},e):e},d.tap=function(e,t){return t(e),e};var b=function(e,t,n,i){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof d&&(e=e._wrapped),t instanceof d&&(t=t._wrapped);var r=l.call(e);if(r!==l.call(t))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}if("object"!=typeof e||"object"!=typeof t)return!1;for(var s=n.length;s--;)if(n[s]===e)return i[s]===t;var a=e.constructor,o=t.constructor;if(a!==o&&"constructor"in e&&"constructor"in t&&!(d.isFunction(a)&&a instanceof a&&d.isFunction(o)&&o instanceof o))return!1;n.push(e),i.push(t);var u,c;if("[object Array]"===r){if(u=e.length,c=u===t.length)for(;u--&&(c=b(e[u],t[u],n,i)););}else{var f,p=d.keys(e);if(u=p.length,c=d.keys(t).length===u)for(;u--&&(f=p[u],c=d.has(t,f)&&b(e[f],t[f],n,i)););}return n.pop(),i.pop(),c};d.isEqual=function(e,t){return b(e,t,[],[])},d.isEmpty=function(e){if(null==e)return!0;if(d.isArray(e)||d.isString(e)||d.isArguments(e))return 0===e.length;for(var t in e)if(d.has(e,t))return!1;return!0},d.isElement=function(e){return!(!e||1!==e.nodeType)},d.isArray=c||function(e){return"[object Array]"===l.call(e)},d.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},d.each(["Arguments","Function","String","Number","Date","RegExp"],function(e){d["is"+e]=function(t){return l.call(t)==="[object "+e+"]"}}),d.isArguments(arguments)||(d.isArguments=function(e){return d.has(e,"callee")}),"function"!=typeof/./&&(d.isFunction=function(e){return"function"==typeof e||!1}),d.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},d.isNaN=function(e){return d.isNumber(e)&&e!==+e},d.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===l.call(e)},d.isNull=function(e){return null===e},d.isUndefined=function(e){return e===void 0},d.has=function(e,t){return null!=e&&u.call(e,t)},d.noConflict=function(){return e._=t,this},d.identity=function(e){return e},d.constant=function(e){return function(){return e}},d.noop=function(){},d.property=function(e){return function(t){return t[e]}},d.matches=function(e){var t=d.pairs(e),n=t.length;return function(e){if(null==e)return!n;e=new Object(e);for(var i=0;n>i;i++){var r=t[i],s=r[0];if(r[1]!==e[s]||!(s in e))return!1}return!0}},d.times=function(e,t,n){var i=Array(Math.max(0,e));t=h(t,n,1);for(var r=0;e>r;r++)i[r]=t(r);return i},d.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},d.now=Date.now||function(){return(new Date).getTime()};var w={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},x=d.invert(w),_=function(e){var t=function(t){return e[t]},n="(?:"+d.keys(e).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(e){return e=null==e?"":""+e,i.test(e)?e.replace(r,t):e}};d.escape=_(w),d.unescape=_(x),d.result=function(e,t){if(null==e)return void 0;var n=e[t];return d.isFunction(n)?e[t]():n};var S=0;d.uniqueId=function(e){var t=++S+"";return e?e+t:t},d.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var A=/(.)^/,T={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},C=/\\|'|\r|\n|\u2028|\u2029/g,k=function(e){return"\\"+T[e]};d.template=function(e,t,n){!t&&n&&(t=n),t=d.defaults({},t,d.templateSettings);var i=RegExp([(t.escape||A).source,(t.interpolate||A).source,(t.evaluate||A).source].join("|")+"|$","g"),r=0,s="__p+='";e.replace(i,function(t,n,i,a,o){return s+=e.slice(r,o).replace(C,k),r=o+t.length,n?s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?s+="'+\n((__t=("+i+"))==null?'':__t)+\n'":a&&(s+="';\n"+a+"\n__p+='"),t}),s+="';\n",t.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,"+"print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{var a=new Function(t.variable||"obj","_",s)}catch(o){throw o.source=s,o}var l=function(e){return a.call(this,e,d)},u=t.variable||"obj";return l.source="function("+u+"){\n"+s+"}",l},d.chain=function(e){var t=d(e);return t._chain=!0,t};var P=function(e){return this._chain?d(e).chain():e};d.mixin=function(e){d.each(d.functions(e),function(t){var n=d[t]=e[t];d.prototype[t]=function(){var e=[this._wrapped];return s.apply(e,arguments),P.call(this,n.apply(d,e))}})},d.mixin(d),d.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=n[e];d.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],P.call(this,n)}}),d.each(["concat","join","slice"],function(e){var t=n[e];d.prototype[e]=function(){return P.call(this,t.apply(this._wrapped,arguments))}}),d.prototype.value=function(){return this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return d})}).call(this);(function(){var e=this;var t=e.Backbone;var n=[];var i=n.push;var r=n.slice;var s=n.splice;var a;if(typeof exports!=="undefined"){a=exports}else{a=e.Backbone={}}a.VERSION="1.0.0";var o=e._;if(!o&&typeof require!=="undefined")o=require("underscore");a.$=e.jQuery||e.Zepto||e.ender||e.$;a.noConflict=function(){e.Backbone=t;return this};a.emulateHTTP=false;a.emulateJSON=false;var l=a.Events={on:function(e,t,n){if(!c(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var i=this._events[e]||(this._events[e]=[]);i.push({callback:t,context:n,ctx:n||this});return this},once:function(e,t,n){if(!c(this,"once",e,[t,n])||!t)return this;var i=this;var r=o.once(function(){i.off(e,r);t.apply(this,arguments)});r._callback=t;return this.on(e,r,n)},off:function(e,t,n){var i,r,s,a,l,u,f,p;if(!this._events||!c(this,"off",e,[t,n]))return this;if(!e&&!t&&!n){this._events={};return this}a=e?[e]:o.keys(this._events);for(l=0,u=a.length;l<u;l++){e=a[l];if(s=this._events[e]){this._events[e]=i=[];if(t||n){for(f=0,p=s.length;f<p;f++){r=s[f];if(t&&t!==r.callback&&t!==r.callback._callback||n&&n!==r.context){i.push(r)}}}if(!i.length)delete this._events[e]}}return this},trigger:function(e){if(!this._events)return this;var t=r.call(arguments,1);if(!c(this,"trigger",e,t))return this;var n=this._events[e];var i=this._events.all;if(n)f(n,t);if(i)f(i,arguments);return this},stopListening:function(e,t,n){var i=this._listeners;if(!i)return this;var r=!t&&!n;if(typeof t==="object")n=this;if(e)(i={})[e._listenerId]=e;for(var s in i){i[s].off(t,n,this);if(r)delete this._listeners[s]}return this}};var u=/\s+/;var c=function(e,t,n,i){if(!n)return true;if(typeof n==="object"){for(var r in n){e[t].apply(e,[r,n[r]].concat(i))}return false}if(u.test(n)){var s=n.split(u);for(var a=0,o=s.length;a<o;a++){e[t].apply(e,[s[a]].concat(i))}return false}return true};var f=function(e,t){var n,i=-1,r=e.length,s=t[0],a=t[1],o=t[2];switch(t.length){case 0:while(++i<r)(n=e[i]).callback.call(n.ctx);return;case 1:while(++i<r)(n=e[i]).callback.call(n.ctx,s);return;case 2:while(++i<r)(n=e[i]).callback.call(n.ctx,s,a);return;case 3:while(++i<r)(n=e[i]).callback.call(n.ctx,s,a,o);return;default:while(++i<r)(n=e[i]).callback.apply(n.ctx,t)}};var p={listenTo:"on",listenToOnce:"once"};o.each(p,function(e,t){l[t]=function(t,n,i){var r=this._listeners||(this._listeners={});var s=t._listenerId||(t._listenerId=o.uniqueId("l"));r[s]=t;if(typeof n==="object")i=this;t[e](n,i,this);return this}});l.bind=l.on;l.unbind=l.off;o.extend(a,l);var d=a.Model=function(e,t){var n;var i=e||{};t||(t={});this.cid=o.uniqueId("c");this.attributes={};o.extend(this,o.pick(t,h));if(t.parse)i=this.parse(i,t)||{};if(n=o.result(this,"defaults")){i=o.defaults({},i,n)}this.set(i,t);this.changed={};this.initialize.apply(this,arguments)};var h=["url","urlRoot","collection"];o.extend(d.prototype,l,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(e){return o.clone(this.attributes)},sync:function(){return a.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return o.escape(this.get(e))},has:function(e){return this.get(e)!=null},set:function(e,t,n){var i,r,s,a,l,u,c,f;if(e==null)return this;if(typeof e==="object"){r=e;n=t}else{(r={})[e]=t}n||(n={});if(!this._validate(r,n))return false;s=n.unset;l=n.silent;a=[];u=this._changing;this._changing=true;if(!u){this._previousAttributes=o.clone(this.attributes);this.changed={}}f=this.attributes,c=this._previousAttributes;if(this.idAttribute in r)this.id=r[this.idAttribute];for(i in r){t=r[i];if(!o.isEqual(f[i],t))a.push(i);if(!o.isEqual(c[i],t)){this.changed[i]=t}else{delete this.changed[i]}s?delete f[i]:f[i]=t}if(!l){if(a.length)this._pending=true;for(var p=0,d=a.length;p<d;p++){this.trigger("change:"+a[p],this,f[a[p]],n)}}if(u)return this;if(!l){while(this._pending){this._pending=false;this.trigger("change",this,n)}}this._pending=false;this._changing=false;return this},unset:function(e,t){return this.set(e,void 0,o.extend({},t,{unset:true}))},clear:function(e){var t={};for(var n in this.attributes)t[n]=void 0;return this.set(t,o.extend({},e,{unset:true}))},hasChanged:function(e){if(e==null)return!o.isEmpty(this.changed);return o.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?o.clone(this.changed):false;var t,n=false;var i=this._changing?this._previousAttributes:this.attributes;for(var r in e){if(o.isEqual(i[r],t=e[r]))continue;(n||(n={}))[r]=t}return n},previous:function(e){if(e==null||!this._previousAttributes)return null;return this._previousAttributes[e]},previousAttributes:function(){return o.clone(this._previousAttributes)},fetch:function(e){e=e?o.clone(e):{};if(e.parse===void 0)e.parse=true;var t=this;var n=e.success;e.success=function(i){if(!t.set(t.parse(i,e),e))return false;if(n)n(t,i,e);t.trigger("sync",t,i,e)};L(this,e);return this.sync("read",this,e)},save:function(e,t,n){var i,r,s,a=this.attributes;if(e==null||typeof e==="object"){i=e;n=t}else{(i={})[e]=t}if(i&&(!n||!n.wait)&&!this.set(i,n))return false;n=o.extend({validate:true},n);if(!this._validate(i,n))return false;if(i&&n.wait){this.attributes=o.extend({},a,i)}if(n.parse===void 0)n.parse=true;var l=this;var u=n.success;n.success=function(e){l.attributes=a;var t=l.parse(e,n);if(n.wait)t=o.extend(i||{},t);if(o.isObject(t)&&!l.set(t,n)){return false}if(u)u(l,e,n);l.trigger("sync",l,e,n)};L(this,n);r=this.isNew()?"create":n.patch?"patch":"update";if(r==="patch")n.attrs=i;s=this.sync(r,this,n);if(i&&n.wait)this.attributes=a;return s},destroy:function(e){e=e?o.clone(e):{};var t=this;var n=e.success;var i=function(){t.trigger("destroy",t,t.collection,e)};e.success=function(r){if(e.wait||t.isNew())i();if(n)n(t,r,e);if(!t.isNew())t.trigger("sync",t,r,e)};if(this.isNew()){e.success();return false}L(this,e);var r=this.sync("delete",this,e);if(!e.wait)i();return r},url:function(){var e=o.result(this,"urlRoot")||o.result(this.collection,"url")||O();if(this.isNew())return e;return e+(e.charAt(e.length-1)==="/"?"":"/")+encodeURIComponent(this.id)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return this.id==null},isValid:function(e){return this._validate({},o.extend(e||{},{validate:true}))},_validate:function(e,t){if(!t.validate||!this.validate)return true;e=o.extend({},this.attributes,e);var n=this.validationError=this.validate(e,t)||null;if(!n)return true;this.trigger("invalid",this,n,o.extend(t||{},{validationError:n}));return false}});var g=["keys","values","pairs","invert","pick","omit"];o.each(g,function(e){d.prototype[e]=function(){var t=r.call(arguments);t.unshift(this.attributes);return o[e].apply(o,t)}});var m=a.Collection=function(e,t){t||(t={});if(t.url)this.url=t.url;if(t.model)this.model=t.model;if(t.comparator!==void 0)this.comparator=t.comparator;this._reset();this.initialize.apply(this,arguments);if(e)this.reset(e,o.extend({silent:true},t))};var v={add:true,remove:true,merge:true};var y={add:true,merge:false,remove:false};o.extend(m.prototype,l,{model:d,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return a.sync.apply(this,arguments)},add:function(e,t){return this.set(e,o.defaults(t||{},y))},remove:function(e,t){e=o.isArray(e)?e.slice():[e];t||(t={});var n,i,r,s;for(n=0,i=e.length;n<i;n++){s=this.get(e[n]);if(!s)continue;delete this._byId[s.id];delete this._byId[s.cid];r=this.indexOf(s);this.models.splice(r,1);this.length--;if(!t.silent){t.index=r;s.trigger("remove",s,this,t)}this._removeReference(s)}return this},set:function(e,t){t=o.defaults(t||{},v);if(t.parse)e=this.parse(e,t);if(!o.isArray(e))e=e?[e]:[];var n,r,a,l,u,c;var f=t.at;var p=this.comparator&&f==null&&t.sort!==false;var d=o.isString(this.comparator)?this.comparator:null;var h=[],g=[],m={};for(n=0,r=e.length;n<r;n++){if(!(a=this._prepareModel(e[n],t)))continue;if(u=this.get(a)){if(t.remove)m[u.cid]=true;if(t.merge){u.set(a.attributes,t);if(p&&!c&&u.hasChanged(d))c=true}}else if(t.add){h.push(a);a.on("all",this._onModelEvent,this);this._byId[a.cid]=a;if(a.id!=null)this._byId[a.id]=a}}if(t.remove){for(n=0,r=this.length;n<r;++n){if(!m[(a=this.models[n]).cid])g.push(a)}if(g.length)this.remove(g,t)}if(h.length){if(p)c=true;this.length+=h.length;if(f!=null){s.apply(this.models,[f,0].concat(h))}else{i.apply(this.models,h)}}if(c)this.sort({silent:true});if(t.silent)return this;
for(n=0,r=h.length;n<r;n++){(a=h[n]).trigger("add",a,this,t)}if(c)this.trigger("sort",this,t);return this},reset:function(e,t){t||(t={});for(var n=0,i=this.models.length;n<i;n++){this._removeReference(this.models[n])}t.previousModels=this.models;this._reset();this.add(e,o.extend({silent:true},t));if(!t.silent)this.trigger("reset",this,t);return this},push:function(e,t){e=this._prepareModel(e,t);this.add(e,o.extend({at:this.length},t));return e},pop:function(e){var t=this.at(this.length-1);this.remove(t,e);return t},unshift:function(e,t){e=this._prepareModel(e,t);this.add(e,o.extend({at:0},t));return e},shift:function(e){var t=this.at(0);this.remove(t,e);return t},slice:function(e,t){return this.models.slice(e,t)},get:function(e){if(e==null)return void 0;return this._byId[e.id!=null?e.id:e.cid||e]},at:function(e){return this.models[e]},where:function(e,t){if(o.isEmpty(e))return t?void 0:[];return this[t?"find":"filter"](function(t){for(var n in e){if(e[n]!==t.get(n))return false}return true})},findWhere:function(e){return this.where(e,true)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");e||(e={});if(o.isString(this.comparator)||this.comparator.length===1){this.models=this.sortBy(this.comparator,this)}else{this.models.sort(o.bind(this.comparator,this))}if(!e.silent)this.trigger("sort",this,e);return this},sortedIndex:function(e,t,n){t||(t=this.comparator);var i=o.isFunction(t)?t:function(e){return e.get(t)};return o.sortedIndex(this.models,e,i,n)},pluck:function(e){return o.invoke(this.models,"get",e)},fetch:function(e){e=e?o.clone(e):{};if(e.parse===void 0)e.parse=true;var t=e.success;var n=this;e.success=function(i){var r=e.reset?"reset":"set";n[r](i,e);if(t)t(n,i,e);n.trigger("sync",n,i,e)};L(this,e);return this.sync("read",this,e)},create:function(e,t){t=t?o.clone(t):{};if(!(e=this._prepareModel(e,t)))return false;if(!t.wait)this.add(e,t);var n=this;var i=t.success;t.success=function(r){if(t.wait)n.add(e,t);if(i)i(e,r,t)};e.save(null,t);return e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(e,t){if(e instanceof d){if(!e.collection)e.collection=this;return e}t||(t={});t.collection=this;var n=new this.model(e,t);if(!n._validate(e,t)){this.trigger("invalid",this,e,t);return false}return n},_removeReference:function(e){if(this===e.collection)delete e.collection;e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,i){if((e==="add"||e==="remove")&&n!==this)return;if(e==="destroy")this.remove(t,i);if(t&&e==="change:"+t.idAttribute){delete this._byId[t.previous(t.idAttribute)];if(t.id!=null)this._byId[t.id]=t}this.trigger.apply(this,arguments)}});var b=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"];o.each(b,function(e){m.prototype[e]=function(){var t=r.call(arguments);t.unshift(this.models);return o[e].apply(o,t)}});var w=["groupBy","countBy","sortBy"];o.each(w,function(e){m.prototype[e]=function(t,n){var i=o.isFunction(t)?t:function(e){return e.get(t)};return o[e](this.models,i,n)}});var x=a.View=function(e){this.cid=o.uniqueId("view");this._configure(e||{});this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()};var _=/^(\S+)\s*(.*)$/;var S=["model","collection","el","id","attributes","className","tagName","events"];o.extend(x.prototype,l,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){this.$el.remove();this.stopListening();return this},setElement:function(e,t){if(this.$el)this.undelegateEvents();this.$el=e instanceof a.$?e:a.$(e);this.el=this.$el[0];if(t!==false)this.delegateEvents();return this},delegateEvents:function(e){if(!(e||(e=o.result(this,"events"))))return this;this.undelegateEvents();for(var t in e){var n=e[t];if(!o.isFunction(n))n=this[e[t]];if(!n)continue;var i=t.match(_);var r=i[1],s=i[2];n=o.bind(n,this);r+=".delegateEvents"+this.cid;if(s===""){this.$el.on(r,n)}else{this.$el.on(r,s,n)}}return this},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid);return this},_configure:function(e){if(this.options)e=o.extend({},o.result(this,"options"),e);o.extend(this,o.pick(e,S));this.options=e},_ensureElement:function(){if(!this.el){var e=o.extend({},o.result(this,"attributes"));if(this.id)e.id=o.result(this,"id");if(this.className)e["class"]=o.result(this,"className");var t=a.$("<"+o.result(this,"tagName")+">").attr(e);this.setElement(t,false)}else{this.setElement(o.result(this,"el"),false)}}});a.sync=function(e,t,n){var i=A[e];o.defaults(n||(n={}),{emulateHTTP:a.emulateHTTP,emulateJSON:a.emulateJSON});var r={type:i,dataType:"json"};if(!n.url){r.url=o.result(t,"url")||O()}if(n.data==null&&t&&(e==="create"||e==="update"||e==="patch")){r.contentType="application/json";r.data=JSON.stringify(n.attrs||t.toJSON(n))}if(n.emulateJSON){r.contentType="application/x-www-form-urlencoded";r.data=r.data?{model:r.data}:{}}if(n.emulateHTTP&&(i==="PUT"||i==="DELETE"||i==="PATCH")){r.type="POST";if(n.emulateJSON)r.data._method=i;var s=n.beforeSend;n.beforeSend=function(e){e.setRequestHeader("X-HTTP-Method-Override",i);if(s)return s.apply(this,arguments)}}if(r.type!=="GET"&&!n.emulateJSON){r.processData=false}if(r.type==="PATCH"&&window.ActiveXObject&&!(window.external&&window.external.msActiveXFilteringEnabled)){r.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")}}var l=n.xhr=a.ajax(o.extend(r,n));t.trigger("request",t,l,n);return l};var A={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};a.ajax=function(){return a.$.ajax.apply(a.$,arguments)};var T=a.Router=function(e){e||(e={});if(e.routes)this.routes=e.routes;this._bindRoutes();this.initialize.apply(this,arguments)};var C=/\((.*?)\)/g;var k=/(\(\?)?:\w+/g;var P=/\*\w+/g;var E=/[\-{}\[\]+?.,\\\^$|#\s]/g;o.extend(T.prototype,l,{initialize:function(){},route:function(e,t,n){if(!o.isRegExp(e))e=this._routeToRegExp(e);if(o.isFunction(t)){n=t;t=""}if(!n)n=this[t];var i=this;a.history.route(e,function(r){var s=i._extractParameters(e,r);n&&n.apply(i,s);i.trigger.apply(i,["route:"+t].concat(s));i.trigger("route",t,s);a.history.trigger("route",i,t,s)});return this},navigate:function(e,t){a.history.navigate(e,t);return this},_bindRoutes:function(){if(!this.routes)return;this.routes=o.result(this,"routes");var e,t=o.keys(this.routes);while((e=t.pop())!=null){this.route(e,this.routes[e])}},_routeToRegExp:function(e){e=e.replace(E,"\\$&").replace(C,"(?:$1)?").replace(k,function(e,t){return t?e:"([^/]+)"}).replace(P,"(.*?)");return new RegExp("^"+e+"$")},_extractParameters:function(e,t){var n=e.exec(t).slice(1);return o.map(n,function(e){return e?decodeURIComponent(e):null})}});var N=a.History=function(){this.handlers=[];o.bindAll(this,"checkUrl");if(typeof window!=="undefined"){this.location=window.location;this.history=window.history}};var j=/^[#\/]|\s+$/g;var M=/^\/+|\/+$/g;var D=/msie [\w.]+/;var I=/\/$/;N.started=false;o.extend(N.prototype,l,{interval:50,getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(e==null){if(this._hasPushState||!this._wantsHashChange||t){e=this.location.pathname;var n=this.root.replace(I,"");if(!e.indexOf(n))e=e.substr(n.length)}else{e=this.getHash()}}return e.replace(j,"")},start:function(e){if(N.started)throw new Error("Backbone.history has already been started");N.started=true;this.options=o.extend({},{root:"/"},this.options,e);this.root=this.options.root;this._wantsHashChange=this.options.hashChange!==false;this._wantsPushState=!!this.options.pushState;this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var t=this.getFragment();var n=document.documentMode;var i=D.exec(navigator.userAgent.toLowerCase())&&(!n||n<=7);this.root=("/"+this.root+"/").replace(M,"/");if(i&&this._wantsHashChange){this.iframe=a.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow;this.navigate(t)}if(this._hasPushState){a.$(window).on("popstate",this.checkUrl)}else if(this._wantsHashChange&&"onhashchange"in window&&!i){a.$(window).on("hashchange",this.checkUrl)}else if(this._wantsHashChange){this._checkUrlInterval=setInterval(this.checkUrl,this.interval)}this.fragment=t;var r=this.location;var s=r.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!s){this.fragment=this.getFragment(null,true);this.location.replace(this.root+this.location.search+"#"+this.fragment);return true}else if(this._wantsPushState&&this._hasPushState&&s&&r.hash){this.fragment=this.getHash().replace(j,"");this.history.replaceState({},document.title,this.root+this.fragment+r.search)}if(!this.options.silent)return this.loadUrl()},stop:function(){a.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl);clearInterval(this._checkUrlInterval);N.started=false},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();if(t===this.fragment&&this.iframe){t=this.getFragment(this.getHash(this.iframe))}if(t===this.fragment)return false;if(this.iframe)this.navigate(t);this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(e){var t=this.fragment=this.getFragment(e);var n=o.any(this.handlers,function(e){if(e.route.test(t)){e.callback(t);return true}});return n},navigate:function(e,t){if(!N.started)return false;if(!t||t===true)t={trigger:t};e=this.getFragment(e||"");if(this.fragment===e)return;this.fragment=e;var n=this.root+e;if(this._hasPushState){this.history[t.replace?"replaceState":"pushState"]({},document.title,n)}else if(this._wantsHashChange){this._updateHash(this.location,e,t.replace);if(this.iframe&&e!==this.getFragment(this.getHash(this.iframe))){if(!t.replace)this.iframe.document.open().close();this._updateHash(this.iframe.location,e,t.replace)}}else{return this.location.assign(n)}if(t.trigger)this.loadUrl(e)},_updateHash:function(e,t,n){if(n){var i=e.href.replace(/(javascript:|#).*$/,"");e.replace(i+"#"+t)}else{e.hash="#"+t}}});a.history=new N;var $=function(e,t){var n=this;var i;if(e&&o.has(e,"constructor")){i=e.constructor}else{i=function(){return n.apply(this,arguments)}}o.extend(i,n,t);var r=function(){this.constructor=i};r.prototype=n.prototype;i.prototype=new r;if(e)o.extend(i.prototype,e);i.__super__=n.prototype;return i};d.extend=m.extend=T.extend=x.extend=N.extend=$;var O=function(){throw new Error('A "url" property or function must be specified')};var L=function(e,t){var n=t.error;t.error=function(i){if(n)n(e,i,t);e.trigger("error",e,i,t)}}}).call(this);!function(e){if("object"==typeof exports)module.exports=e(require("underscore"),require("backbone"));else if("function"==typeof define&&define.amd)define(["underscore","backbone"],e);else if("undefined"!=typeof _&&"undefined"!=typeof Backbone){var t=Backbone.PageableCollection,n=e(_,Backbone);Backbone.PageableCollection.noConflict=function(){return Backbone.PageableCollection=t,n}}}(function(e,t){"use strict";function n(t,n){if(!e.isNumber(t)||e.isNaN(t)||!e.isFinite(t)||~~t!==t)throw new TypeError("`"+n+"` must be a finite integer");return t}function i(e){for(var t,n,i,r,s={},a=decodeURIComponent,o=e.split("&"),l=0,u=o.length;u>l;l++){var c=o[l];t=c.split("="),n=t[0],i=t[1]||!0,n=a(n),i=a(i),r=s[n],h(r)?r.push(i):s[n]=r?[r,i]:i}return s}function r(e,t,n){var i=e._events[t];if(i&&i.length){var r=i[i.length-1],s=r.callback;r.callback=function(){try{s.apply(this,arguments),n()}catch(e){throw e}finally{r.callback=s}}}else n()}var s=e.extend,a=e.omit,o=e.clone,l=e.each,u=e.pick,c=e.contains,f=e.isEmpty,p=e.pairs,d=e.invert,h=e.isArray,g=e.isFunction,m=e.isObject,v=e.keys,y=e.isUndefined,b=Math.ceil,w=Math.floor,x=Math.max,_=t.Collection.prototype,S=/[\s'"]/g,A=/[<>\s'"]/g,T=t.PageableCollection=t.Collection.extend({state:{firstPage:1,lastPage:null,currentPage:null,pageSize:25,totalPages:null,totalRecords:null,sortKey:null,order:-1},mode:"server",queryParams:{currentPage:"page",pageSize:"per_page",totalPages:"total_pages",totalRecords:"total_entries",sortKey:"sort_by",order:"order",directions:{"-1":"asc",1:"desc"}},constructor:function(e,t){_.constructor.apply(this,arguments),t=t||{};var n=this.mode=t.mode||this.mode||C.mode,i=s({},C.queryParams,this.queryParams,t.queryParams||{});i.directions=s({},C.queryParams.directions,this.queryParams.directions,i.directions||{}),this.queryParams=i;var r=this.state=s({},C.state,this.state,t.state||{});r.currentPage=null==r.currentPage?r.firstPage:r.currentPage,h(e)||(e=e?[e]:[]),e=e.slice(),"server"==n||null!=r.totalRecords||f(e)||(r.totalRecords=e.length),this.switchMode(n,s({fetch:!1,resetState:!1,models:e},t));var a=t.comparator;if(r.sortKey&&!a&&this.setSorting(r.sortKey,r.order,t),"server"!=n){var l=this.fullCollection;a&&t.full&&(this.comparator=null,l.comparator=a),t.full&&l.sort(),e&&!f(e)&&(this.reset(e,s({silent:!0},t)),this.getPage(r.currentPage),e.splice.apply(e,[0,e.length].concat(this.models)))}this._initState=o(this.state)},_makeFullCollection:function(e,n){var i,r,s,a=["url","model","sync","comparator"],o=this.constructor.prototype,l={};for(i=0,r=a.length;r>i;i++)s=a[i],y(o[s])||(l[s]=o[s]);var u=new(t.Collection.extend(l))(e,n);for(i=0,r=a.length;r>i;i++)s=a[i],this[s]!==o[s]&&(u[s]=this[s]);return u},_makeCollectionEventHandler:function(e,t){return function(n,i,a,u){var c=e._handlers;l(v(c),function(n){var i=c[n];e.off(n,i),t.off(n,i)});var f=o(e.state),p=f.firstPage,d=0===p?f.currentPage:f.currentPage-1,h=f.pageSize,g=d*h,m=g+h;if("add"==n){var w,x,_,S,u=u||{};if(a==t)x=t.indexOf(i),x>=g&&m>x&&(S=e,w=_=x-g);else{w=e.indexOf(i),x=g+w,S=t;var _=y(u.at)?x:u.at+g}if(u.onRemove||(++f.totalRecords,delete u.onRemove),e.state=e._checkState(f),S){S.add(i,s({},u||{},{at:_}));var A=w>=h?i:!y(u.at)&&m>_&&e.length>h?e.at(h):null;A&&r(a,n,function(){e.remove(A,{onAdd:!0})})}}if("remove"==n)if(u.onAdd)delete u.onAdd;else{if(--f.totalRecords){var T=f.totalPages=b(f.totalRecords/h);f.lastPage=0===p?T-1:T||p,f.currentPage>T&&(f.currentPage=f.lastPage)}else f.totalRecords=null,f.totalPages=null;e.state=e._checkState(f);var C,k=u.index;a==e?((C=t.at(m))?r(e,n,function(){e.push(C,{onRemove:!0})}):!e.length&&f.totalRecords&&e.reset(t.models.slice(g-h,m-h),s({},u,{parse:!1})),t.remove(i)):k>=g&&m>k&&((C=t.at(m-1))&&r(e,n,function(){e.push(C,{onRemove:!0})}),e.remove(i),!e.length&&f.totalRecords&&e.reset(t.models.slice(g-h,m-h),s({},u,{parse:!1})))}if("reset"==n)if(u=a,a=i,a==e&&null==u.from&&null==u.to){var P=t.models.slice(0,g),E=t.models.slice(g+e.models.length);t.reset(P.concat(e.models).concat(E),u)}else a==t&&((f.totalRecords=t.models.length)||(f.totalRecords=null,f.totalPages=null),"client"==e.mode&&(f.lastPage=f.currentPage=f.firstPage),e.state=e._checkState(f),e.reset(t.models.slice(g,m),s({},u,{parse:!1})));"sort"==n&&(u=a,a=i,a===t&&e.reset(t.models.slice(g,m),s({},u,{parse:!1}))),l(v(c),function(n){var i=c[n];l([e,t],function(e){e.on(n,i);var t=e._events[n]||[];t.unshift(t.pop())})})}},_checkState:function(e){var t=this.mode,i=this.links,r=e.totalRecords,s=e.pageSize,a=e.currentPage,o=e.firstPage,l=e.totalPages;if(null!=r&&null!=s&&null!=a&&null!=o&&("infinite"==t?i:!0)){if(r=n(r,"totalRecords"),s=n(s,"pageSize"),a=n(a,"currentPage"),o=n(o,"firstPage"),1>s)throw new RangeError("`pageSize` must be >= 1");if(l=e.totalPages=b(r/s),0>o||o>1)throw new RangeError("`firstPage must be 0 or 1`");if(e.lastPage=0===o?x(0,l-1):l||o,"infinite"==t){if(!i[a+""])throw new RangeError("No link found for page "+a)}else if(o>a||l>0&&(o?a>l:a>=l))throw new RangeError("`currentPage` must be firstPage <= currentPage "+(o?">":">=")+" totalPages if "+o+"-based. Got "+a+".")}return e},setPageSize:function(e,t){e=n(e,"pageSize"),t=t||{first:!1};var i=this.state,r=b(i.totalRecords/e),o=r?x(i.firstPage,w(r*i.currentPage/i.totalPages)):i.firstPage;return i=this.state=this._checkState(s({},i,{pageSize:e,currentPage:t.first?i.firstPage:o,totalPages:r})),this.getPage(i.currentPage,a(t,["first"]))},switchMode:function(t,n){if(!c(["server","client","infinite"],t))throw new TypeError('`mode` must be one of "server", "client" or "infinite"');n=n||{fetch:!0,resetState:!0};var i=this.state=n.resetState?o(this._initState):this._checkState(s({},this.state));this.mode=t;var r,u=this,f=this.fullCollection,p=this._handlers=this._handlers||{};if("server"==t||f)"server"==t&&f&&(l(v(p),function(e){r=p[e],u.off(e,r),f.off(e,r)}),delete this._handlers,this._fullComparator=f.comparator,delete this.fullCollection);else{f=this._makeFullCollection(n.models||[],n),f.pageableCollection=this,this.fullCollection=f;var d=this._makeCollectionEventHandler(this,f);l(["add","remove","reset","sort"],function(t){p[t]=r=e.bind(d,{},t),u.on(t,r),f.on(t,r)}),f.comparator=this._fullComparator}if("infinite"==t)for(var h=this.links={},g=i.firstPage,m=b(i.totalRecords/i.pageSize),y=0===g?x(0,m-1):m||g,w=i.firstPage;y>=w;w++)h[w]=this.url;else this.links&&delete this.links;return n.fetch?this.fetch(a(n,"fetch","resetState")):this},hasPreviousPage:function(){var e=this.state,t=e.currentPage;return"infinite"!=this.mode?t>e.firstPage:!!this.links[t-1]},hasNextPage:function(){var e=this.state,t=this.state.currentPage;return"infinite"!=this.mode?t<e.lastPage:!!this.links[t+1]},getFirstPage:function(e){return this.getPage("first",e)},getPreviousPage:function(e){return this.getPage("prev",e)},getNextPage:function(e){return this.getPage("next",e)},getLastPage:function(e){return this.getPage("last",e)},getPage:function(e,t){var i=this.mode,r=this.fullCollection;t=t||{fetch:!1};var o=this.state,l=o.firstPage,u=o.currentPage,c=o.lastPage,p=o.pageSize,d=e;switch(e){case"first":d=l;break;case"prev":d=u-1;break;case"next":d=u+1;break;case"last":d=c;break;default:d=n(e,"index")}this.state=this._checkState(s({},o,{currentPage:d})),t.from=u,t.to=d;var h=(0===l?d:d-1)*p,g=r&&r.length?r.models.slice(h,h+p):[];return"client"!=i&&("infinite"!=i||f(g))||t.fetch?("infinite"==i&&(t.url=this.links[d]),this.fetch(a(t,"fetch"))):(this.reset(g,a(t,"fetch")),this)},getPageByOffset:function(e,t){if(0>e)throw new RangeError("`offset must be > 0`");e=n(e);var i=w(e/this.state.pageSize);return 0!==this.state.firstPage&&i++,i>this.state.lastPage&&(i=this.state.lastPage),this.getPage(i,t)},sync:function(e,n,i){var r=this;if("infinite"==r.mode){var a=i.success,o=r.state.currentPage;i.success=function(e,t,n){var l=r.links,u=r.parseLinks(e,s({xhr:n},i));u.first&&(l[r.state.firstPage]=u.first),u.prev&&(l[o-1]=u.prev),u.next&&(l[o+1]=u.next),a&&a(e,t,n)}}return(_.sync||t.sync).call(r,e,n,i)},parseLinks:function(e,t){var n={},i=t.xhr.getResponseHeader("Link");if(i){var r=["first","prev","next"];l(i.split(","),function(e){var t=e.split(";"),i=t[0].replace(A,""),s=t.slice(1);l(s,function(e){var t=e.split("="),s=t[0].replace(S,""),a=t[1].replace(S,"");"rel"==s&&c(r,a)&&(n[a]=i)})})}return n},parse:function(e,t){var n=this.parseState(e,o(this.queryParams),o(this.state),t);return n&&(this.state=this._checkState(s({},this.state,n))),this.parseRecords(e,t)},parseState:function(t,n,i){if(t&&2===t.length&&m(t[0])&&h(t[1])){var r=o(i),s=t[0];return l(p(a(n,"directions")),function(t){var n=t[0],i=t[1],a=s[i];y(a)||e.isNull(a)||(r[n]=s[i])}),s.order&&(r.order=1*d(n.directions)[s.order]),r}},parseRecords:function(e){return e&&2===e.length&&m(e[0])&&h(e[1])?e[1]:e},fetch:function(e){e=e||{};var t=this._checkState(this.state),n=this.mode;"infinite"!=n||e.url||(e.url=this.links[t.currentPage]);var r=e.data||{},l=e.url||this.url||"";g(l)&&(l=l.call(this));var c=l.indexOf("?");-1!=c&&(s(r,i(l.slice(c+1))),l=l.slice(0,c)),e.url=l,e.data=r;var f,d,h,m,b="client"==this.mode?u(this.queryParams,"sortKey","order"):a(u(this.queryParams,v(C.queryParams)),"directions"),w=p(b),x=o(this);for(f=0;f<w.length;f++)d=w[f],h=d[0],m=d[1],m=g(m)?m.call(x):m,null!=t[h]&&null!=m&&(r[m]=t[h]);if(t.sortKey&&t.order){var S=g(b.order)?b.order.call(x):b.order;r[S]=this.queryParams.directions[t.order+""]}else t.sortKey||delete r[b.order];var A=p(a(this.queryParams,v(C.queryParams)));for(f=0;f<A.length;f++)d=A[f],m=d[1],m=g(m)?m.call(x):m,null!=m&&(r[d[0]]=m);if("server"!=n){var T=this,k=this.fullCollection,P=e.success;return e.success=function(t,i,r){r=r||{},y(e.silent)?delete r.silent:r.silent=e.silent;var a=t.models;"client"==n?k.reset(a,r):(k.add(a,s({at:k.length},s(r,{parse:!1}))),T.trigger("reset",T,r)),P&&P(t,i,r)},_.fetch.call(this,s({},e,{silent:!0}))}return _.fetch.call(this,e)},_makeComparator:function(e,t,n){var i=this.state;return e=e||i.sortKey,t=t||i.order,e&&t?(n||(n=function(e,t){return e.get(t)}),function(i,r){var s,a=n(i,e),o=n(r,e);return 1===t&&(s=a,a=o,o=s),a===o?0:o>a?-1:1}):void 0},setSorting:function(e,t,n){var i=this.state;i.sortKey=e,i.order=t=t||i.order;var r=this.fullCollection,a=!1,o=!1;e||(a=o=!0);var l=this.mode;n=s({side:"client"==l?l:"server",full:!0},n);var u=this._makeComparator(e,t,n.sortValue),c=n.full,f=n.side;return"client"==f?c?(r&&(r.comparator=u),a=!0):(this.comparator=u,o=!0):"server"!=f||c||(this.comparator=u),a&&(this.comparator=null),o&&r&&(r.comparator=null),this}}),C=T.prototype;return T});(function(e){e.fn.clickonmouseover=function(t){var n={color:false,speed:1e3};if(t){e.extend(n,t);if(n.speed<=0)n.speed=1}return this.each(function(){var t=e(this);var i=t;var r=i.css("backgroundColor");var s="rgba("+255+","+0+","+0+", 1)";if(!n.color){var a=r.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);a=a&&a.length===4?"rgb("+parseInt(a[1],10)+","+parseInt(a[2],10)+","+parseInt(a[3],10)+")":"rgb(0,0,0)";var o=-.3;var l=a.split(","),u=o<0?0:255,c=o<0?o*-1:o,f=parseInt(l[0].slice(4)),p=parseInt(l[1]),d=parseInt(l[2]);var h="rgba("+(Math.round((u-f)*c)+f)+","+(Math.round((u-p)*c)+p)+","+(Math.round((u-d)*c)+d)+",1)"}else var h=n.color;i.mouseenter(function(){var e=+new Date;clearInterval(i.data("animation_interval"));i.data("animation_interval",setInterval(function(){var t=+new Date;o=Math.round((t-e)/n.speed*100);if(o>100)o=100;var s=o+1;i.css({background:"-webkit-gradient(linear, left top, right top, color-stop(0%,"+h+"), color-stop("+o+"%,"+h+"), color-stop("+s+"%,"+r+"));"}).css({background:"-webkit-linear-gradient(left, "+h+" 0%, "+h+" "+o+"%, "+r+" "+s+"%)"}).css({background:"-moz-linear-gradient(left, "+h+" 0%, "+h+" "+o+"%, "+r+" "+s+"%)"}).css({background:"-o-linear-gradient(left, "+h+" 0%, "+h+" "+o+"%, "+r+" "+s+"%)"}).css({background:"-ms-linear-gradient(left, "+h+" 0%, "+h+" "+o+"%, "+r+" "+s+"%)"}).css({background:"linear-gradient(to right, "+h+" 0%, "+h+" "+o+"%, "+r+" "+s+"%)"});if(o==100){clearInterval(i.data("animation_interval"));i[0].click();return}},1))});i.mouseleave(function(){clearInterval(i.data("animation_interval"));i.css("background","").css("backgroundColor",r)})})}})(jQuery);(function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(window.jQuery||window.Zepto)})(function(e){var t,n,i,r,s,a,o,l="Close",u="BeforeClose",c="AfterClose",f="BeforeAppend",p="MarkupParse",d="Open",h="Change",g="mfp",m="."+g,v="mfp-ready",y="mfp-removing",b="mfp-prevent-close",w=function(){},x=!!window.jQuery,_=e(window),S=function(e,n){t.ev.on(g+e+m,n)},A=function(t,n,i,r){var s=document.createElement("div");return s.className="mfp-"+t,i&&(s.innerHTML=i),r?n&&n.appendChild(s):(s=e(s),n&&s.appendTo(n)),s},T=function(n,i){t.ev.triggerHandler(g+n,i),t.st.callbacks&&(n=n.charAt(0).toLowerCase()+n.slice(1),t.st.callbacks[n]&&t.st.callbacks[n].apply(t,e.isArray(i)?i:[i]))},C=function(n){return n===o&&t.currTemplate.closeBtn||(t.currTemplate.closeBtn=e(t.st.closeMarkup.replace("%title%",t.st.tClose)),o=n),t.currTemplate.closeBtn},k=function(){e.magnificPopup.instance||(t=new w,t.init(),e.magnificPopup.instance=t)},P=function(){var e=document.createElement("p").style,t=["ms","O","Moz","Webkit"];if(void 0!==e.transition)return!0;for(;t.length;)if(t.pop()+"Transition"in e)return!0;return!1};w.prototype={constructor:w,init:function(){var n=navigator.appVersion;t.isIE7=-1!==n.indexOf("MSIE 7."),t.isIE8=-1!==n.indexOf("MSIE 8."),t.isLowIE=t.isIE7||t.isIE8,t.isAndroid=/android/gi.test(n),t.isIOS=/iphone|ipad|ipod/gi.test(n),t.supportsTransition=P(),t.probablyMobile=t.isAndroid||t.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),r=e(document),t.popupsCache={}},open:function(n){i||(i=e(document.body));var s;if(n.isObj===!1){t.items=n.items.toArray(),t.index=0;var o,l=n.items;for(s=0;l.length>s;s++)if(o=l[s],o.parsed&&(o=o.el[0]),o===n.el[0]){t.index=s;break}}else t.items=e.isArray(n.items)?n.items:[n.items],t.index=n.index||0;if(t.isOpen)return t.updateItemHTML(),void 0;t.types=[],a="",t.ev=n.mainEl&&n.mainEl.length?n.mainEl.eq(0):r,n.key?(t.popupsCache[n.key]||(t.popupsCache[n.key]={}),t.currTemplate=t.popupsCache[n.key]):t.currTemplate={},t.st=e.extend(!0,{},e.magnificPopup.defaults,n),t.fixedContentPos="auto"===t.st.fixedContentPos?!t.probablyMobile:t.st.fixedContentPos,t.st.modal&&(t.st.closeOnContentClick=!1,t.st.closeOnBgClick=!1,t.st.showCloseBtn=!1,t.st.enableEscapeKey=!1),t.bgOverlay||(t.bgOverlay=A("bg").on("click"+m,function(){t.close()}),t.wrap=A("wrap").attr("tabindex",-1).on("click"+m,function(e){t._checkIfClose(e.target)&&t.close()}),t.container=A("container",t.wrap)),t.contentContainer=A("content"),t.st.preloader&&(t.preloader=A("preloader",t.container,t.st.tLoading));var u=e.magnificPopup.modules;for(s=0;u.length>s;s++){var c=u[s];c=c.charAt(0).toUpperCase()+c.slice(1),t["init"+c].call(t)}T("BeforeOpen"),t.st.showCloseBtn&&(t.st.closeBtnInside?(S(p,function(e,t,n,i){n.close_replaceWith=C(i.type)}),a+=" mfp-close-btn-in"):t.wrap.append(C())),t.st.alignTop&&(a+=" mfp-align-top"),t.fixedContentPos?t.wrap.css({overflow:t.st.overflowY,overflowX:"hidden",overflowY:t.st.overflowY}):t.wrap.css({top:_.scrollTop(),position:"absolute"}),(t.st.fixedBgPos===!1||"auto"===t.st.fixedBgPos&&!t.fixedContentPos)&&t.bgOverlay.css({height:r.height(),position:"absolute"}),t.st.enableEscapeKey&&r.on("keyup"+m,function(e){27===e.keyCode&&t.close()}),_.on("resize"+m,function(){t.updateSize()}),t.st.closeOnContentClick||(a+=" mfp-auto-cursor"),a&&t.wrap.addClass(a);var f=t.wH=_.height(),h={};if(t.fixedContentPos&&t._hasScrollBar(f)){var g=t._getScrollbarSize();g&&(h.marginRight=g)}t.fixedContentPos&&(t.isIE7?e("body, html").css("overflow","hidden"):h.overflow="hidden");var y=t.st.mainClass;return t.isIE7&&(y+=" mfp-ie7"),y&&t._addClassToMFP(y),t.updateItemHTML(),T("BuildControls"),e("html").css(h),t.bgOverlay.add(t.wrap).prependTo(t.st.prependTo||i),t._lastFocusedEl=document.activeElement,setTimeout(function(){t.content?(t._addClassToMFP(v),t._setFocus()):t.bgOverlay.addClass(v),r.on("focusin"+m,t._onFocusIn)},16),t.isOpen=!0,t.updateSize(f),T(d),n},close:function(){t.isOpen&&(T(u),t.isOpen=!1,t.st.removalDelay&&!t.isLowIE&&t.supportsTransition?(t._addClassToMFP(y),setTimeout(function(){t._close()},t.st.removalDelay)):t._close())},_close:function(){T(l);var n=y+" "+v+" ";if(t.bgOverlay.detach(),t.wrap.detach(),t.container.empty(),t.st.mainClass&&(n+=t.st.mainClass+" "),t._removeClassFromMFP(n),t.fixedContentPos){var i={marginRight:""};t.isIE7?e("body, html").css("overflow",""):i.overflow="",e("html").css(i)}r.off("keyup"+m+" focusin"+m),t.ev.off(m),t.wrap.attr("class","mfp-wrap").removeAttr("style"),t.bgOverlay.attr("class","mfp-bg"),t.container.attr("class","mfp-container"),!t.st.showCloseBtn||t.st.closeBtnInside&&t.currTemplate[t.currItem.type]!==!0||t.currTemplate.closeBtn&&t.currTemplate.closeBtn.detach(),t._lastFocusedEl&&e(t._lastFocusedEl).focus(),t.currItem=null,t.content=null,t.currTemplate=null,t.prevHeight=0,T(c)},updateSize:function(e){if(t.isIOS){var n=document.documentElement.clientWidth/window.innerWidth,i=window.innerHeight*n;t.wrap.css("height",i),t.wH=i}else t.wH=e||_.height();t.fixedContentPos||t.wrap.css("height",t.wH),T("Resize")},updateItemHTML:function(){var n=t.items[t.index];t.contentContainer.detach(),t.content&&t.content.detach(),n.parsed||(n=t.parseEl(t.index));var i=n.type;if(T("BeforeChange",[t.currItem?t.currItem.type:"",i]),t.currItem=n,!t.currTemplate[i]){var r=t.st[i]?t.st[i].markup:!1;T("FirstMarkupParse",r),t.currTemplate[i]=r?e(r):!0}s&&s!==n.type&&t.container.removeClass("mfp-"+s+"-holder");var a=t["get"+i.charAt(0).toUpperCase()+i.slice(1)](n,t.currTemplate[i]);t.appendContent(a,i),n.preloaded=!0,T(h,n),s=n.type,t.container.prepend(t.contentContainer),T("AfterChange")},appendContent:function(e,n){t.content=e,e?t.st.showCloseBtn&&t.st.closeBtnInside&&t.currTemplate[n]===!0?t.content.find(".mfp-close").length||t.content.append(C()):t.content=e:t.content="",T(f),t.container.addClass("mfp-"+n+"-holder"),t.contentContainer.append(t.content)},parseEl:function(n){var i,r=t.items[n];if(r.tagName?r={el:e(r)}:(i=r.type,r={data:r,src:r.src}),r.el){for(var s=t.types,a=0;s.length>a;a++)if(r.el.hasClass("mfp-"+s[a])){i=s[a];break}r.src=r.el.attr("data-mfp-src"),r.src||(r.src=r.el.attr("href"))}return r.type=i||t.st.type||"inline",r.index=n,r.parsed=!0,t.items[n]=r,T("ElementParse",r),t.items[n]},addGroup:function(e,n){var i=function(i){i.mfpEl=this,t._openClick(i,e,n)};n||(n={});var r="click.magnificPopup";n.mainEl=e,n.items?(n.isObj=!0,e.off(r).on(r,i)):(n.isObj=!1,n.delegate?e.off(r).on(r,n.delegate,i):(n.items=e,e.off(r).on(r,i)))},_openClick:function(n,i,r){var s=void 0!==r.midClick?r.midClick:e.magnificPopup.defaults.midClick;if(s||2!==n.which&&!n.ctrlKey&&!n.metaKey){var a=void 0!==r.disableOn?r.disableOn:e.magnificPopup.defaults.disableOn;if(a)if(e.isFunction(a)){if(!a.call(t))return!0}else if(a>_.width())return!0;n.type&&(n.preventDefault(),t.isOpen&&n.stopPropagation()),r.el=e(n.mfpEl),r.delegate&&(r.items=i.find(r.delegate)),t.open(r)}},updateStatus:function(e,i){if(t.preloader){n!==e&&t.container.removeClass("mfp-s-"+n),i||"loading"!==e||(i=t.st.tLoading);var r={status:e,text:i};T("UpdateStatus",r),e=r.status,i=r.text,t.preloader.html(i),t.preloader.find("a").on("click",function(e){e.stopImmediatePropagation()}),t.container.addClass("mfp-s-"+e),n=e}},_checkIfClose:function(n){if(!e(n).hasClass(b)){var i=t.st.closeOnContentClick,r=t.st.closeOnBgClick;if(i&&r)return!0;if(!t.content||e(n).hasClass("mfp-close")||t.preloader&&n===t.preloader[0])return!0;if(n===t.content[0]||e.contains(t.content[0],n)){if(i)return!0}else if(r&&e.contains(document,n))return!0;return!1}},_addClassToMFP:function(e){t.bgOverlay.addClass(e),t.wrap.addClass(e)},_removeClassFromMFP:function(e){this.bgOverlay.removeClass(e),t.wrap.removeClass(e)},_hasScrollBar:function(e){return(t.isIE7?r.height():document.body.scrollHeight)>(e||_.height())},_setFocus:function(){(t.st.focus?t.content.find(t.st.focus).eq(0):t.wrap).focus()},_onFocusIn:function(n){return n.target===t.wrap[0]||e.contains(t.wrap[0],n.target)?void 0:(t._setFocus(),!1)},_parseMarkup:function(t,n,i){var r;i.data&&(n=e.extend(i.data,n)),T(p,[t,n,i]),e.each(n,function(e,n){if(void 0===n||n===!1)return!0;if(r=e.split("_"),r.length>1){var i=t.find(m+"-"+r[0]);if(i.length>0){var s=r[1];"replaceWith"===s?i[0]!==n[0]&&i.replaceWith(n):"img"===s?i.is("img")?i.attr("src",n):i.replaceWith('<img src="'+n+'" class="'+i.attr("class")+'" />'):i.attr(r[1],n)}}else t.find(m+"-"+e).html(n)})},_getScrollbarSize:function(){if(void 0===t.scrollbarSize){var e=document.createElement("div");e.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e),t.scrollbarSize=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return t.scrollbarSize}},e.magnificPopup={instance:null,proto:w.prototype,
modules:[],open:function(t,n){return k(),t=t?e.extend(!0,{},t):{},t.isObj=!0,t.index=n||0,this.instance.open(t)},close:function(){return e.magnificPopup.instance&&e.magnificPopup.instance.close()},registerModule:function(t,n){n.options&&(e.magnificPopup.defaults[t]=n.options),e.extend(this.proto,n.proto),this.modules.push(t)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&times;</button>',tClose:"Close (Esc)",tLoading:"Loading..."}},e.fn.magnificPopup=function(n){k();var i=e(this);if("string"==typeof n)if("open"===n){var r,s=x?i.data("magnificPopup"):i[0].magnificPopup,a=parseInt(arguments[1],10)||0;s.items?r=s.items[a]:(r=i,s.delegate&&(r=r.find(s.delegate)),r=r.eq(a)),t._openClick({mfpEl:r},i,s)}else t.isOpen&&t[n].apply(t,Array.prototype.slice.call(arguments,1));else n=e.extend(!0,{},n),x?i.data("magnificPopup",n):i[0].magnificPopup=n,t.addGroup(i,n);return i};var E,N,j,M="inline",D=function(){j&&(N.after(j.addClass(E)).detach(),j=null)};e.magnificPopup.registerModule(M,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){t.types.push(M),S(l+"."+M,function(){D()})},getInline:function(n,i){if(D(),n.src){var r=t.st.inline,s=e(n.src);if(s.length){var a=s[0].parentNode;a&&a.tagName&&(N||(E=r.hiddenClass,N=A(E),E="mfp-"+E),j=s.after(N).detach().removeClass(E)),t.updateStatus("ready")}else t.updateStatus("error",r.tNotFound),s=e("<div>");return n.inlineElement=s,s}return t.updateStatus("ready"),t._parseMarkup(i,{},n),i}}});var I,$="ajax",O=function(){I&&i.removeClass(I)},L=function(){O(),t.req&&t.req.abort()};e.magnificPopup.registerModule($,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){t.types.push($),I=t.st.ajax.cursor,S(l+"."+$,L),S("BeforeChange."+$,L)},getAjax:function(n){I&&i.addClass(I),t.updateStatus("loading");var r=e.extend({url:n.src,success:function(i,r,s){var a={data:i,xhr:s};T("ParseAjax",a),t.appendContent(e(a.data),$),n.finished=!0,O(),t._setFocus(),setTimeout(function(){t.wrap.addClass(v)},16),t.updateStatus("ready"),T("AjaxContentAdded")},error:function(){O(),n.finished=n.loadError=!0,t.updateStatus("error",t.st.ajax.tError.replace("%url%",n.src))}},t.st.ajax.settings);return t.req=e.ajax(r),""}}});var R,B=function(n){if(n.data&&void 0!==n.data.title)return n.data.title;var i=t.st.image.titleSrc;if(i){if(e.isFunction(i))return i.call(t,n);if(n.el)return n.el.attr(i)||""}return""};e.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var e=t.st.image,n=".image";t.types.push("image"),S(d+n,function(){"image"===t.currItem.type&&e.cursor&&i.addClass(e.cursor)}),S(l+n,function(){e.cursor&&i.removeClass(e.cursor),_.off("resize"+m)}),S("Resize"+n,t.resizeImage),t.isLowIE&&S("AfterChange",t.resizeImage)},resizeImage:function(){var e=t.currItem;if(e&&e.img&&t.st.image.verticalFit){var n=0;t.isLowIE&&(n=parseInt(e.img.css("padding-top"),10)+parseInt(e.img.css("padding-bottom"),10)),e.img.css("max-height",t.wH-n)}},_onImageHasSize:function(e){e.img&&(e.hasSize=!0,R&&clearInterval(R),e.isCheckingImgSize=!1,T("ImageHasSize",e),e.imgHidden&&(t.content&&t.content.removeClass("mfp-loading"),e.imgHidden=!1))},findImageSize:function(e){var n=0,i=e.img[0],r=function(s){R&&clearInterval(R),R=setInterval(function(){return i.naturalWidth>0?(t._onImageHasSize(e),void 0):(n>200&&clearInterval(R),n++,3===n?r(10):40===n?r(50):100===n&&r(500),void 0)},s)};r(1)},getImage:function(n,i){var r=0,s=function(){n&&(n.img[0].complete?(n.img.off(".mfploader"),n===t.currItem&&(t._onImageHasSize(n),t.updateStatus("ready")),n.hasSize=!0,n.loaded=!0,T("ImageLoadComplete")):(r++,200>r?setTimeout(s,100):a()))},a=function(){n&&(n.img.off(".mfploader"),n===t.currItem&&(t._onImageHasSize(n),t.updateStatus("error",o.tError.replace("%url%",n.src))),n.hasSize=!0,n.loaded=!0,n.loadError=!0)},o=t.st.image,l=i.find(".mfp-img");if(l.length){var u=document.createElement("img");u.className="mfp-img",n.el&&n.el.find("img").length&&(u.alt=n.el.find("img").attr("alt")),n.img=e(u).on("load.mfploader",s).on("error.mfploader",a),u.src=n.src,l.is("img")&&(n.img=n.img.clone()),u=n.img[0],u.naturalWidth>0?n.hasSize=!0:u.width||(n.hasSize=!1)}return t._parseMarkup(i,{title:B(n),img_replaceWith:n.img},n),t.resizeImage(),n.hasSize?(R&&clearInterval(R),n.loadError?(i.addClass("mfp-loading"),t.updateStatus("error",o.tError.replace("%url%",n.src))):(i.removeClass("mfp-loading"),t.updateStatus("ready")),i):(t.updateStatus("loading"),n.loading=!0,n.hasSize||(n.imgHidden=!0,i.addClass("mfp-loading"),t.findImageSize(n)),i)}}});var F,z=function(){return void 0===F&&(F=void 0!==document.createElement("p").style.MozTransform),F};e.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(e){return e.is("img")?e:e.find("img")}},proto:{initZoom:function(){var e,n=t.st.zoom,i=".zoom";if(n.enabled&&t.supportsTransition){var r,s,a=n.duration,o=function(e){var t=e.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),i="all "+n.duration/1e3+"s "+n.easing,r={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},s="transition";return r["-webkit-"+s]=r["-moz-"+s]=r["-o-"+s]=r[s]=i,t.css(r),t},c=function(){t.content.css("visibility","visible")};S("BuildControls"+i,function(){if(t._allowZoom()){if(clearTimeout(r),t.content.css("visibility","hidden"),e=t._getItemToZoom(),!e)return c(),void 0;s=o(e),s.css(t._getOffset()),t.wrap.append(s),r=setTimeout(function(){s.css(t._getOffset(!0)),r=setTimeout(function(){c(),setTimeout(function(){s.remove(),e=s=null,T("ZoomAnimationEnded")},16)},a)},16)}}),S(u+i,function(){if(t._allowZoom()){if(clearTimeout(r),t.st.removalDelay=a,!e){if(e=t._getItemToZoom(),!e)return;s=o(e)}s.css(t._getOffset(!0)),t.wrap.append(s),t.content.css("visibility","hidden"),setTimeout(function(){s.css(t._getOffset())},16)}}),S(l+i,function(){t._allowZoom()&&(c(),s&&s.remove(),e=null)})}},_allowZoom:function(){return"image"===t.currItem.type},_getItemToZoom:function(){return t.currItem.hasSize?t.currItem.img:!1},_getOffset:function(n){var i;i=n?t.currItem.img:t.st.zoom.opener(t.currItem.el||t.currItem);var r=i.offset(),s=parseInt(i.css("padding-top"),10),a=parseInt(i.css("padding-bottom"),10);r.top-=e(window).scrollTop()-s;var o={width:i.width(),height:(x?i.innerHeight():i[0].offsetHeight)-a-s};return z()?o["-moz-transform"]=o.transform="translate("+r.left+"px,"+r.top+"px)":(o.left=r.left,o.top=r.top),o}}});var H="iframe",U="//about:blank",V=function(e){if(t.currTemplate[H]){var n=t.currTemplate[H].find("iframe");n.length&&(e||(n[0].src=U),t.isIE8&&n.css("display",e?"block":"none"))}};e.magnificPopup.registerModule(H,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){t.types.push(H),S("BeforeChange",function(e,t,n){t!==n&&(t===H?V():n===H&&V(!0))}),S(l+"."+H,function(){V()})},getIframe:function(n,i){var r=n.src,s=t.st.iframe;e.each(s.patterns,function(){return r.indexOf(this.index)>-1?(this.id&&(r="string"==typeof this.id?r.substr(r.lastIndexOf(this.id)+this.id.length,r.length):this.id.call(this,r)),r=this.src.replace("%id%",r),!1):void 0});var a={};return s.srcAction&&(a[s.srcAction]=r),t._parseMarkup(i,a,n),t.updateStatus("ready"),i}}});var q=function(e){var n=t.items.length;return e>n-1?e-n:0>e?n+e:e},W=function(e,t,n){return e.replace(/%curr%/gi,t+1).replace(/%total%/gi,n)};e.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var n=t.st.gallery,i=".mfp-gallery",s=Boolean(e.fn.mfpFastClick);return t.direction=!0,n&&n.enabled?(a+=" mfp-gallery",S(d+i,function(){n.navigateByImgClick&&t.wrap.on("click"+i,".mfp-img",function(){return t.items.length>1?(t.next(),!1):void 0}),r.on("keydown"+i,function(e){37===e.keyCode?t.prev():39===e.keyCode&&t.next()})}),S("UpdateStatus"+i,function(e,n){n.text&&(n.text=W(n.text,t.currItem.index,t.items.length))}),S(p+i,function(e,i,r,s){var a=t.items.length;r.counter=a>1?W(n.tCounter,s.index,a):""}),S("BuildControls"+i,function(){if(t.items.length>1&&n.arrows&&!t.arrowLeft){var i=n.arrowMarkup,r=t.arrowLeft=e(i.replace(/%title%/gi,n.tPrev).replace(/%dir%/gi,"left")).addClass(b),a=t.arrowRight=e(i.replace(/%title%/gi,n.tNext).replace(/%dir%/gi,"right")).addClass(b),o=s?"mfpFastClick":"click";r[o](function(){t.prev()}),a[o](function(){t.next()}),t.isIE7&&(A("b",r[0],!1,!0),A("a",r[0],!1,!0),A("b",a[0],!1,!0),A("a",a[0],!1,!0)),t.container.append(r.add(a))}}),S(h+i,function(){t._preloadTimeout&&clearTimeout(t._preloadTimeout),t._preloadTimeout=setTimeout(function(){t.preloadNearbyImages(),t._preloadTimeout=null},16)}),S(l+i,function(){r.off(i),t.wrap.off("click"+i),t.arrowLeft&&s&&t.arrowLeft.add(t.arrowRight).destroyMfpFastClick(),t.arrowRight=t.arrowLeft=null}),void 0):!1},next:function(){t.direction=!0,t.index=q(t.index+1),t.updateItemHTML()},prev:function(){t.direction=!1,t.index=q(t.index-1),t.updateItemHTML()},goTo:function(e){t.direction=e>=t.index,t.index=e,t.updateItemHTML()},preloadNearbyImages:function(){var e,n=t.st.gallery.preload,i=Math.min(n[0],t.items.length),r=Math.min(n[1],t.items.length);for(e=1;(t.direction?r:i)>=e;e++)t._preloadItem(t.index+e);for(e=1;(t.direction?i:r)>=e;e++)t._preloadItem(t.index-e)},_preloadItem:function(n){if(n=q(n),!t.items[n].preloaded){var i=t.items[n];i.parsed||(i=t.parseEl(n)),T("LazyLoad",i),"image"===i.type&&(i.img=e('<img class="mfp-img" />').on("load.mfploader",function(){i.hasSize=!0}).on("error.mfploader",function(){i.hasSize=!0,i.loadError=!0,T("LazyLoadError",i)}).attr("src",i.src)),i.preloaded=!0}}}});var J="retina";e.magnificPopup.registerModule(J,{options:{replaceSrc:function(e){return e.src.replace(/\.\w+$/,function(e){return"@2x"+e})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var e=t.st.retina,n=e.ratio;n=isNaN(n)?n():n,n>1&&(S("ImageHasSize."+J,function(e,t){t.img.css({"max-width":t.img[0].naturalWidth/n,width:"100%"})}),S("ElementParse."+J,function(t,i){i.src=e.replaceSrc(i,n)}))}}}}),function(){var t=1e3,n="ontouchstart"in window,i=function(){_.off("touchmove"+s+" touchend"+s)},r="mfpFastClick",s="."+r;e.fn.mfpFastClick=function(r){return e(this).each(function(){var a,o=e(this);if(n){var l,u,c,f,p,d;o.on("touchstart"+s,function(e){f=!1,d=1,p=e.originalEvent?e.originalEvent.touches[0]:e.touches[0],u=p.clientX,c=p.clientY,_.on("touchmove"+s,function(e){p=e.originalEvent?e.originalEvent.touches:e.touches,d=p.length,p=p[0],(Math.abs(p.clientX-u)>10||Math.abs(p.clientY-c)>10)&&(f=!0,i())}).on("touchend"+s,function(e){i(),f||d>1||(a=!0,e.preventDefault(),clearTimeout(l),l=setTimeout(function(){a=!1},t),r())})})}o.on("click"+s,function(){a||r()})})},e.fn.destroyMfpFastClick=function(){e(this).off("touchstart"+s+" click"+s),n&&_.off("touchmove"+s+" touchend"+s)}}(),k()});(function(){"use strict";var e={extend:function(e,t){if(t=JSON.parse(JSON.stringify(t)),"string"==typeof e)return t;var n,i;for(var n in e)i=e[n],e.hasOwnProperty(n)&&void 0!==i&&(t[n]=i);return t},queue:function(){function e(){var n=t.shift();n&&n(e)}var t=[];return function(n){t.push(n),1==t.length&&e()}}(),setcss:function(){function e(e){return e.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(e,t){return t.toUpperCase()})}function t(e){var t=document.body.style;if(e in t)return e;for(var n,i=r.length,s=e.charAt(0).toUpperCase()+e.slice(1);i--;)if(n=r[i]+s,n in t)return n;return e}function n(n){return n=e(n),s[n]||(s[n]=t(n))}function i(e,t,i){t=n(t),e.style[t]=i}var r=["Webkit","O","Moz","ms"],s={};return function(e,t){var n,r,s=arguments;if(2==s.length)for(n in t)r=t[n],void 0!==r&&t.hasOwnProperty(n)&&i(e,n,r);else i(e,s[1],s[2])}}(),clamp:function(e,t,n){return t>e?t:e>n?n:e},toBarPerc:function(e){return 100*(-1+e)},hasClass:function(t,n){var i="string"==typeof t?t:e.classList(t);return i.indexOf(" "+n+" ")>=0},addClass:function(t,n){var i=e.classList(t),r=i+n;e.hasClass(i,n)||(t.className=r.substring(1))},removeClass:function(t,n){var i,r=e.classList(t);e.hasClass(t,n)&&(i=r.replace(" "+n+" "," "),t.className=i.substring(1,i.length-1))},showEl:function(t){e.setcss(t,{display:"block"})},hideEl:function(t){e.setcss(t,{display:"none"})},classList:function(e){return(" "+(e.className||"")+" ").replace(/\s+/gi," ")},removeElement:function(e){e&&e.parentNode&&e.parentNode.removeChild(e)}},t=e;!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.Mprogress=t()}("undefined"!=typeof window?window:this,function(){var e={template:1,parent:"body",start:!1,minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800},n="99",i=500,r=1500,s='[role="mpbar"]',a='[role="bufferBar"]',o='[role="dashed"]',l={determinate:'<div class="deter-bar" role="mpbar1"><div class="peg"></div></div><div class="bar-bg"></div>',buffer:'<div class="deter-bar" role="mpbar2"><div class="peg"></div></div><div class="buffer-bg" role="bufferBar"></div><div class="mp-ui-dashed" role="dashed"></div>',indeterminate:'<div class="indeter-bar" role="mpbar3"></div><div class="bar-bg"></div>',query:'<div class="query-bar" role="mpbar4"><div class="peg"></div></div><div class="bar-bg"></div>'},u={},c=function(n){var i=t.extend(n,e),r=i.parent+i.template,s=u[r]||"";return s||(s=new f(i),u[r]=s),"string"==typeof n&&"function"==typeof s[n]?s[n]():i.start&&s.start(),s},f=function(e){this.options=e||{},this.status=null,this.bufferStatus=null};return f.prototype={version:"0.1.0",constructor:f,start:function(){function e(){setTimeout(function(){n.status&&(n._trickle(),e())},n.options.trickleSpeed)}if(this.status||this._isBufferStyle()||this.set(0),this._isIndeterminateStyle()||this._isQueryStyle())return this;var n=this;if(this._isBufferStyle()&&!this.bufferStatus){var r=this._render(),s=r.querySelector(o),a=r.querySelector(this._getCurrSelector());t.hideEl(a),t.hideEl(s),this.setBuffer(0).setBuffer(1),setTimeout(function(){t.showEl(s),t.showEl(a),n.set(0).setBuffer(0)},i)}return this.options.trickle&&e(),this},end:function(e){if(!e&&!this.status)return this;var n=this,s=this.options.speed,a=this._getRenderedId();if(this._isBufferStyle()&&e)return this.set(0).set(1);if(this._isIndeterminateStyle())return!this._isRendered()&&e&&(this.set(0),a=this._getRenderedId(),s=i),t.setcss(a,{transition:"none",opacity:1}),a.offsetWidth,setTimeout(function(){t.setcss(a,{transition:"all "+s+"ms linear",opacity:0}),setTimeout(function(){n._remove()},s)},s),this;if(this._isQueryStyle()){if(this._isRendered()){var o=a.querySelector(this._getCurrSelector());return t.addClass(o,"end"),setTimeout(function(){n._remove()},r),this}if(e)return this.set(0),a=this._getRenderedId(),setTimeout(function(){n._remove()},r),this}return this.inc(.3+.5*Math.random()).set(1)},set:function(e){return e=t.clamp(e,this.options.minimum,1),this.status=1===e?null:e,this._setProgress(this._getCurrSelector(),e),this},setBuffer:function(e){return e=t.clamp(e,this.options.minimum,1),this.bufferStatus=1===e?null:e,this._setProgress(a,e),this},inc:function(e){var t=this.status,n=this.bufferStatus;return t?(t=this._getRandomNum(t,e),this._isBufferStyle()&&(n=this._getRandomNum(n>t?n:t+.1,e),this.setBuffer(n)),this.set(t)):this.start()},_trickle:function(){return this.inc(Math.random()*this.options.trickleRate)},_render:function(e){if(this._isRendered())return this._getRenderedId();var n,i=document.createElement("div"),r=this._getCurrTemplate()||"",s=document.querySelector(this.options.parent);if(i.id=this._getRenderedId(!0),i.className="ui-mprogress",i.innerHTML=r,!this._isIndeterminateStyle()&&!this._isQueryStyle()){e||(n=!this._isStarted());var o=i.querySelector(this._getCurrSelector()),l=n?"-100":t.toBarPerc(this.status||0);if(t.setcss(o,{transition:"all 0 linear",transform:"translate3d("+l+"%,0,0)"}),this._isBufferStyle()){var u=i.querySelector(a),c=n?"-100":t.toBarPerc(this.bufferStatus||0);t.setcss(u,{transition:"all 0 linear",transform:"translate3d("+c+"%,0,0)"})}}return s!=document.body&&t.addClass(s,"mprogress-custom-parent"),s.appendChild(i),i},_remove:function(){var e=this._getRenderedId(),n=document.querySelector(this.options.parent);n!=document.body&&t.removeClass(n,"mprogress-custom-parent");var i=this.options.parent+this.options.template;u[i]&&(u[i]=null),e&&(this.status=null,this.bufferStatus=null,t.removeElement(e))},_setProgress:function(e,n){var i=this._render(),r=i.querySelector(e),s=this.options.speed,a=this.options.easing,o=this;return i.offsetWidth,this._isIndeterminateStyle()||this._isQueryStyle()?this:void t.queue(function(e){""===o.options.positionUsing&&(o.options.positionUsing=o._getPositioningCSS()),t.setcss(r,o._barPositionCSS(n,s,a)),1===n?(t.setcss(i,{transition:"none",opacity:1}),i.offsetWidth,setTimeout(function(){t.setcss(i,{transition:"all "+s+"ms linear",opacity:0}),setTimeout(function(){o._remove(),e()},s)},s)):setTimeout(e,s)})},_getCurrSelector:function(){var e=this._getCurrTplId();return e!==n?'[role="mpbar'+e+'"]':s},_isStarted:function(){return"number"==typeof this.status},_getRandomNum:function(e,n){return"number"!=typeof n&&(n=(1-e)*t.clamp(Math.random()*e,.1,.95)),e=t.clamp(e+n,0,.994)},_isRendered:function(){return!!this._getRenderedId()},_getRenderedId:function(e){var t=this._getCurrTplId(),n="mprogress"+t;return e?n:document.getElementById(n)},_isBufferStyle:function(){return 2===this._getCurrTplId()},_isIndeterminateStyle:function(){return 3===this._getCurrTplId()},_isQueryStyle:function(){return 4===this._getCurrTplId()},_getCurrTplId:function(){var e=~~this.options.template||1;return"number"==typeof e?e:n},_getCurrTemplate:function(){var e,t=this.options.template||1,n=["determinate","buffer","indeterminate","query"];return"number"==typeof~~t?(e=n[t-1],l[e]||""):"string"==typeof t?template:void 0},_getPositioningCSS:function(){var e=document.body.style,t="WebkitTransform"in e?"Webkit":"MozTransform"in e?"Moz":"msTransform"in e?"ms":"OTransform"in e?"O":"";return t+"Perspective"in e?"translate3d":t+"Transform"in e?"translate":"margin"},_barPositionCSS:function(e,n,i){var r;return r="translate3d"===this.options.positionUsing?{transform:"translate3d("+t.toBarPerc(e)+"%,0,0)"}:"translate"===this.options.positionUsing?{transform:"translate("+t.toBarPerc(e)+"%,0)"}:{"margin-left":t.toBarPerc(e)+"%"},r.transition="all "+n+"ms "+i,r}},function(){var e=0,t=0;f.prototype.promise=function(n){if(!n||"resolved"==n.state())return this;var i=this;return 0==t&&i.start(),e++,t++,n.always(function(){t--,0==t?(e=0,i.end()):i.set((e-t)/e)}),this}}(),c})}).call(this);(function(e,t){if(typeof define==="function"&&define.amd){define([],function(){return e["Chartist"]=t()})}else if(typeof exports==="object"){module.exports=t()}else{e["Chartist"]=t()}})(this,function(){var e={version:"0.9.4"};(function(e,t,n){"use strict";n.noop=function(e){return e};n.alphaNumerate=function(e){return String.fromCharCode(97+e%26)};n.extend=function(e){e=e||{};var t=Array.prototype.slice.call(arguments,1);t.forEach(function(t){for(var i in t){if(typeof t[i]==="object"&&t[i]!==null&&!(t[i]instanceof Array)){e[i]=n.extend({},e[i],t[i])}else{e[i]=t[i]}}});return e};n.replaceAll=function(e,t,n){return e.replace(new RegExp(t,"g"),n)};n.stripUnit=function(e){if(typeof e==="string"){e=e.replace(/[^0-9\+-\.]/g,"")}return+e};n.ensureUnit=function(e,t){if(typeof e==="number"){e=e+t}return e};n.querySelector=function(e){return e instanceof Node?e:t.querySelector(e)};n.times=function(e){return Array.apply(null,new Array(e))};n.sum=function(e,t){return e+(t?t:0)};n.mapMultiply=function(e){return function(t){return t*e}};n.mapAdd=function(e){return function(t){return t+e}};n.serialMap=function(e,t){var i=[],r=Math.max.apply(null,e.map(function(e){return e.length}));n.times(r).forEach(function(n,r){var s=e.map(function(e){return e[r]});i[r]=t.apply(null,s)});return i};n.roundWithPrecision=function(e,t){var i=Math.pow(10,t||n.precision);return Math.round(e*i)/i};n.precision=8;n.escapingMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};n.serialize=function(e){if(e===null||e===undefined){return e}else if(typeof e==="number"){e=""+e}else if(typeof e==="object"){e=JSON.stringify({data:e})}return Object.keys(n.escapingMap).reduce(function(e,t){return n.replaceAll(e,t,n.escapingMap[t])},e)};n.deserialize=function(e){if(typeof e!=="string"){return e}e=Object.keys(n.escapingMap).reduce(function(e,t){return n.replaceAll(e,n.escapingMap[t],t)},e);try{e=JSON.parse(e);e=e.data!==undefined?e.data:e}catch(t){}return e};n.createSvg=function(e,t,i,r){var s;t=t||"100%";i=i||"100%";Array.prototype.slice.call(e.querySelectorAll("svg")).filter(function a(e){return e.getAttributeNS("http://www.w3.org/2000/xmlns/",n.xmlNs.prefix)}).forEach(function o(t){e.removeChild(t)});s=new n.Svg("svg").attr({width:t,height:i}).addClass(r).attr({style:"width: "+t+"; height: "+i+";"});e.appendChild(s._node);return s};n.reverseData=function(e){e.labels.reverse();e.series.reverse();for(var t=0;t<e.series.length;t++){if(typeof e.series[t]==="object"&&e.series[t].data!==undefined){e.series[t].data.reverse()}else if(e.series[t]instanceof Array){e.series[t].reverse()}}};n.getDataArray=function(e,t,i){if(t&&!e.reversed||!t&&e.reversed){n.reverseData(e);e.reversed=!e.reversed}function r(e){if(n.isFalseyButZero(e)){return undefined}else if((e.data||e)instanceof Array){return(e.data||e).map(r)}else if(e.hasOwnProperty("value")){return r(e.value)}else{if(i){var t={};if(typeof i==="string"){t[i]=n.getNumberOrUndefined(e)}else{t.y=n.getNumberOrUndefined(e)}t.x=e.hasOwnProperty("x")?n.getNumberOrUndefined(e.x):t.x;t.y=e.hasOwnProperty("y")?n.getNumberOrUndefined(e.y):t.y;return t}else{return n.getNumberOrUndefined(e)}}}return e.series.map(r)};n.normalizePadding=function(e,t){t=t||0;return typeof e==="number"?{top:e,right:e,bottom:e,left:e}:{top:typeof e.top==="number"?e.top:t,right:typeof e.right==="number"?e.right:t,bottom:typeof e.bottom==="number"?e.bottom:t,left:typeof e.left==="number"?e.left:t}};n.getMetaData=function(e,t){var i=e.data?e.data[t]:e[t];return i?n.serialize(i.meta):undefined};n.orderOfMagnitude=function(e){return Math.floor(Math.log(Math.abs(e))/Math.LN10)};n.projectLength=function(e,t,n){return t/n.range*e};n.getAvailableHeight=function(e,t){return Math.max((n.stripUnit(t.height)||e.height())-(t.chartPadding.top+t.chartPadding.bottom)-t.axisX.offset,0)};n.getHighLow=function(e,t,i){t=n.extend({},t,i?t["axis"+i.toUpperCase()]:{});var r={high:t.high===undefined?-Number.MAX_VALUE:+t.high,low:t.low===undefined?Number.MAX_VALUE:+t.low};var s=t.high===undefined;var a=t.low===undefined;function o(e){if(e===undefined){return undefined}else if(e instanceof Array){for(var t=0;t<e.length;t++){o(e[t])}}else{var n=i?+e[i]:+e;if(s&&n>r.high){r.high=n}if(a&&n<r.low){r.low=n}}}if(s||a){o(e)}if(t.referenceValue||t.referenceValue===0){r.high=Math.max(t.referenceValue,r.high);r.low=Math.min(t.referenceValue,r.low)}if(r.high<=r.low){if(r.low===0){r.high=1}else if(r.low<0){r.high=0}else{r.low=0}}return r};n.isNum=function(e){return!isNaN(e)&&isFinite(e)};n.isFalseyButZero=function(e){return!e&&e!==0};n.getNumberOrUndefined=function(e){return isNaN(+e)?undefined:+e};n.getMultiValue=function(e,t){if(n.isNum(e)){return+e}else if(e){return e[t||"y"]||0}else{return 0}};n.rho=function(e){if(e===1){return e}function t(e,n){if(e%n===0){return n}else{return t(n,e%n)}}function n(e){return e*e+1}var i=2,r=2,s;if(e%2===0){return 2}do{i=n(i)%e;r=n(n(r))%e;s=t(Math.abs(i-r),e)}while(s===1);return s};n.getBounds=function(e,t,i,r){var s,a=0,o,l,u={high:t.high,low:t.low};u.valueRange=u.high-u.low;u.oom=n.orderOfMagnitude(u.valueRange);u.step=Math.pow(10,u.oom);u.min=Math.floor(u.low/u.step)*u.step;u.max=Math.ceil(u.high/u.step)*u.step;u.range=u.max-u.min;u.numberOfSteps=Math.round(u.range/u.step);var c=n.projectLength(e,u.step,u);var f=c<i;var p=r?n.rho(u.range):0;if(r&&n.projectLength(e,1,u)>=i){u.step=1}else if(r&&p<u.step&&n.projectLength(e,p,u)>=i){u.step=p}else{while(true){if(f&&n.projectLength(e,u.step,u)<=i){u.step*=2}else if(!f&&n.projectLength(e,u.step/2,u)>=i){u.step/=2;if(r&&u.step%1!==0){u.step*=2;break}}else{break}if(a++>1e3){throw new Error("Exceeded maximum number of iterations while optimizing scale step!")}}}o=u.min;l=u.max;while(o+u.step<=u.low){o+=u.step}while(l-u.step>=u.high){l-=u.step}u.min=o;u.max=l;u.range=u.max-u.min;u.values=[];for(s=u.min;s<=u.max;s+=u.step){u.values.push(n.roundWithPrecision(s))}return u};n.polarToCartesian=function(e,t,n,i){var r=(i-90)*Math.PI/180;return{x:e+n*Math.cos(r),y:t+n*Math.sin(r)}};n.createChartRect=function(e,t,i){var r=!!(t.axisX||t.axisY);var s=r?t.axisY.offset:0;var a=r?t.axisX.offset:0;var o=e.width()||n.stripUnit(t.width)||0;var l=e.height()||n.stripUnit(t.height)||0;var u=n.normalizePadding(t.chartPadding,i);o=Math.max(o,s+u.left+u.right);l=Math.max(l,a+u.top+u.bottom);var c={padding:u,width:function(){return this.x2-this.x1},height:function(){return this.y1-this.y2}};if(r){if(t.axisX.position==="start"){c.y2=u.top+a;c.y1=Math.max(l-u.bottom,c.y2+1)}else{c.y2=u.top;c.y1=Math.max(l-u.bottom-a,c.y2+1)}if(t.axisY.position==="start"){c.x1=u.left+s;c.x2=Math.max(o-u.right,c.x1+1)}else{c.x1=u.left;c.x2=Math.max(o-u.right-s,c.x1+1)}}else{c.x1=u.left;c.x2=Math.max(o-u.right,c.x1+1);c.y2=u.top;c.y1=Math.max(l-u.bottom,c.y2+1)}return c};n.createGrid=function(e,t,i,r,s,a,o,l){var u={};u[i.units.pos+"1"]=e;u[i.units.pos+"2"]=e;u[i.counterUnits.pos+"1"]=r;u[i.counterUnits.pos+"2"]=r+s;var c=a.elem("line",u,o.join(" "));l.emit("draw",n.extend({type:"grid",axis:i,index:t,group:a,element:c},u))};n.createLabel=function(e,t,i,r,s,a,o,l,u,c,f){var p;var d={};d[s.units.pos]=e+o[s.units.pos];d[s.counterUnits.pos]=o[s.counterUnits.pos];d[s.units.len]=t;d[s.counterUnits.len]=a-10;if(c){var h='<span class="'+u.join(" ")+'" style="'+s.units.len+": "+Math.round(d[s.units.len])+"px; "+s.counterUnits.len+": "+Math.round(d[s.counterUnits.len])+'px">'+r[i]+"</span>";p=l.foreignObject(h,n.extend({style:"overflow: visible;"},d))}else{p=l.elem("text",d,u.join(" ")).text(r[i])}f.emit("draw",n.extend({type:"label",axis:s,index:i,group:l,element:p,text:r[i]},d))};n.getSeriesOption=function(e,t,n){if(e.name&&t.series&&t.series[e.name]){var i=t.series[e.name];return i.hasOwnProperty(n)?i[n]:t[n]}else{return t[n]}};n.optionsProvider=function(t,i,r){var s=n.extend({},t),a,o=[],l;function u(t){var o=a;a=n.extend({},s);if(i){for(l=0;l<i.length;l++){var u=e.matchMedia(i[l][0]);if(u.matches){a=n.extend(a,i[l][1])}}}if(r&&!t){r.emit("optionsChanged",{previousOptions:o,currentOptions:a})}}function c(){o.forEach(function(e){e.removeListener(u)})}if(!e.matchMedia){throw"window.matchMedia not found! Make sure you're using a polyfill."}else if(i){for(l=0;l<i.length;l++){var f=e.matchMedia(i[l][0]);f.addListener(u);o.push(f)}}u(true);return{removeMediaQueryListeners:c,getCurrentOptions:function p(){return n.extend({},a)}}}})(window,document,e);(function(e,t,n){"use strict";n.Interpolation={};n.Interpolation.none=function(){return function e(t,i){var r=new n.Svg.Path;var s=true;for(var a=1;a<t.length;a+=2){var o=i[(a-1)/2];if(o.value===undefined){s=true}else{if(s){r.move(t[a-1],t[a],false,o);s=false}else{r.line(t[a-1],t[a],false,o)}}}return r}};n.Interpolation.simple=function(e){var t={divisor:2};e=n.extend({},t,e);var i=1/Math.max(1,e.divisor);return function r(e,t){var r=new n.Svg.Path;var s=true;for(var a=2;a<e.length;a+=2){var o=e[a-2];var l=e[a-1];var u=e[a];var c=e[a+1];var f=(u-o)*i;var p=t[a/2-1];var d=t[a/2];if(p.value===undefined){s=true}else{if(s){r.move(o,l,false,p)}if(d.value!==undefined){r.curve(o+f,l,u-f,c,u,c,false,d);s=false}}}return r}};n.Interpolation.cardinal=function(e){var t={tension:1};e=n.extend({},t,e);var i=Math.min(1,Math.max(0,e.tension)),r=1-i;function s(e,t){var n=[];var i=true;for(var r=0;r<e.length;r+=2){if(t[r/2].value===undefined){i=true}else{if(i){n.push({pathCoordinates:[],valueData:[]});i=false}n[n.length-1].pathCoordinates.push(e[r],e[r+1]);n[n.length-1].valueData.push(t[r/2])}}return n}return function a(e,t){var o=s(e,t);if(o.length>1){var l=[];o.forEach(function(e){l.push(a(e.pathCoordinates,e.valueData))});return n.Svg.Path.join(l)}else{e=o[0].pathCoordinates;t=o[0].valueData;if(e.length<=4){return n.Interpolation.none()(e,t)}var u=(new n.Svg.Path).move(e[0],e[1],false,t[0]),c;for(var f=0,p=e.length;p-2*!c>f;f+=2){var d=[{x:+e[f-2],y:+e[f-1]},{x:+e[f],y:+e[f+1]},{x:+e[f+2],y:+e[f+3]},{x:+e[f+4],y:+e[f+5]}];if(c){if(!f){d[0]={x:+e[p-2],y:+e[p-1]}}else if(p-4===f){d[3]={x:+e[0],y:+e[1]}}else if(p-2===f){d[2]={x:+e[0],y:+e[1]};d[3]={x:+e[2],y:+e[3]}}}else{if(p-4===f){d[3]=d[2]}else if(!f){d[0]={x:+e[f],y:+e[f+1]}}}u.curve(i*(-d[0].x+6*d[1].x+d[2].x)/6+r*d[2].x,i*(-d[0].y+6*d[1].y+d[2].y)/6+r*d[2].y,i*(d[1].x+6*d[2].x-d[3].x)/6+r*d[2].x,i*(d[1].y+6*d[2].y-d[3].y)/6+r*d[2].y,d[2].x,d[2].y,false,t[(f+2)/2])}return u}}};n.Interpolation.step=function(e){var t={postpone:true};e=n.extend({},t,e);return function i(t,r){var s=new n.Svg.Path;var a=true;for(var o=2;o<t.length;o+=2){var l=t[o-2];var u=t[o-1];var c=t[o];var f=t[o+1];var p=r[o/2-1];var d=r[o/2];if(p.value===undefined){a=true}else{if(a){s.move(l,u,false,p)}if(d.value!==undefined){if(e.postpone){s.line(c,u,false,p)}else{s.line(l,f,false,d)}s.line(c,f,false,d);a=false}}}return s}}})(window,document,e);(function(e,t,n){"use strict";n.EventEmitter=function(){var e=[];function t(t,n){e[t]=e[t]||[];e[t].push(n)}function n(t,n){if(e[t]){if(n){e[t].splice(e[t].indexOf(n),1);if(e[t].length===0){delete e[t]}}else{delete e[t]}}}function i(t,n){if(e[t]){e[t].forEach(function(e){e(n)})}if(e["*"]){e["*"].forEach(function(e){e(t,n)})}}return{addEventHandler:t,removeEventHandler:n,emit:i}}})(window,document,e);(function(e,t,n){"use strict";function i(e){var t=[];if(e.length){for(var n=0;n<e.length;n++){t.push(e[n])}}return t}function r(e,t){var i=t||this.prototype||n.Class;var r=Object.create(i);n.Class.cloneDefinitions(r,e);var s=function(){var e=r.constructor||function(){},t;t=this===n?Object.create(r):this;e.apply(t,Array.prototype.slice.call(arguments,0));return t};s.prototype=r;s.super=i;s.extend=this.extend;return s}function s(){var e=i(arguments);var t=e[0];e.splice(1,e.length-1).forEach(function(e){Object.getOwnPropertyNames(e).forEach(function(n){delete t[n];Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})});return t}n.Class={extend:r,cloneDefinitions:s}})(window,document,e);(function(e,t,n){"use strict";function i(e,t,i){if(e){this.data=e;this.eventEmitter.emit("data",{type:"update",data:this.data})}if(t){this.options=n.extend({},i?this.options:this.defaultOptions,t);if(!this.initializeTimeoutId){this.optionsProvider.removeMediaQueryListeners();this.optionsProvider=n.optionsProvider(this.options,this.responsiveOptions,this.eventEmitter);
}}if(!this.initializeTimeoutId){this.createChart(this.optionsProvider.getCurrentOptions())}return this}function r(){if(!this.initializeTimeoutId){e.removeEventListener("resize",this.resizeListener);this.optionsProvider.removeMediaQueryListeners()}else{e.clearTimeout(this.initializeTimeoutId)}return this}function s(e,t){this.eventEmitter.addEventHandler(e,t);return this}function a(e,t){this.eventEmitter.removeEventHandler(e,t);return this}function o(){e.addEventListener("resize",this.resizeListener);this.optionsProvider=n.optionsProvider(this.options,this.responsiveOptions,this.eventEmitter);this.eventEmitter.addEventHandler("optionsChanged",function(){this.update()}.bind(this));if(this.options.plugins){this.options.plugins.forEach(function(e){if(e instanceof Array){e[0](this,e[1])}else{e(this)}}.bind(this))}this.eventEmitter.emit("data",{type:"initial",data:this.data});this.createChart(this.optionsProvider.getCurrentOptions());this.initializeTimeoutId=undefined}function l(e,t,i,r,s){this.container=n.querySelector(e);this.data=t;this.defaultOptions=i;this.options=r;this.responsiveOptions=s;this.eventEmitter=n.EventEmitter();this.supportsForeignObject=n.Svg.isSupported("Extensibility");this.supportsAnimations=n.Svg.isSupported("AnimationEventsAttribute");this.resizeListener=function a(){this.update()}.bind(this);if(this.container){if(this.container.__chartist__){this.container.__chartist__.detach()}this.container.__chartist__=this}this.initializeTimeoutId=setTimeout(o.bind(this),0)}n.Base=n.Class.extend({constructor:l,optionsProvider:undefined,container:undefined,svg:undefined,eventEmitter:undefined,createChart:function(){throw new Error("Base chart type can't be instantiated!")},update:i,detach:r,on:s,off:a,version:n.version,supportsForeignObject:false})})(window,document,e);(function(e,t,n){"use strict";var i="http://www.w3.org/2000/svg",r="http://www.w3.org/2000/xmlns/",s="http://www.w3.org/1999/xhtml";n.xmlNs={qualifiedName:"xmlns:ct",prefix:"ct",uri:"http://gionkunz.github.com/chartist-js/ct"};function a(e,s,a,o,l){if(e instanceof Element){this._node=e}else{this._node=t.createElementNS(i,e);if(e==="svg"){this._node.setAttributeNS(r,n.xmlNs.qualifiedName,n.xmlNs.uri)}}if(s){this.attr(s)}if(a){this.addClass(a)}if(o){if(l&&o._node.firstChild){o._node.insertBefore(this._node,o._node.firstChild)}else{o._node.appendChild(this._node)}}}function o(e,t){if(typeof e==="string"){if(t){return this._node.getAttributeNS(t,e)}else{return this._node.getAttribute(e)}}Object.keys(e).forEach(function(i){if(e[i]===undefined){return}if(t){this._node.setAttributeNS(t,[n.xmlNs.prefix,":",i].join(""),e[i])}else{this._node.setAttribute(i,e[i])}}.bind(this));return this}function l(e,t,i,r){return new n.Svg(e,t,i,this,r)}function u(){return this._node.parentNode instanceof SVGElement?new n.Svg(this._node.parentNode):null}function c(){var e=this._node;while(e.nodeName!=="svg"){e=e.parentNode}return new n.Svg(e)}function f(e){var t=this._node.querySelector(e);return t?new n.Svg(t):null}function p(e){var t=this._node.querySelectorAll(e);return t.length?new n.Svg.List(t):null}function d(e,n,i,r){if(typeof e==="string"){var a=t.createElement("div");a.innerHTML=e;e=a.firstChild}e.setAttribute("xmlns",s);var o=this.elem("foreignObject",n,i,r);o._node.appendChild(e);return o}function h(e){this._node.appendChild(t.createTextNode(e));return this}function g(){while(this._node.firstChild){this._node.removeChild(this._node.firstChild)}return this}function m(){this._node.parentNode.removeChild(this._node);return this.parent()}function v(e){this._node.parentNode.replaceChild(e._node,this._node);return e}function y(e,t){if(t&&this._node.firstChild){this._node.insertBefore(e._node,this._node.firstChild)}else{this._node.appendChild(e._node)}return this}function b(){return this._node.getAttribute("class")?this._node.getAttribute("class").trim().split(/\s+/):[]}function w(e){this._node.setAttribute("class",this.classes(this._node).concat(e.trim().split(/\s+/)).filter(function(e,t,n){return n.indexOf(e)===t}).join(" "));return this}function x(e){var t=e.trim().split(/\s+/);this._node.setAttribute("class",this.classes(this._node).filter(function(e){return t.indexOf(e)===-1}).join(" "));return this}function _(){this._node.setAttribute("class","");return this}function S(e,t){try{return e.getBBox()[t]}catch(n){}return 0}function A(){return this._node.clientHeight||Math.round(S(this._node,"height"))||this._node.parentNode.clientHeight}function T(){return this._node.clientWidth||Math.round(S(this._node,"width"))||this._node.parentNode.clientWidth}function C(e,t,i){if(t===undefined){t=true}Object.keys(e).forEach(function r(s){function a(e,t){var r={},a,o,l;if(e.easing){l=e.easing instanceof Array?e.easing:n.Svg.Easing[e.easing];delete e.easing}e.begin=n.ensureUnit(e.begin,"ms");e.dur=n.ensureUnit(e.dur,"ms");if(l){e.calcMode="spline";e.keySplines=l.join(" ");e.keyTimes="0;1"}if(t){e.fill="freeze";r[s]=e.from;this.attr(r);o=n.stripUnit(e.begin||0);e.begin="indefinite"}a=this.elem("animate",n.extend({attributeName:s},e));if(t){setTimeout(function(){try{a._node.beginElement()}catch(t){r[s]=e.to;this.attr(r);a.remove()}}.bind(this),o)}if(i){a._node.addEventListener("beginEvent",function u(){i.emit("animationBegin",{element:this,animate:a._node,params:e})}.bind(this))}a._node.addEventListener("endEvent",function c(){if(i){i.emit("animationEnd",{element:this,animate:a._node,params:e})}if(t){r[s]=e.to;this.attr(r);a.remove()}}.bind(this))}if(e[s]instanceof Array){e[s].forEach(function(e){a.bind(this)(e,false)}.bind(this))}else{a.bind(this)(e[s],t)}}.bind(this));return this}n.Svg=n.Class.extend({constructor:a,attr:o,elem:l,parent:u,root:c,querySelector:f,querySelectorAll:p,foreignObject:d,text:h,empty:g,remove:m,replace:v,append:y,classes:b,addClass:w,removeClass:x,removeAllClasses:_,height:A,width:T,animate:C});n.Svg.isSupported=function(e){return t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#"+e,"1.1")};var k={easeInSine:[.47,0,.745,.715],easeOutSine:[.39,.575,.565,1],easeInOutSine:[.445,.05,.55,.95],easeInQuad:[.55,.085,.68,.53],easeOutQuad:[.25,.46,.45,.94],easeInOutQuad:[.455,.03,.515,.955],easeInCubic:[.55,.055,.675,.19],easeOutCubic:[.215,.61,.355,1],easeInOutCubic:[.645,.045,.355,1],easeInQuart:[.895,.03,.685,.22],easeOutQuart:[.165,.84,.44,1],easeInOutQuart:[.77,0,.175,1],easeInQuint:[.755,.05,.855,.06],easeOutQuint:[.23,1,.32,1],easeInOutQuint:[.86,0,.07,1],easeInExpo:[.95,.05,.795,.035],easeOutExpo:[.19,1,.22,1],easeInOutExpo:[1,0,0,1],easeInCirc:[.6,.04,.98,.335],easeOutCirc:[.075,.82,.165,1],easeInOutCirc:[.785,.135,.15,.86],easeInBack:[.6,-.28,.735,.045],easeOutBack:[.175,.885,.32,1.275],easeInOutBack:[.68,-.55,.265,1.55]};n.Svg.Easing=k;function P(e){var t=this;this.svgElements=[];for(var i=0;i<e.length;i++){this.svgElements.push(new n.Svg(e[i]))}Object.keys(n.Svg.prototype).filter(function(e){return["constructor","parent","querySelector","querySelectorAll","replace","append","classes","height","width"].indexOf(e)===-1}).forEach(function(e){t[e]=function(){var i=Array.prototype.slice.call(arguments,0);t.svgElements.forEach(function(t){n.Svg.prototype[e].apply(t,i)});return t}})}n.Svg.List=n.Class.extend({constructor:P})})(window,document,e);(function(e,t,n){"use strict";var i={m:["x","y"],l:["x","y"],c:["x1","y1","x2","y2","x","y"],a:["rx","ry","xAr","lAf","sf","x","y"]};var r={accuracy:3};function s(e,t,i,r,s,a){var o=n.extend({command:s?e.toLowerCase():e.toUpperCase()},t,a?{data:a}:{});i.splice(r,0,o)}function a(e,t){e.forEach(function(n,r){i[n.command.toLowerCase()].forEach(function(i,s){t(n,i,r,s,e)})})}function o(e,t){this.pathElements=[];this.pos=0;this.close=e;this.options=n.extend({},r,t)}function l(e){if(e!==undefined){this.pos=Math.max(0,Math.min(this.pathElements.length,e));return this}else{return this.pos}}function u(e){this.pathElements.splice(this.pos,e);return this}function c(e,t,n,i){s("M",{x:+e,y:+t},this.pathElements,this.pos++,n,i);return this}function f(e,t,n,i){s("L",{x:+e,y:+t},this.pathElements,this.pos++,n,i);return this}function p(e,t,n,i,r,a,o,l){s("C",{x1:+e,y1:+t,x2:+n,y2:+i,x:+r,y:+a},this.pathElements,this.pos++,o,l);return this}function d(e,t,n,i,r,a,o,l,u){s("A",{rx:+e,ry:+t,xAr:+n,lAf:+i,sf:+r,x:+a,y:+o},this.pathElements,this.pos++,l,u);return this}function h(e){var t=e.replace(/([A-Za-z])([0-9])/g,"$1 $2").replace(/([0-9])([A-Za-z])/g,"$1 $2").split(/[\s,]+/).reduce(function(e,t){if(t.match(/[A-Za-z]/)){e.push([])}e[e.length-1].push(t);return e},[]);if(t[t.length-1][0].toUpperCase()==="Z"){t.pop()}var r=t.map(function(e){var t=e.shift(),r=i[t.toLowerCase()];return n.extend({command:t},r.reduce(function(t,n,i){t[n]=+e[i];return t},{}))});var s=[this.pos,0];Array.prototype.push.apply(s,r);Array.prototype.splice.apply(this.pathElements,s);this.pos+=r.length;return this}function g(){var e=Math.pow(10,this.options.accuracy);return this.pathElements.reduce(function(t,n){var r=i[n.command.toLowerCase()].map(function(t){return this.options.accuracy?Math.round(n[t]*e)/e:n[t]}.bind(this));return t+n.command+r.join(",")}.bind(this),"")+(this.close?"Z":"")}function m(e,t){a(this.pathElements,function(n,i){n[i]*=i[0]==="x"?e:t});return this}function v(e,t){a(this.pathElements,function(n,i){n[i]+=i[0]==="x"?e:t});return this}function y(e){a(this.pathElements,function(t,n,i,r,s){var a=e(t,n,i,r,s);if(a||a===0){t[n]=a}});return this}function b(e){var t=new n.Svg.Path(e||this.close);t.pos=this.pos;t.pathElements=this.pathElements.slice().map(function i(e){return n.extend({},e)});t.options=n.extend({},this.options);return t}function w(e){var t=[new n.Svg.Path];this.pathElements.forEach(function(i){if(i.command===e.toUpperCase()&&t[t.length-1].pathElements.length!==0){t.push(new n.Svg.Path)}t[t.length-1].pathElements.push(i)});return t}function x(e,t,i){var r=new n.Svg.Path(t,i);for(var s=0;s<e.length;s++){var a=e[s];for(var o=0;o<a.pathElements.length;o++){r.pathElements.push(a.pathElements[o])}}return r}n.Svg.Path=n.Class.extend({constructor:o,position:l,remove:u,move:c,line:f,curve:p,arc:d,scale:m,translate:v,transform:y,parse:h,stringify:g,clone:b,splitByCommand:w});n.Svg.Path.elementDescriptions=i;n.Svg.Path.join=x})(window,document,e);(function(e,t,n){"use strict";var i={x:{pos:"x",len:"width",dir:"horizontal",rectStart:"x1",rectEnd:"x2",rectOffset:"y2"},y:{pos:"y",len:"height",dir:"vertical",rectStart:"y2",rectEnd:"y1",rectOffset:"x1"}};function r(e,t,n,r){this.units=e;this.counterUnits=e===i.x?i.y:i.x;this.chartRect=t;this.axisLength=t[e.rectEnd]-t[e.rectStart];this.gridOffset=t[e.rectOffset];this.ticks=n;this.options=r}function s(e,t,i,r,s){var a=r["axis"+this.units.pos.toUpperCase()];var o=this.ticks.map(this.projectValue.bind(this));var l=this.ticks.map(a.labelInterpolationFnc);o.forEach(function(u,c){var f={x:0,y:0};var p;if(o[c+1]){p=o[c+1]-u}else{p=Math.max(this.axisLength-u,30)}if(!l[c]&&l[c]!==0){return}if(this.units.pos==="x"){u=this.chartRect.x1+u;f.x=r.axisX.labelOffset.x;if(r.axisX.position==="start"){f.y=this.chartRect.padding.top+r.axisX.labelOffset.y+(i?5:20)}else{f.y=this.chartRect.y1+r.axisX.labelOffset.y+(i?5:20)}}else{u=this.chartRect.y1-u;f.y=r.axisY.labelOffset.y-(i?p:0);if(r.axisY.position==="start"){f.x=i?this.chartRect.padding.left+r.axisY.labelOffset.x:this.chartRect.x1-10}else{f.x=this.chartRect.x2+r.axisY.labelOffset.x+10}}if(a.showGrid){n.createGrid(u,c,this,this.gridOffset,this.chartRect[this.counterUnits.len](),e,[r.classNames.grid,r.classNames[this.units.dir]],s)}if(a.showLabel){n.createLabel(u,p,c,l,this,a.offset,f,t,[r.classNames.label,r.classNames[this.units.dir],r.classNames[a.position]],i,s)}}.bind(this))}n.Axis=n.Class.extend({constructor:r,createGridAndLabels:s,projectValue:function(e,t,n){throw new Error("Base axis can't be instantiated!")}});n.Axis.units=i})(window,document,e);(function(e,t,n){"use strict";function i(e,t,i,r){var s=r.highLow||n.getHighLow(t.normalized,r,e.pos);this.bounds=n.getBounds(i[e.rectEnd]-i[e.rectStart],s,r.scaleMinSpace||20,r.onlyInteger);this.range={min:this.bounds.min,max:this.bounds.max};n.AutoScaleAxis.super.constructor.call(this,e,i,this.bounds.values,r)}function r(e){return this.axisLength*(+n.getMultiValue(e,this.units.pos)-this.bounds.min)/this.bounds.range}n.AutoScaleAxis=n.Axis.extend({constructor:i,projectValue:r})})(window,document,e);(function(e,t,n){"use strict";function i(e,t,i,r){var s=r.highLow||n.getHighLow(t.normalized,r,e.pos);this.divisor=r.divisor||1;this.ticks=r.ticks||n.times(this.divisor).map(function(e,t){return s.low+(s.high-s.low)/this.divisor*t}.bind(this));this.range={min:s.low,max:s.high};n.FixedScaleAxis.super.constructor.call(this,e,i,this.ticks,r);this.stepLength=this.axisLength/this.divisor}function r(e){return this.axisLength*(+n.getMultiValue(e,this.units.pos)-this.range.min)/(this.range.max-this.range.min)}n.FixedScaleAxis=n.Axis.extend({constructor:i,projectValue:r})})(window,document,e);(function(e,t,n){"use strict";function i(e,t,i,r){n.StepAxis.super.constructor.call(this,e,i,r.ticks,r);this.stepLength=this.axisLength/(r.ticks.length-(r.stretch?1:0))}function r(e,t){return this.stepLength*t}n.StepAxis=n.Axis.extend({constructor:i,projectValue:r})})(window,document,e);(function(e,t,n){"use strict";var i={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:true,showGrid:true,labelInterpolationFnc:n.noop,type:undefined},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:true,showGrid:true,labelInterpolationFnc:n.noop,type:undefined,scaleMinSpace:20,onlyInteger:false},width:undefined,height:undefined,showLine:true,showPoint:true,showArea:false,areaBase:0,lineSmooth:true,low:undefined,high:undefined,chartPadding:{top:15,right:15,bottom:5,left:10},fullWidth:false,reverseData:false,classNames:{chart:"ct-chart-line",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",line:"ct-line",point:"ct-point",area:"ct-area",grid:"ct-grid",gridGroup:"ct-grids",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};function r(e){var t={raw:this.data,normalized:n.getDataArray(this.data,e.reverseData,true)};this.svg=n.createSvg(this.container,e.width,e.height,e.classNames.chart);var r=this.svg.elem("g").addClass(e.classNames.gridGroup);var s=this.svg.elem("g");var a=this.svg.elem("g").addClass(e.classNames.labelGroup);var o=n.createChartRect(this.svg,e,i.padding);var l,u;if(e.axisX.type===undefined){l=new n.StepAxis(n.Axis.units.x,t,o,n.extend({},e.axisX,{ticks:t.raw.labels,stretch:e.fullWidth}))}else{l=e.axisX.type.call(n,n.Axis.units.x,t,o,e.axisX)}if(e.axisY.type===undefined){u=new n.AutoScaleAxis(n.Axis.units.y,t,o,n.extend({},e.axisY,{high:n.isNum(e.high)?e.high:e.axisY.high,low:n.isNum(e.low)?e.low:e.axisY.low}))}else{u=e.axisY.type.call(n,n.Axis.units.y,t,o,e.axisY)}l.createGridAndLabels(r,a,this.supportsForeignObject,e,this.eventEmitter);u.createGridAndLabels(r,a,this.supportsForeignObject,e,this.eventEmitter);t.raw.series.forEach(function(i,r){var a=s.elem("g");a.attr({"series-name":i.name,meta:n.serialize(i.meta)},n.xmlNs.uri);a.addClass([e.classNames.series,i.className||e.classNames.series+"-"+n.alphaNumerate(r)].join(" "));var c=[],f=[];t.normalized[r].forEach(function(e,s){var a={x:o.x1+l.projectValue(e,s,t.normalized[r]),y:o.y1-u.projectValue(e,s,t.normalized[r])};c.push(a.x,a.y);f.push({value:e,valueIndex:s,meta:n.getMetaData(i,s)})}.bind(this));var p={lineSmooth:n.getSeriesOption(i,e,"lineSmooth"),showPoint:n.getSeriesOption(i,e,"showPoint"),showLine:n.getSeriesOption(i,e,"showLine"),showArea:n.getSeriesOption(i,e,"showArea"),areaBase:n.getSeriesOption(i,e,"areaBase")};var d=typeof p.lineSmooth==="function"?p.lineSmooth:p.lineSmooth?n.Interpolation.cardinal():n.Interpolation.none();var h=d(c,f);if(p.showPoint){h.pathElements.forEach(function(t){var s=a.elem("line",{x1:t.x,y1:t.y,x2:t.x+.01,y2:t.y},e.classNames.point).attr({value:[t.data.value.x,t.data.value.y].filter(function(e){return e}).join(","),meta:t.data.meta},n.xmlNs.uri);this.eventEmitter.emit("draw",{type:"point",value:t.data.value,index:t.data.valueIndex,meta:t.data.meta,series:i,seriesIndex:r,axisX:l,axisY:u,group:a,element:s,x:t.x,y:t.y})}.bind(this))}if(p.showLine){var g=a.elem("path",{d:h.stringify()},e.classNames.line,true);this.eventEmitter.emit("draw",{type:"line",values:t.normalized[r],path:h.clone(),chartRect:o,index:r,series:i,seriesIndex:r,axisX:l,axisY:u,group:a,element:g})}if(p.showArea&&u.range){var m=Math.max(Math.min(p.areaBase,u.range.max),u.range.min);var v=o.y1-u.projectValue(m);h.splitByCommand("M").filter(function y(e){return e.pathElements.length>1}).map(function b(e){var t=e.pathElements[0];var n=e.pathElements[e.pathElements.length-1];return e.clone(true).position(0).remove(1).move(t.x,v).line(t.x,t.y).position(e.pathElements.length+1).line(n.x,v)}).forEach(function w(s){var c=a.elem("path",{d:s.stringify()},e.classNames.area,true).attr({values:t.normalized[r]},n.xmlNs.uri);this.eventEmitter.emit("draw",{type:"area",values:t.normalized[r],path:s.clone(),series:i,seriesIndex:r,axisX:l,axisY:u,chartRect:o,index:r,group:a,element:c})}.bind(this))}}.bind(this));this.eventEmitter.emit("created",{bounds:u.bounds,chartRect:o,axisX:l,axisY:u,svg:this.svg,options:e})}function s(e,t,r,s){n.Line.super.constructor.call(this,e,t,i,n.extend({},i,r),s)}n.Line=n.Base.extend({constructor:s,createChart:r})})(window,document,e);(function(e,t,n){"use strict";var i={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:true,showGrid:true,labelInterpolationFnc:n.noop,scaleMinSpace:30,onlyInteger:false},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:true,showGrid:true,labelInterpolationFnc:n.noop,scaleMinSpace:20,onlyInteger:false},width:undefined,height:undefined,high:undefined,low:undefined,onlyInteger:false,chartPadding:{top:15,right:15,bottom:5,left:10},seriesBarDistance:15,stackBars:false,horizontalBars:false,distributeSeries:false,reverseData:false,classNames:{chart:"ct-chart-bar",horizontalBars:"ct-horizontal-bars",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",bar:"ct-bar",grid:"ct-grid",gridGroup:"ct-grids",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};function r(e){var t={raw:this.data,normalized:e.distributeSeries?n.getDataArray(this.data,e.reverseData,e.horizontalBars?"x":"y").map(function(e){return[e]}):n.getDataArray(this.data,e.reverseData,e.horizontalBars?"x":"y")};var r;this.svg=n.createSvg(this.container,e.width,e.height,e.classNames.chart+(e.horizontalBars?" "+e.classNames.horizontalBars:""));var s=this.svg.elem("g").addClass(e.classNames.gridGroup);var a=this.svg.elem("g");var o=this.svg.elem("g").addClass(e.classNames.labelGroup);if(e.stackBars){var l=n.serialMap(t.normalized,function v(){return Array.prototype.slice.call(arguments).map(function(e){return e}).reduce(function(e,t){return{x:e.x+t.x||0,y:e.y+t.y||0}},{x:0,y:0})});r=n.getHighLow([l],n.extend({},e,{referenceValue:0}),e.horizontalBars?"x":"y")}else{r=n.getHighLow(t.normalized,n.extend({},e,{referenceValue:0}),e.horizontalBars?"x":"y")}r.high=+e.high||(e.high===0?0:r.high);r.low=+e.low||(e.low===0?0:r.low);var u=n.createChartRect(this.svg,e,i.padding);var c,f,p,d,h;if(e.distributeSeries&&e.stackBars){f=t.raw.labels.slice(0,1)}else{f=t.raw.labels}if(e.horizontalBars){if(e.axisX.type===undefined){c=d=new n.AutoScaleAxis(n.Axis.units.x,t,u,n.extend({},e.axisX,{highLow:r,referenceValue:0}))}else{c=d=e.axisX.type.call(n,n.Axis.units.x,t,u,n.extend({},e.axisX,{highLow:r,referenceValue:0}))}if(e.axisY.type===undefined){p=h=new n.StepAxis(n.Axis.units.y,t,u,{ticks:f})}else{p=h=e.axisY.type.call(n,n.Axis.units.y,t,u,e.axisY)}}else{if(e.axisX.type===undefined){p=d=new n.StepAxis(n.Axis.units.x,t,u,{ticks:f})}else{p=d=e.axisX.type.call(n,n.Axis.units.x,t,u,e.axisX)}if(e.axisY.type===undefined){c=h=new n.AutoScaleAxis(n.Axis.units.y,t,u,n.extend({},e.axisY,{highLow:r,referenceValue:0}))}else{c=h=e.axisY.type.call(n,n.Axis.units.y,t,u,n.extend({},e.axisY,{highLow:r,referenceValue:0}))}}var g=e.horizontalBars?u.x1+c.projectValue(0):u.y1-c.projectValue(0);var m=[];p.createGridAndLabels(s,o,this.supportsForeignObject,e,this.eventEmitter);c.createGridAndLabels(s,o,this.supportsForeignObject,e,this.eventEmitter);t.raw.series.forEach(function(i,r){var s=r-(t.raw.series.length-1)/2;var o;var l;if(e.distributeSeries&&!e.stackBars){o=p.axisLength/t.normalized.length/2}else if(e.distributeSeries&&e.stackBars){o=p.axisLength/2}else{o=p.axisLength/t.normalized[r].length/2}l=a.elem("g");l.attr({"series-name":i.name,meta:n.serialize(i.meta)},n.xmlNs.uri);l.addClass([e.classNames.series,i.className||e.classNames.series+"-"+n.alphaNumerate(r)].join(" "));t.normalized[r].forEach(function(a,f){var v,y,b,w;if(e.distributeSeries&&!e.stackBars){w=r}else if(e.distributeSeries&&e.stackBars){w=0}else{w=f}if(e.horizontalBars){v={x:u.x1+c.projectValue(a&&a.x?a.x:0,f,t.normalized[r]),y:u.y1-p.projectValue(a&&a.y?a.y:0,w,t.normalized[r])}}else{v={x:u.x1+p.projectValue(a&&a.x?a.x:0,w,t.normalized[r]),y:u.y1-c.projectValue(a&&a.y?a.y:0,f,t.normalized[r])}}if(p instanceof n.StepAxis){if(!p.options.stretch){v[p.units.pos]+=o*(e.horizontalBars?-1:1)}v[p.units.pos]+=e.stackBars||e.distributeSeries?0:s*e.seriesBarDistance*(e.horizontalBars?-1:1)}b=m[f]||g;m[f]=b-(g-v[p.counterUnits.pos]);if(a===undefined){return}var x={};x[p.units.pos+"1"]=v[p.units.pos];x[p.units.pos+"2"]=v[p.units.pos];x[p.counterUnits.pos+"1"]=e.stackBars?b:g;x[p.counterUnits.pos+"2"]=e.stackBars?m[f]:v[p.counterUnits.pos];x.x1=Math.min(Math.max(x.x1,u.x1),u.x2);x.x2=Math.min(Math.max(x.x2,u.x1),u.x2);x.y1=Math.min(Math.max(x.y1,u.y2),u.y1);x.y2=Math.min(Math.max(x.y2,u.y2),u.y1);y=l.elem("line",x,e.classNames.bar).attr({value:[a.x,a.y].filter(function(e){return e}).join(","),meta:n.getMetaData(i,f)},n.xmlNs.uri);this.eventEmitter.emit("draw",n.extend({type:"bar",value:a,index:f,meta:n.getMetaData(i,f),series:i,seriesIndex:r,axisX:d,axisY:h,chartRect:u,group:l,element:y},x))}.bind(this))}.bind(this));this.eventEmitter.emit("created",{bounds:c.bounds,chartRect:u,axisX:d,axisY:h,svg:this.svg,options:e})}function s(e,t,r,s){n.Bar.super.constructor.call(this,e,t,i,n.extend({},i,r),s)}n.Bar=n.Base.extend({constructor:s,createChart:r})})(window,document,e);(function(e,t,n){"use strict";var i={width:undefined,height:undefined,chartPadding:5,classNames:{chartPie:"ct-chart-pie",chartDonut:"ct-chart-donut",series:"ct-series",slicePie:"ct-slice-pie",sliceDonut:"ct-slice-donut",label:"ct-label"},startAngle:0,total:undefined,donut:false,donutWidth:60,showLabel:true,labelOffset:0,labelPosition:"inside",labelInterpolationFnc:n.noop,labelDirection:"neutral",reverseData:false};function r(e,t,n){var i=t.x>e.x;if(i&&n==="explode"||!i&&n==="implode"){return"start"}else if(i&&n==="implode"||!i&&n==="explode"){return"end"}else{return"middle"}}function s(e){var t=[],s,a,o,l,u,c=e.startAngle,f=n.getDataArray(this.data,e.reverseData);this.svg=n.createSvg(this.container,e.width,e.height,e.donut?e.classNames.chartDonut:e.classNames.chartPie);a=n.createChartRect(this.svg,e,i.padding);o=Math.min(a.width()/2,a.height()/2);u=e.total||f.reduce(function(e,t){return e+t},0);o-=e.donut?e.donutWidth/2:0;if(e.labelPosition==="outside"||e.donut){l=o}else if(e.labelPosition==="center"){l=0}else{l=o/2}l+=e.labelOffset;var p={x:a.x1+a.width()/2,y:a.y2+a.height()/2};var d=this.data.series.filter(function(e){return e.hasOwnProperty("value")?e.value!==0:e!==0}).length===1;if(e.showLabel){s=this.svg.elem("g",null,null,true)}for(var h=0;h<this.data.series.length;h++){var g=this.data.series[h];t[h]=this.svg.elem("g",null,null,true);t[h].attr({"series-name":g.name},n.xmlNs.uri);t[h].addClass([e.classNames.series,g.className||e.classNames.series+"-"+n.alphaNumerate(h)].join(" "));var m=c+f[h]/u*360;if(m-c===360){m-=.01}var v=n.polarToCartesian(p.x,p.y,o,c-(h===0||d?0:.2)),y=n.polarToCartesian(p.x,p.y,o,m);var b=new n.Svg.Path(!e.donut).move(y.x,y.y).arc(o,o,0,m-c>180,0,v.x,v.y);if(!e.donut){b.line(p.x,p.y)}var w=t[h].elem("path",{d:b.stringify()},e.donut?e.classNames.sliceDonut:e.classNames.slicePie);w.attr({value:f[h],meta:n.serialize(g.meta)},n.xmlNs.uri);if(e.donut){w.attr({style:"stroke-width: "+ +e.donutWidth+"px"})}this.eventEmitter.emit("draw",{type:"slice",value:f[h],totalDataSum:u,index:h,meta:g.meta,series:g,group:t[h],element:w,path:b.clone(),center:p,radius:o,startAngle:c,endAngle:m});if(e.showLabel){var x=n.polarToCartesian(p.x,p.y,l,c+(m-c)/2),_=e.labelInterpolationFnc(this.data.labels?this.data.labels[h]:f[h],h);if(_||_===0){var S=s.elem("text",{dx:x.x,dy:x.y,"text-anchor":r(p,x,e.labelDirection)},e.classNames.label).text(""+_);this.eventEmitter.emit("draw",{type:"label",index:h,group:s,element:S,text:""+_,x:x.x,y:x.y})}}c=m}this.eventEmitter.emit("created",{chartRect:a,svg:this.svg,options:e})}function a(e,t,r,s){n.Pie.super.constructor.call(this,e,t,i,n.extend({},i,r),s)}n.Pie=n.Base.extend({constructor:a,createChart:s,determineAnchorPosition:r})})(window,document,e);return e});(function(){function obMerge(e,t){for(var n=1;n<arguments.length;++n){for(var i in arguments[n]){e[i]=arguments[n][i]}}return e}function countProperties(e){var t=0;for(var n in e){if(e.hasOwnProperty(n)){t++}}return t}function findInArray(e,t){if(Array.prototype.indexOf){return e.indexOf(t)}for(var n=0;n<e.length;++n){if(e[n]===t){return n}}return-1}function evalString(e){return e.replace(/\\t/,"	").replace(/\\n/,"\n").replace(/\\(['"\\])/g,"$1")}function trimQuotes(e){return evalString(e.replace(/^['"](.*)['"]$/,"$1")).replace(/^\s+|\s+$/g,"")}function findTag(e,t){var n=0;var i=0;var r=jSmart.prototype.left_delimiter;var s=jSmart.prototype.right_delimiter;var a=jSmart.prototype.auto_literal;var o=/^\s*(.+)\s*$/i;var l=e?new RegExp("^\\s*("+e+")\\s*$","i"):o;for(var u=0;u<t.length;++u){if(t.substr(u,r.length)==r){if(a&&u+1<t.length&&t.substr(u+1,1).match(/\s/)){continue}if(!n){t=t.slice(u);i+=parseInt(u);u=0}++n}else if(t.substr(u,s.length)==s){if(a&&u-1>=0&&t.substr(u-1,1).match(/\s/)){continue}if(!--n){var c=t.slice(r.length,u).replace(/[\r\n]/g," ");var f=c.match(l);if(f){f.index=i;f[0]=t.slice(0,u+s.length);return f}}if(n<0){n=0}}}return null}function findCloseTag(e,t,n){var i="";var r=null;var s=null;var a=0;do{if(r){a+=r[0].length}r=findTag(e,n);if(!r){throw new Error("Unclosed {"+t+"}")}i+=n.slice(0,r.index);a+=r.index;n=n.slice(r.index+r[0].length);s=findTag(t,i);if(s){i=i.slice(s.index+s[0].length)}}while(s);r.index=a;return r}function findElseTag(e,t,n,i){var r=0;for(var s=findTag(n,i);s;s=findTag(n,i)){var a=findTag(e,i);if(!a||a.index>s.index){s.index+=r;return s}else{i=i.slice(a.index+a[0].length);r+=a.index+a[0].length;var o=findCloseTag(t,e,i);i=i.slice(o.index+o[0].length);r+=o.index+o[0].length}}return null}function execute(code,data){if(typeof code=="string"){with({__code:code}){with(modifiers){with(data){try{return eval(__code)}catch(e){throw new Error(e.message+" in \n"+code)}}}}}return code}function assignVar(e,t,n){if(e.match(/\[\]$/)){n[e.replace(/\[\]$/,"")].push(t)}else{n[e]=t}}var buildInFunctions={expression:{parse:function(e,t){var n=parseExpression(e);t.push({type:"build-in",name:"expression",expression:n.tree,params:parseParams(e.slice(n.value.length).replace(/^\s+|\s+$/g,""))});return n.tree},process:function(e,t){var n=getActualParamValues(e.params,t);var i=process([e.expression],t);if(findInArray(n,"nofilter")<0){for(var r=0;r<default_modifiers.length;++r){var s=default_modifiers[r];s.params.__parsed[0]={type:"text",data:i};i=process([s],t)}if(escape_html){i=modifiers.escape(i)}i=applyFilters(varFilters,i);if(tpl_modifiers.length){__t=function(){return i};i=process(tpl_modifiers,t)}}return i}},operator:{process:function(e,t){var n=getActualParamValues(e.params,t);var i=n[0];if(e.optype=="binary"){var r=n[1];if(e.op=="="){getVarValue(e.params.__parsed[0],t,r);return""}else if(e.op.match(/(\+=|-=|\*=|\/=|%=)/)){i=getVarValue(e.params.__parsed[0],t);switch(e.op){case"+=":i+=r;break;case"-=":i-=r;break;case"*=":i*=r;break;case"/=":i/=r;break;case"%=":i%=r;break}return getVarValue(e.params.__parsed[0],t,i)}else if(e.op.match(/div/)){return e.op!="div"^i%r==0}else if(e.op.match(/even/)){return e.op!="even"^i/r%2==0}else if(e.op.match(/xor/)){return(i||r)&&!(i&&r)}switch(e.op){case"==":return i==r;case"!=":return i!=r;case"+":return parseInt(i,10)+parseInt(r,10);case"-":return parseInt(i,10)-parseInt(r,10);case"*":return parseInt(i,10)*parseInt(r,10);case"/":return parseInt(i,10)/parseInt(r,10);case"%":return parseInt(i,10)%parseInt(r,10);case"&&":return i&&r;case"||":return i||r;case"<":return i<r;case"<=":return i<=r;case">":return i>r;case">=":return i>=r;case"===":return i===r;case"!==":return i!==r}}else if(e.op=="!"){return!i}else{var s=e.params.__parsed[0].type=="var";if(s){i=getVarValue(e.params.__parsed[0],t)}var a=i;if(e.optype=="pre-unary"){switch(e.op){case"-":a=-i;break;case"++":a=++i;break;case"--":a=--i;break}if(s){getVarValue(e.params.__parsed[0],t,i)}}else{switch(e.op){case"++":i++;break;case"--":i--;break}getVarValue(e.params.__parsed[0],t,i)}return a}}},section:{type:"block",parse:function(e,t,n){var i=[];var r=[];t.push({type:"build-in",name:"section",params:e,subTree:i,subTreeElse:r});var s=findElseTag("section [^}]+","/section","sectionelse",n);if(s){parse(n.slice(0,s.index),i);parse(n.slice(s.index+s[0].length).replace(/^[\r\n]/,""),r)}else{parse(n,i)}},process:function(e,t){var n=getActualParamValues(e.params,t);var i={};t.smarty.section[n.__get("name",null,0)]=i;var r=n.__get("show",true);i.show=r;if(!r){return process(e.subTreeElse,t)}var s=parseInt(n.__get("start",0));var a=n.loop instanceof Object?countProperties(n.loop):isNaN(n.loop)?0:parseInt(n.loop);var o=parseInt(n.__get("step",1));var l=parseInt(n.__get("max"));if(isNaN(l)){l=Number.MAX_VALUE}if(s<0){s+=a;if(s<0){s=0}}else if(s>=a){s=a?a-1:0}var u=0;var c=0;var f=s;for(;f>=0&&f<a&&u<l;f+=o,++u){c=f}i.total=u;i.loop=u;u=0;var p="";for(f=s;f>=0&&f<a&&u<l;f+=o,++u){if(t.smarty["break"]){break}i.first=f==s;i.last=f+o<0||f+o>=a;i.index=f;i.index_prev=f-o;i.index_next=f+o;i.iteration=i.rownum=u+1;p+=process(e.subTree,t);t.smarty["continue"]=false}t.smarty["break"]=false;if(u){return p}return process(e.subTreeElse,t)}},setfilter:{type:"block",parseParams:function(e){return[parseExpression("__t()|"+e).tree]},parse:function(e,t,n){t.push({type:"build-in",name:"setfilter",params:e,subTree:parse(n,[])})},process:function(e,t){tpl_modifiers=e.params;var n=process(e.subTree,t);tpl_modifiers=[];return n}},"for":{type:"block",parseParams:function(e){var t=e.match(/^\s*\$(\w+)\s*=\s*([^\s]+)\s*to\s*([^\s]+)\s*(?:step\s*([^\s]+))?\s*(.*)$/);if(!t){throw new Error("Invalid {for} parameters: "+e)}return parseParams("varName='"+t[1]+"' from="+t[2]+" to="+t[3]+" step="+(t[4]?t[4]:"1")+" "+t[5])},parse:function(e,t,n){var i=[];var r=[];t.push({type:"build-in",name:"for",params:e,subTree:i,subTreeElse:r});var s=findElseTag("for\\s[^}]+","/for","forelse",n);if(s){parse(n.slice(0,s.index),i);parse(n.slice(s.index+s[0].length),r)}else{parse(n,i)}},process:function(e,t){var n=getActualParamValues(e.params,t);var i=parseInt(n.__get("from"));var r=parseInt(n.__get("to"));var s=parseInt(n.__get("step"));if(isNaN(s)){s=1}var a=parseInt(n.__get("max"));if(isNaN(a)){a=Number.MAX_VALUE}var o=0;var l="";var u=Math.min(Math.ceil(((s>0?r-i:i-r)+1)/Math.abs(s)),a);for(var c=parseInt(n.from);o<u;c+=s,++o){if(t.smarty["break"]){break}t[n.varName]=c;l+=process(e.subTree,t);t.smarty["continue"]=false}t.smarty["break"]=false;if(!o){l=process(e.subTreeElse,t)}return l}},"if":{type:"block",parse:function(e,t,n){var i=[];var r=[];t.push({type:"build-in",name:"if",params:e,subTreeIf:i,subTreeElse:r});var s=findElseTag("if\\s+[^}]+","/if","else[^}]*",n);if(s){parse(n.slice(0,s.index),i);n=n.slice(s.index+s[0].length);var a=s[1].match(/^else\s*if(.*)/);if(a){buildInFunctions["if"].parse(parseParams(a[1]),r,n.replace(/^\n/,""))}else{parse(n.replace(/^\n/,""),r)}}else{parse(n,i)}},
process:function(e,t){if(getActualParamValues(e.params,t)[0]){return process(e.subTreeIf,t)}else{return process(e.subTreeElse,t)}}},foreach:{type:"block",parseParams:function(e){var t={};var n=e.match(/^\s*([$].+)\s*as\s*[$](\w+)\s*(=>\s*[$](\w+))?\s*$/i);if(n){e="from="+n[1]+" item="+(n[4]||n[2]);if(n[4]){e+=" key="+n[2]}}return parseParams(e)},parse:function(e,t,n){var i=[];var r=[];t.push({type:"build-in",name:"foreach",params:e,subTree:i,subTreeElse:r});var s=findElseTag("foreach\\s[^}]+","/foreach","foreachelse",n);if(s){parse(n.slice(0,s.index),i);parse(n.slice(s.index+s[0].length).replace(/^[\r\n]/,""),r)}else{parse(n,i)}},process:function(e,t){var n=getActualParamValues(e.params,t);var i=n.from;if(!(i instanceof Object)){i=[i]}var r=countProperties(i);t[n.item+"__total"]=r;if("name"in n){t.smarty.foreach[n.name]={};t.smarty.foreach[n.name].total=r}var s="";var a=0;for(var o in i){if(!i.hasOwnProperty(o)){continue}if(t.smarty["break"]){break}t[n.item+"__key"]=isNaN(o)?o:parseInt(o);if("key"in n){t[n.key]=t[n.item+"__key"]}t[n.item]=i[o];t[n.item+"__index"]=parseInt(a);t[n.item+"__iteration"]=parseInt(a+1);t[n.item+"__first"]=a===0;t[n.item+"__last"]=a==r-1;if("name"in n){t.smarty.foreach[n.name].index=parseInt(a);t.smarty.foreach[n.name].iteration=parseInt(a+1);t.smarty.foreach[n.name].first=a===0?1:"";t.smarty.foreach[n.name].last=a==r-1?1:""}++a;s+=process(e.subTree,t);t.smarty["continue"]=false}t.smarty["break"]=false;t[n.item+"__show"]=a>0;if(n.name){t.smarty.foreach[n.name].show=a>0?1:""}if(a>0){return s}return process(e.subTreeElse,t)}},"function":{type:"block",parse:function(e,t,n){var i=[];plugins[trimQuotes(e.name?e.name:e[0])]={type:"function",subTree:i,defautParams:e,process:function(e,t){var n=getActualParamValues(this.defautParams,t);delete n.name;return process(this.subTree,obMerge({},t,n,e))}};parse(n,i)}},php:{type:"block",parse:function(e,t,n){}},"extends":{type:"function",parse:function(e,t){t.splice(0,t.length);getTemplate(trimQuotes(e.file?e.file:e[0]),t)}},block:{type:"block",parse:function(e,t,n){t.push({type:"build-in",name:"block",params:e});e.append=findInArray(e,"append")>=0;e.prepend=findInArray(e,"prepend")>=0;e.hide=findInArray(e,"hide")>=0;e.hasChild=e.hasParent=false;onParseVar=function(t){if(t.match(/^\s*[$]smarty.block.child\s*$/)){e.hasChild=true}if(t.match(/^\s*[$]smarty.block.parent\s*$/)){e.hasParent=true}};var t=parse(n,[]);onParseVar=function(e){};var i=trimQuotes(e.name?e.name:e[0]);if(!(i in blocks)){blocks[i]=[]}blocks[i].push({tree:t,params:e})},process:function(e,t){t.smarty.block.parent=t.smarty.block.child="";var n=trimQuotes(e.params.name?e.params.name:e.params[0]);this.processBlocks(blocks[n],blocks[n].length-1,t);return t.smarty.block.child},processBlocks:function(e,t,n){if(!t&&e[t].params.hide){n.smarty.block.child="";return}var i=true;var r=false;for(;t>=0;--t){if(e[t].params.hasParent){var s=n.smarty.block.child;n.smarty.block.child="";this.processBlocks(e,t-1,n);n.smarty.block.parent=n.smarty.block.child;n.smarty.block.child=s}var s=n.smarty.block.child;var a=process(e[t].tree,n);n.smarty.block.child=s;if(e[t].params.hasChild){n.smarty.block.child=a}else if(i){n.smarty.block.child=a+n.smarty.block.child}else if(r){n.smarty.block.child+=a}i=e[t].params.append;r=e[t].params.prepend}}},strip:{type:"block",parse:function(e,t,n){parse(n.replace(/[ \t]*[\r\n]+[ \t]*/g,""),t)}},literal:{type:"block",parse:function(e,t,n){parseText(n,t)}},ldelim:{type:"function",parse:function(e,t){parseText(jSmart.prototype.left_delimiter,t)}},rdelim:{type:"function",parse:function(e,t){parseText(jSmart.prototype.right_delimiter,t)}},"while":{type:"block",parse:function(e,t,n){t.push({type:"build-in",name:"while",params:e,subTree:parse(n,[])})},process:function(e,t){var n="";while(getActualParamValues(e.params,t)[0]){if(t.smarty["break"]){break}n+=process(e.subTree,t);t.smarty["continue"]=false}t.smarty["break"]=false;return n}}};var plugins={};var modifiers={};var files={};var blocks=null;var scripts=null;var tpl_modifiers=[];function parse(e,t){for(var n=findTag("",e);n;n=findTag("",e)){if(n.index){parseText(e.slice(0,n.index),t)}e=e.slice(n.index+n[0].length);var i=n[1].match(/^\s*(\w+)(.*)$/);if(i){var r=i[1];var s=i.length>2?i[2].replace(/^\s+|\s+$/g,""):"";if(r in buildInFunctions){var a=buildInFunctions[r];var o=("parseParams"in a?a.parseParams:parseParams)(s);if(a.type=="block"){e=e.replace(/^\n/,"");var l=findCloseTag("/"+r,r+" +[^}]*",e);a.parse(o,t,e.slice(0,l.index));e=e.slice(l.index+l[0].length)}else{a.parse(o,t);if(r=="extends"){t=[]}}e=e.replace(/^\n/,"")}else if(r in plugins){var u=plugins[r];if(u.type=="block"){var l=findCloseTag("/"+r,r+" +[^}]*",e);parsePluginBlock(r,parseParams(s),t,e.slice(0,l.index));e=e.slice(l.index+l[0].length)}else if(u.type=="function"){parsePluginFunc(r,parseParams(s),t)}if(r=="append"||r=="assign"||r=="capture"||r=="eval"||r=="include"){e=e.replace(/^\n/,"")}}else{buildInFunctions.expression.parse(n[1],t)}}else{var c=buildInFunctions.expression.parse(n[1],t);if(c.type=="build-in"&&c.name=="operator"&&c.op=="="){e=e.replace(/^\n/,"")}}}if(e){parseText(e,t)}return t}function parseText(e,t){if(parseText.parseEmbeddedVars){var n=/([$][\w@]+)|`([^`]*)`/;for(var i=n.exec(e);i;i=n.exec(e)){t.push({type:"text",data:e.slice(0,i.index)});t.push(parseExpression(i[1]?i[1]:i[2]).tree);e=e.slice(i.index+i[0].length)}}t.push({type:"text",data:e});return t}function parseFunc(e,t,n){t.__parsed.name=parseText(e,[])[0];n.push({type:"plugin",name:"__func",params:t});return n}function parseOperator(e,t,n,i){i.push({type:"build-in",name:"operator",op:e,optype:t,precedence:n,params:{}})}function parseVar(e,t,n){var i=t.token;var r=[{type:"text",data:n.replace(/^(\w+)@(key|index|iteration|first|last|show|total)/gi,"$1__$2")}];var s=/^(?:\.|\s*->\s*|\[\s*)/;for(var a=e.match(s);a;a=e.match(s)){t.token+=a[0];e=e.slice(a[0].length);var o={value:"",tree:[]};if(a[0].match(/\[/)){o=parseExpression(e);if(o){t.token+=o.value;r.push(o.tree);e=e.slice(o.value.length)}var l=e.match(/\s*\]/);if(l){t.token+=l[0];e=e.slice(l[0].length)}}else{var u=parseModifiers.stop;parseModifiers.stop=true;if(lookUp(e,o)){t.token+=o.value;var c=o.tree[0];if(c.type=="plugin"&&c.name=="__func"){c.hasOwner=true}r.push(c);e=e.slice(o.value.length)}else{o=false}parseModifiers.stop=u}if(!o){r.push({type:"text",data:""})}}t.tree.push({type:"var",parts:r});t.value+=t.token.substr(i.length);onParseVar(t.token);return e}function onParseVar(e){}var tokens=[{re:/^\$([\w@]+)/,parse:function(e,t){parseModifiers(parseVar(t,e,RegExp.$1),e)}},{re:/^(true|false)/i,parse:function(e,t){parseText(e.token.match(/true/i)?"1":"",e.tree)}},{re:/^'([^'\\]*(?:\\.[^'\\]*)*)'/,parse:function(e,t){parseText(evalString(RegExp.$1),e.tree);parseModifiers(t,e)}},{re:/^"([^"\\]*(?:\\.[^"\\]*)*)"/,parse:function(e,t){var n=evalString(RegExp.$1);var i=n.match(tokens[0].re);if(i){var r={token:i[0],tree:[]};parseVar(n,r,i[1]);if(r.token.length==n.length){e.tree.push(r.tree[0]);return}}parseText.parseEmbeddedVars=true;e.tree.push({type:"plugin",name:"__quoted",params:{__parsed:parse(n,[])}});parseText.parseEmbeddedVars=false;parseModifiers(t,e)}},{re:/^(\w+)\s*[(]([)]?)/,parse:function(e,t){var n=RegExp.$1;var i=RegExp.$2;var r=parseParams(i?"":t,/^\s*,\s*/);parseFunc(n,r,e.tree);e.value+=r.toString();parseModifiers(t.slice(r.toString().length),e)}},{re:/^\s*\(\s*/,parse:function(e,t){var n=[];e.tree.push(n);n.parent=e.tree;e.tree=n}},{re:/^\s*\)\s*/,parse:function(e,t){if(e.tree.parent){e.tree=e.tree.parent}}},{re:/^\s*(\+\+|--)\s*/,parse:function(e,t){if(e.tree.length&&e.tree[e.tree.length-1].type=="var"){parseOperator(RegExp.$1,"post-unary",1,e.tree)}else{parseOperator(RegExp.$1,"pre-unary",1,e.tree)}}},{re:/^\s*(===|!==|==|!=)\s*/,parse:function(e,t){parseOperator(RegExp.$1,"binary",6,e.tree)}},{re:/^\s+(eq|ne|neq)\s+/i,parse:function(e,t){var n=RegExp.$1.replace(/ne(q)?/,"!=").replace(/eq/,"==");parseOperator(n,"binary",6,e.tree)}},{re:/^\s*!\s*/,parse:function(e,t){parseOperator("!","pre-unary",2,e.tree)}},{re:/^\s+not\s+/i,parse:function(e,t){parseOperator("!","pre-unary",2,e.tree)}},{re:/^\s*(=|\+=|-=|\*=|\/=|%=)\s*/,parse:function(e,t){parseOperator(RegExp.$1,"binary",10,e.tree)}},{re:/^\s*(\*|\/|%)\s*/,parse:function(e,t){parseOperator(RegExp.$1,"binary",3,e.tree)}},{re:/^\s+mod\s+/i,parse:function(e,t){parseOperator("%","binary",3,e.tree)}},{re:/^\s*(\+|-)\s*/,parse:function(e,t){if(!e.tree.length||e.tree[e.tree.length-1].name=="operator"){parseOperator(RegExp.$1,"pre-unary",4,e.tree)}else{parseOperator(RegExp.$1,"binary",4,e.tree)}}},{re:/^\s*(<=|>=|<>|<|>)\s*/,parse:function(e,t){parseOperator(RegExp.$1.replace(/<>/,"!="),"binary",5,e.tree)}},{re:/^\s+(lt|lte|le|gt|gte|ge)\s+/i,parse:function(e,t){var n=RegExp.$1.replace(/lt/,"<").replace(/l(t)?e/,"<=").replace(/gt/,">").replace(/g(t)?e/,">=");parseOperator(n,"binary",5,e.tree)}},{re:/^\s+(is\s+(not\s+)?div\s+by)\s+/i,parse:function(e,t){parseOperator(RegExp.$2?"div_not":"div","binary",7,e.tree)}},{re:/^\s+is\s+(not\s+)?(even|odd)(\s+by\s+)?\s*/i,parse:function(e,t){var n=RegExp.$1?RegExp.$2=="odd"?"even":"even_not":RegExp.$2=="odd"?"even_not":"even";parseOperator(n,"binary",7,e.tree);if(!RegExp.$3){parseText("1",e.tree)}}},{re:/^\s*(&&)\s*/,parse:function(e,t){parseOperator(RegExp.$1,"binary",8,e.tree)}},{re:/^\s*(\|\|)\s*/,parse:function(e,t){parseOperator(RegExp.$1,"binary",9,e.tree)}},{re:/^\s+and\s+/i,parse:function(e,t){parseOperator("&&","binary",11,e.tree)}},{re:/^\s+xor\s+/i,parse:function(e,t){parseOperator("xor","binary",12,e.tree)}},{re:/^\s+or\s+/i,parse:function(e,t){parseOperator("||","binary",13,e.tree)}},{re:/^#(\w+)#/,parse:function(e,t){var n={token:"$smarty",tree:[]};parseVar(".config."+RegExp.$1,n,"smarty");e.tree.push(n.tree[0]);parseModifiers(t,e)}},{re:/^\s*\[\s*/,parse:function(e,t){var n=parseParams(t,/^\s*,\s*/,/^('[^'\\]*(?:\\.[^'\\]*)*'|"[^"\\]*(?:\\.[^"\\]*)*"|\w+)\s*=>\s*/);parsePluginFunc("__array",n,e.tree);e.value+=n.toString();var i=t.slice(n.toString().length).match(/\s*\]/);if(i){e.value+=i[0]}}},{re:/^[\d.]+/,parse:function(e,t){if(e.token.indexOf(".")>-1){e.token=parseFloat(e.token)}else{e.token=parseInt(e.token,10)}parseText(e.token,e.tree);parseModifiers(t,e)}},{re:/^\w+/,parse:function(e,t){parseText(e.token,e.tree);parseModifiers(t,e)}}];function parseModifiers(e,t){if(parseModifiers.stop){return}var n=e.match(/^\|(\w+)/);if(!n){return}t.value+=n[0];var i=n[1]=="default"?"defaultValue":n[1];e=e.slice(n[0].length).replace(/^\s+/,"");parseModifiers.stop=true;var r=[];for(var s=e.match(/^\s*:\s*/);s;s=e.match(/^\s*:\s*/)){t.value+=e.slice(0,s[0].length);e=e.slice(s[0].length);var a={value:"",tree:[]};if(lookUp(e,a)){t.value+=a.value;r.push(a.tree[0]);e=e.slice(a.value.length)}else{parseText("",r)}}parseModifiers.stop=false;r.unshift(t.tree.pop());t.tree.push(parseFunc(i,{__parsed:r},[])[0]);parseModifiers(e,t)}function lookUp(e,t){if(!e){return false}if(e.substr(0,jSmart.prototype.left_delimiter.length)==jSmart.prototype.left_delimiter){var n=findTag("",e);if(n){t.token=n[0];t.value+=n[0];parse(n[0],t.tree);parseModifiers(e.slice(t.value.length),t);return true}}for(var i=0;i<tokens.length;++i){if(e.match(tokens[i].re)){t.token=RegExp.lastMatch;t.value+=RegExp.lastMatch;tokens[i].parse(t,e.slice(t.token.length));return true}}return false}function bundleOp(e,t,n){var i=t[e];if(i.name=="operator"&&i.precedence==n&&!i.params.__parsed){if(i.optype=="binary"){i.params.__parsed=[t[e-1],t[e+1]];t.splice(e-1,3,i);return true}else if(i.optype=="post-unary"){i.params.__parsed=[t[e-1]];t.splice(e-1,2,i);return true}i.params.__parsed=[t[e+1]];t.splice(e,2,i)}return false}function composeExpression(e){var t=0;for(t=0;t<e.length;++t){if(e[t]instanceof Array){e[t]=composeExpression(e[t])}}for(var n=1;n<14;++n){if(n==2||n==10){for(t=e.length;t>0;--t){t-=bundleOp(t-1,e,n)}}else{for(t=0;t<e.length;++t){t-=bundleOp(t,e,n)}}}return e[0]}function parseExpression(e){var t={value:"",tree:[]};while(lookUp(e.slice(t.value.length),t)){}if(!t.tree.length){return false}t.tree=composeExpression(t.tree);return t}function parseParams(e,t,n){var i=e.replace(/\n/g," ").replace(/^\s+|\s+$/g,"");var r=[];r.__parsed=[];var e="";if(!i){return r}if(!t){t=/^\s+/;n=/^(\w+)\s*=\s*/}while(i){var s=null;if(n){var a=i.match(n);if(a){s=trimQuotes(a[1]);e+=i.slice(0,a[0].length);i=i.slice(a[0].length)}}var o=parseExpression(i);if(!o){break}if(s){r[s]=o.value;r.__parsed[s]=o.tree}else{r.push(o.value);r.__parsed.push(o.tree)}e+=i.slice(0,o.value.length);i=i.slice(o.value.length);var l=i.match(t);if(l){e+=i.slice(0,l[0].length);i=i.slice(l[0].length)}else{break}}r.toString=function(){return e};return r}function parsePluginBlock(e,t,n,i){n.push({type:"plugin",name:e,params:t,subTree:parse(i,[])})}function parsePluginFunc(e,t,n){n.push({type:"plugin",name:e,params:t})}function getActualParamValues(e,t){var n=[];for(var i in e.__parsed){if(e.__parsed.hasOwnProperty(i)){var r=process([e.__parsed[i]],t);n[i]=r}}n.__get=function(e,t,i){if(e in n&&typeof n[e]!="undefined"){return n[e]}if(typeof i!="undefined"&&typeof n[i]!="undefined"){return n[i]}if(t===null){throw new Error("The required attribute '"+e+"' is missing")}return t};return n}function getVarValue(e,t,n){var i=t;var r="";for(var s=0;s<e.parts.length;++s){var a=e.parts[s];if(a.type=="plugin"&&a.name=="__func"&&a.hasOwner){t.__owner=i;i=process([e.parts[s]],t);delete t.__owner}else{r=process([a],t);if(r in t.smarty.section&&a.type=="text"&&process([e.parts[0]],t)!="smarty"){r=t.smarty.section[r].index}if(!r&&typeof n!="undefined"&&i instanceof Array){r=i.length}if(typeof n!="undefined"&&s==e.parts.length-1){i[r]=n}if(typeof i=="object"&&i!==null&&r in i){i=i[r]}else{if(typeof n=="undefined"){return n}i[r]={};i=i[r]}}}return i}function process(e,t){var n="";for(var i=0;i<e.length;++i){var r="";var s=e[i];if(s.type=="text"){r=s.data}else if(s.type=="var"){r=getVarValue(s,t)}else if(s.type=="build-in"){r=buildInFunctions[s.name].process(s,t)}else if(s.type=="plugin"){var a=plugins[s.name];if(a.type=="block"){var o={value:true};a.process(getActualParamValues(s.params,t),"",t,o);while(o.value){o.value=false;r+=a.process(getActualParamValues(s.params,t),process(s.subTree,t),t,o)}}else if(a.type=="function"){r=a.process(getActualParamValues(s.params,t),t)}}if(typeof r=="boolean"){r=r?"1":""}if(e.length==1){return r}n+=r;if(t.smarty["continue"]||t.smarty["break"]){return n}}return n}function getTemplate(e,t,n){if(n||!(e in files)){var i=jSmart.prototype.getTemplate(e);if(typeof i!="string"){throw new Error("No template for "+e)}parse(applyFilters(jSmart.prototype.filters_global.pre,stripComments(i.replace(/\r\n/g,"\n"))),t);files[e]=t}else{t=files[e]}return t}function stripComments(e){var t="";for(var n=e.match(/{\*/);n;n=e.match(/{\*/)){t+=e.slice(0,n.index);e=e.slice(n.index+n[0].length);var i=e.match(/\*}/);if(!i){throw new Error("Unclosed {*")}e=e.slice(i.index+i[0].length)}return t+e}function applyFilters(e,t){for(var n=0;n<e.length;++n){t=e[n](t)}return t}jSmart=function(e){this.tree=[];this.tree.blocks={};this.scripts={};this.default_modifiers=[];this.filters={variable:[],post:[]};this.smarty={smarty:{block:{},"break":false,capture:{},"continue":false,counter:{},cycle:{},foreach:{},section:{},now:Math.floor((new Date).getTime()/1e3),"const":{},config:{},current_dir:"/",template:"",ldelim:jSmart.prototype.left_delimiter,rdelim:jSmart.prototype.right_delimiter,version:"2.13.1"}};blocks=this.tree.blocks;parse(applyFilters(jSmart.prototype.filters_global.pre,stripComments(new String(e?e:"").replace(/\r\n/g,"\n"))),this.tree)};jSmart.prototype.fetch=function(e){blocks=this.tree.blocks;scripts=this.scripts;escape_html=this.escape_html;default_modifiers=jSmart.prototype.default_modifiers_global.concat(this.default_modifiers);this.data=obMerge(typeof e=="object"?e:{},this.smarty);varFilters=jSmart.prototype.filters_global.variable.concat(this.filters.variable);var t=process(this.tree,this.data);if(jSmart.prototype.debugging){plugins.debug.process([],this.data)}return applyFilters(jSmart.prototype.filters_global.post.concat(this.filters.post),t)};jSmart.prototype.escape_html=false;jSmart.prototype.registerPlugin=function(e,t,n){if(e=="modifier"){modifiers[t]=n}else{plugins[t]={type:e,process:n}}};jSmart.prototype.registerFilter=function(e,t){(this.tree?this.filters:jSmart.prototype.filters_global)[e=="output"?"post":e].push(t)};jSmart.prototype.filters_global={pre:[],variable:[],post:[]};jSmart.prototype.configLoad=function(e,t,n){n=n?n:this.data;var i=e.replace(/\r\n/g,"\n").replace(/^\s+|\s+$/g,"");var r=/^\s*(?:\[([^\]]+)\]|(?:(\w+)[ \t]*=[ \t]*("""|'[^'\\\n]*(?:\\.[^'\\\n]*)*'|"[^"\\\n]*(?:\\.[^"\\\n]*)*"|[^\n]*)))/m;var s="";for(var a=i.match(r);a;a=i.match(r)){i=i.slice(a.index+a[0].length);if(a[1]){s=a[1]}else if((!s||s==t)&&s.substr(0,1)!="."){if(a[3]=='"""'){var o=i.match(/"""/);if(o){n.smarty.config[a[2]]=i.slice(0,o.index);i=i.slice(o.index+o[0].length)}}else{n.smarty.config[a[2]]=trimQuotes(a[3])}}var l=i.match(/\n+/);if(l){i=i.slice(l.index+l[0].length)}else{break}}};jSmart.prototype.clearConfig=function(e){if(e){delete this.data.smarty.config[e]}else{this.data.smarty.config={}}};jSmart.prototype.addDefaultModifier=function(e){if(!(e instanceof Array)){e=[e]}for(var t=0;t<e.length;++t){var n={value:"",tree:[0]};parseModifiers("|"+e[t],n);(this.tree?this.default_modifiers:this.default_modifiers_global).push(n.tree[0])}};jSmart.prototype.default_modifiers_global=[];jSmart.prototype.getTemplate=function(e){throw new Error("No template for "+e)};jSmart.prototype.getFile=function(e){throw new Error("No file for "+e)};jSmart.prototype.getJavascript=function(e){throw new Error("No Javascript for "+e)};jSmart.prototype.getConfig=function(e){throw new Error("No config for "+e)};jSmart.prototype.auto_literal=true;jSmart.prototype.left_delimiter="{";jSmart.prototype.right_delimiter="}";jSmart.prototype.debugging=false;jSmart.prototype.PHPJS=function(fnm,modifier){if(eval("typeof "+fnm)=="function"){return typeof window=="object"?window:global}else if(typeof PHP_JS=="function"){return new PHP_JS}throw new Error("Modifier '"+modifier+"' uses JavaScript port of PHP function '"+fnm+"'. You can find one at http://phpjs.org")};jSmart.prototype.makeTimeStamp=function(e){if(!e){return Math.floor((new Date).getTime()/1e3)}if(isNaN(e)){var t=jSmart.prototype.PHPJS("strtotime","date_format").strtotime(e);if(t==-1||t===false){return Math.floor((new Date).getTime()/1e3)}return t}e=new String(e);if(e.length==14){return Math.floor(new Date(e.substr(0,4),e.substr(4,2)-1,e.substr(6,2),e.substr(8,2),e.substr(10,2)).getTime()/1e3)}return parseInt(e)};jSmart.prototype.registerPlugin("function","__array",function(e,t){var n=[];for(var i in e){if(e.hasOwnProperty(i)&&e[i]&&typeof e[i]!="function"){n[i]=e[i]}}return n});jSmart.prototype.registerPlugin("function","__func",function(e,t){var n=[];var i={};for(var r=0;r<e.length;++r){n.push(e.name+"__p"+r);i[e.name+"__p"+r]=e[r]}var s="__owner"in t&&e.name in t.__owner?"__owner."+e.name:e.name;return execute(s+"("+n.join(",")+")",obMerge({},t,i))});jSmart.prototype.registerPlugin("function","__quoted",function(e,t){return e.join("")});jSmart.prototype.registerPlugin("function","append",function(e,t){var n=e.__get("var",null,0);if(!(n in t)||!(t[n]instanceof Array)){t[n]=[]}var i=e.__get("index",false);var r=e.__get("value",null,1);if(i===false){t[n].push(r)}else{t[n][i]=r}return""});jSmart.prototype.registerPlugin("function","assign",function(e,t){assignVar(e.__get("var",null,0),e.__get("value",null,1),t);return""});jSmart.prototype.registerPlugin("function","break",function(e,t){t.smarty["break"]=true;return""});jSmart.prototype.registerPlugin("function","call",function(e,t){var n=e.__get("name",null,0);delete e.name;var i=e.__get("assign",false);delete e.assign;var r=plugins[n].process(e,t);if(i){assignVar(i,r,t);return""}return r});jSmart.prototype.registerPlugin("block","capture",function(e,t,n,i){if(t){t=t.replace(/^\n/,"");n.smarty.capture[e.__get("name","default",0)]=t;if("assign"in e){assignVar(e.assign,t,n)}var r=e.__get("append",false);if(r){if(r in n){if(n[r]instanceof Array){n[r].push(t)}}else{n[r]=[t]}}}return""});jSmart.prototype.registerPlugin("function","continue",function(e,t){t.smarty["continue"]=true;return""});jSmart.prototype.registerPlugin("function","counter",function(e,t){var n=e.__get("name","default");if(n in t.smarty.counter){var i=t.smarty.counter[n];if("start"in e){i.value=parseInt(e["start"])}else{i.value=parseInt(i.value);i.skip=parseInt(i.skip);if("down"==i.direction){i.value-=i.skip}else{i.value+=i.skip}}i.skip=e.__get("skip",i.skip);i.direction=e.__get("direction",i.direction);i.assign=e.__get("assign",i.assign)}else{t.smarty.counter[n]={value:parseInt(e.__get("start",1)),skip:parseInt(e.__get("skip",1)),direction:e.__get("direction","up"),assign:e.__get("assign",false)}}if(t.smarty.counter[n].assign){t[t.smarty.counter[n].assign]=t.smarty.counter[n].value;return""}if(e.__get("print",true)){return t.smarty.counter[n].value}return""});jSmart.prototype.registerPlugin("function","cycle",function(e,t){var n=e.__get("name","default");var i=e.__get("reset",false);if(!(n in t.smarty.cycle)){t.smarty.cycle[n]={arr:[""],delimiter:e.__get("delimiter",","),index:0};i=true}if(e.__get("delimiter",false)){t.smarty.cycle[n].delimiter=e.delimiter}var r=e.__get("values",false);if(r){var s=[];if(r instanceof Object){for(nm in r){s.push(r[nm])}}else{s=r.split(t.smarty.cycle[n].delimiter)}if(s.length!=t.smarty.cycle[n].arr.length||s[0]!=t.smarty.cycle[n].arr[0]){t.smarty.cycle[n].arr=s;t.smarty.cycle[n].index=0;i=true}}if(e.__get("advance","true")){t.smarty.cycle[n].index+=1}if(t.smarty.cycle[n].index>=t.smarty.cycle[n].arr.length||i){t.smarty.cycle[n].index=0}if(e.__get("assign",false)){assignVar(e.assign,t.smarty.cycle[n].arr[t.smarty.cycle[n].index],t);return""}if(e.__get("print",true)){return t.smarty.cycle[n].arr[t.smarty.cycle[n].index]}return""});jSmart.prototype.print_r=function(e,t){if(e instanceof Object){var n=(e instanceof Array?"Array["+e.length+"]":"Object")+"<br>";for(var i in e){if(e.hasOwnProperty(i)){n+=t+"&nbsp;&nbsp;<strong>"+i+"</strong> : "+jSmart.prototype.print_r(e[i],t+"&nbsp;&nbsp;&nbsp;")+"<br>"}}return n}return e};jSmart.prototype.registerPlugin("function","debug",function(e,t){if(typeof dbgWnd!="undefined"){dbgWnd.close()}dbgWnd=window.open("","","width=680,height=600,resizable,scrollbars=yes");var n="";var i=0;for(var r in t){n+="<tr class="+(++i%2?"odd":"even")+"><td><strong>"+r+"</strong></td><td>"+jSmart.prototype.print_r(t[r],"")+"</td></tr>"}dbgWnd.document.write("                <html xmlns='http://www.w3.org/1999/xhtml' xml:lang='en'>                <head> 		            <title>jSmart Debug Console</title>                   <style type='text/css'>                      table {width: 100%;}                      td {vertical-align:top;width: 50%;}                      .even td {background-color: #fafafa;}                   </style>                </head>                <body>                   <h1>jSmart Debug Console</h1>                   <h2>assigned template variables</h2>                   <table>"+n+"</table>                </body>                </html>             ");return""});jSmart.prototype.registerPlugin("function","eval",function(e,t){var n=[];parse(e.__get("var","",0),n);var i=process(n,t);if("assign"in e){assignVar(e.assign,i,t);return""}return i});jSmart.prototype.registerPlugin("function","fetch",function(e,t){var n=jSmart.prototype.getFile(e.__get("file",null,0));if("assign"in e){assignVar(e.assign,n,t);return""}return n});jSmart.prototype.registerPlugin("function","html_checkboxes",function(e,t){var n=e.__get("type","checkbox"),i=e.__get("name",n),r=e.__get("name",n),s=e.__get("values",e.options),a=e.__get("options",[]),o="options"in e,l=e.__get("selected",false),u=e.__get("separator",""),c=Boolean(e.__get("labels",true)),f=Boolean(e.__get("label_ids",false)),p,d=[],h=0,g="",m,v;if(n=="checkbox"){i+="[]"}if(!o){for(p in e.output){a.push(e.output[p])}}for(p in s){if(s.hasOwnProperty(p)){m=o?p:s[p];v=r+"_"+m;g=c?f?'<label for="'+v+'">':"<label>":"";g+='<input type="'+n+'" name="'+i+'" value="'+m+'" ';if(f){g+='id="'+v+'" '}if(l==(o?p:s[p])){g+='checked="checked" '}g+="/>"+a[o?p:h++];g+=c?"</label>":"";g+=u;d.push(g)}}if("assign"in e){assignVar(e.assign,d,t);return""}return d.join("\n")});jSmart.prototype.registerPlugin("function","html_image",function(e,t){var n=e.__get("file",null),i=e.__get("width",false),r=e.__get("height",false),s=e.__get("alt",""),a=e.__get("href",e.__get("link",false)),o=e.__get("path_prefix",""),l={file:1,width:1,height:1,alt:1,href:1,basedir:1,path_prefix:1,link:1},u='<img src="'+o+n+'"'+' alt="'+s+'"'+(i?' width="'+i+'"':"")+(r?' height="'+r+'"':""),c;for(c in e){if(e.hasOwnProperty(c)&&typeof e[c]=="string"){if(!(c in l)){u+=" "+c+'="'+e[c]+'"'}}}u+=" />";return a?'<a href="'+a+'">'+u+"</a>":u});jSmart.prototype.registerPlugin("function","html_options",function(e,t){var n=e.__get("values",e.options);var i=e.__get("options",[]);var r="options"in e;var s;if(!r){for(s in e.output){i.push(e.output[s])}}var a=e.__get("selected",false);var o=[];var l="";var u=0;for(s in n){if(n.hasOwnProperty(s)){l='<option value="'+(r?s:n[s])+'"';if(a==(r?s:n[s])){l+=' selected="selected"'}l+=">"+i[r?s:u++]+"</option>";o.push(l)}}var c=e.__get("name",false);return(c?'<select name="'+c+'">\n'+o.join("\n")+"\n</select>":o.join("\n"))+"\n"});jSmart.prototype.registerPlugin("function","html_radios",function(e,t){e.type="radio";return plugins.html_checkboxes.process(e,t)});jSmart.prototype.registerPlugin("function","html_select_date",function(e,t){var n=e.__get("prefix","Date_");var i=["January","February","March","April","May","June","July","August","September","October","November","December"];var r="";r+='<select name="'+n+'Month">\n';var s=0;for(s=0;s<i.length;++s){r+='<option value="'+s+'">'+i[s]+"</option>\n"}r+="</select>\n";r+='<select name="'+n+'Day">\n';for(s=0;s<31;++s){r+='<option value="'+s+'">'+s+"</option>\n"}r+="</select>\n";return r});jSmart.prototype.registerPlugin("function","html_table",function(e,t){var n=[];var i;if(e.loop instanceof Array){n=e.loop}else{for(i in e.loop){if(e.loop.hasOwnProperty(i)){n.push(e.loop[i])}}}var r=e.__get("rows",false);var s=e.__get("cols",false);if(!s){s=r?Math.ceil(n.length/r):3}var a=[];if(isNaN(s)){if(typeof s=="object"){for(i in s){if(s.hasOwnProperty(i)){a.push(s[i])}}}else{a=s.split(/\s*,\s*/)}s=a.length}r=r?r:Math.ceil(n.length/s);var o=e.__get("inner","cols");var l=e.__get("caption","");var u=e.__get("table_attr",'border="1"');var c=e.__get("th_attr",false);if(c&&typeof c!="object"){c=[c]}var f=e.__get("tr_attr",false);if(f&&typeof f!="object"){f=[f]}var p=e.__get("td_attr",false);if(p&&typeof p!="object"){p=[p]}var d=e.__get("trailpad","&nbsp;");var h=e.__get("hdir","right");var g=e.__get("vdir","down");var m="";for(var v=0;v<r;++v){m+="<tr"+(f?" "+f[v%f.length]:"")+">\n";for(var y=0;y<s;++y){var b=o=="cols"?(g=="down"?v:r-1-v)*s+(h=="right"?y:s-1-y):(h=="right"?y:s-1-y)*r+(g=="down"?v:r-1-v);m+="<td"+(p?" "+p[y%p.length]:"")+">"+(b<n.length?n[b]:d)+"</td>\n"}m+="</tr>\n"}var w="";if(a.length){w="\n<thead><tr>";for(var x=0;x<a.length;++x){w+="\n<th"+(c?" "+c[x%c.length]:"")+">"+a[h=="right"?x:a.length-1-x]+"</th>"}w+="\n</tr></thead>"}return"<table "+u+">"+(l?"\n<caption>"+l+"</caption>":"")+w+"\n<tbody>\n"+m+"</tbody>\n</table>\n"});jSmart.prototype.registerPlugin("function","include",function(e,t){var n=e.__get("file",null,0);var i=obMerge({},t,e);i.smarty.template=n;var r=process(getTemplate(n,[],findInArray(e,"nocache")>=0),i);if("assign"in e){assignVar(e.assign,r,t);return""}return r});jSmart.prototype.registerPlugin("function","include_javascript",function(e,t){var n=e.__get("file",null,0);if(e.__get("once",true)&&n in scripts){return""}scripts[n]=true;var i=execute(jSmart.prototype.getJavascript(n),{$this:t});if("assign"in e){assignVar(e.assign,i,t);return""}return i});jSmart.prototype.registerPlugin("function","include_php",function(e,t){return plugins["include_javascript"].process(e,t)});jSmart.prototype.registerPlugin("function","insert",function(params,data){var fparams={};for(var nm in params){if(params.hasOwnProperty(nm)&&isNaN(nm)&&params[nm]&&typeof params[nm]=="string"&&nm!="name"&&nm!="assign"&&nm!="script"){fparams[nm]=params[nm]}}var prefix="insert_";if("script"in params){eval(jSmart.prototype.getJavascript(params.script));prefix="smarty_insert_"}var func=eval(prefix+params.__get("name",null,0));var s=func(fparams,data);if("assign"in params){assignVar(params.assign,s,data);return""}return s});jSmart.prototype.registerPlugin("block","javascript",function(e,t,n,i){n["$this"]=n;execute(t,n);delete n["$this"];return""});jSmart.prototype.registerPlugin("function","config_load",function(e,t){jSmart.prototype.configLoad(jSmart.prototype.getConfig(e.__get("file",null,0)),e.__get("section","",1),t);return""});jSmart.prototype.registerPlugin("function","mailto",function(e,t){var n=e.__get("address",null);var i=e.__get("encode","none");var r=e.__get("text",n);var a=jSmart.prototype.PHPJS("rawurlencode","mailto").rawurlencode(e.__get("cc","")).replace("%40","@");var o=jSmart.prototype.PHPJS("rawurlencode","mailto").rawurlencode(e.__get("bcc","")).replace("%40","@");var l=jSmart.prototype.PHPJS("rawurlencode","mailto").rawurlencode(e.__get("followupto","")).replace("%40","@");var u=jSmart.prototype.PHPJS("rawurlencode","mailto").rawurlencode(e.__get("subject",""));var c=jSmart.prototype.PHPJS("rawurlencode","mailto").rawurlencode(e.__get("newsgroups",""));var f=e.__get("extra","");n+=a?"?cc="+a:"";n+=o?(a?"&":"?")+"bcc="+o:"";n+=u?(a||o?"&":"?")+"subject="+u:"";n+=c?(a||o||u?"&":"?")+"newsgroups="+c:"";n+=l?(a||o||u||c?"&":"?")+"followupto="+l:"";s='<a href="mailto:'+n+'" '+f+">"+r+"</a>";if(i=="javascript"){s="document.write('"+s+"');";var p="";for(var d=0;d<s.length;++d){p+="%"+jSmart.prototype.PHPJS("bin2hex","mailto").bin2hex(s.substr(d,1))}return'<script type="text/javascript">eval(unescape(\''+p+"'))</script>"}else if(i=="javascript_charcode"){var h=[];for(var d=0;d<s.length;++d){h.push(jSmart.prototype.PHPJS("ord","mailto").ord(s.substr(d,1)))}return'<script type="text/javascript" language="javascript">\n<!--\n{document.write(String.fromCharCode('+h.join(",")+"))}\n//-->\n</script>\n"}else if(i=="hex"){if(n.match(/^.+\?.+$/)){throw new Error("mailto: hex encoding does not work with extra attributes. Try javascript.")}var g="";for(var d=0;d<n.length;++d){if(n.substr(d,1).match(/\w/)){g+="%"+jSmart.prototype.PHPJS("bin2hex","mailto").bin2hex(n.substr(d,1))}else{g+=n.substr(d,1)}}var m="";for(var d=0;d<r.length;++d){m+="&#x"+jSmart.prototype.PHPJS("bin2hex","mailto").bin2hex(r.substr(d,1))+";"}return'<a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;'+g+'" '+f+">"+m+"</a>"}return s});jSmart.prototype.registerPlugin("function","math",function(params,data){with(Math){with(params){var res=eval(params.__get("equation",null).replace(/pi\(\s*\)/g,"PI"))}}if("format"in params){res=jSmart.prototype.PHPJS("sprintf","math").sprintf(params.format,res)}if("assign"in params){assignVar(params.assign,res,data);return""}return res});jSmart.prototype.registerPlugin("block","nocache",function(e,t,n,i){return t});jSmart.prototype.registerPlugin("block","textformat",function(e,t,n,i){if(!t){return""}var r=e.__get("wrap",80);var s=e.__get("wrap_char","\n");var a=e.__get("wrap_cut",false);var o=e.__get("indent_char"," ");var l=e.__get("indent",0);var u=new Array(l+1).join(o);var c=e.__get("indent_first",0);var f=new Array(c+1).join(o);var p=e.__get("style","");if(p=="email"){r=72}var d=t.split(/[\r\n]{2}/);for(var h=0;h<d.length;++h){var g=d[h];if(!g){continue}g=g.replace(/^\s+|\s+$/,"").replace(/\s+/g," ");if(c>0){g=f+g}g=modifiers.wordwrap(g,r-l,s,a);if(l>0){g=g.replace(/^/gm,u)}d[h]=g}var m=d.join(s+s);if("assign"in e){assignVar(e.assign,m,n);return""}return m;
});jSmart.prototype.registerPlugin("modifier","capitalize",function(e,t){var n=new RegExp(t?"[\\W\\d]+":"\\W+");var i=null;var r="";for(i=e.match(n);i;i=e.match(n)){var s=e.slice(0,i.index);if(s.match(/\d/)){r+=s}else{r+=s.charAt(0).toUpperCase()+s.slice(1)}r+=e.slice(i.index,i.index+i[0].length);e=e.slice(i.index+i[0].length)}if(e.match(/\d/)){return r+e}return r+e.charAt(0).toUpperCase()+e.slice(1)});jSmart.prototype.registerPlugin("modifier","cat",function(e,t){t=t?t:"";return e+t});jSmart.prototype.registerPlugin("modifier","count",function(e,t){if(e===null||typeof e==="undefined"){return 0}else if(e.constructor!==Array&&e.constructor!==Object){return 1}t=Boolean(t);var n,i=0;for(n in e){if(e.hasOwnProperty(n)){i++;if(t&&e[n]&&(e[n].constructor===Array||e[n].constructor===Object)){i+=modifiers.count(e[n],true)}}}return i});jSmart.prototype.registerPlugin("modifier","count_characters",function(e,t){return t?e.length:e.replace(/\s/g,"").length});jSmart.prototype.registerPlugin("modifier","count_paragraphs",function(e){var t=e.match(/\n+/g);if(t){return t.length+1}return 1});jSmart.prototype.registerPlugin("modifier","count_sentences",function(e){var t=e.match(/[^\s]\.(?!\w)/g);if(t){return t.length}return 0});jSmart.prototype.registerPlugin("modifier","count_words",function(e){var t=e.match(/\w+/g);if(t){return t.length}return 0});jSmart.prototype.registerPlugin("modifier","date_format",function(e,t,n){return jSmart.prototype.PHPJS("strftime","date_format").strftime(t?t:"%b %e, %Y",jSmart.prototype.makeTimeStamp(e?e:n))});jSmart.prototype.registerPlugin("modifier","defaultValue",function(e,t){return e&&e!="null"&&e!="undefined"?e:t?t:""});jSmart.prototype.registerPlugin("modifier","unescape",function(e,t,n){e=new String(e);t=t||"html";n=n||"UTF-8";switch(t){case"html":return e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#039;/g,"'").replace(/&quot;/g,'"');case"entity":case"htmlall":return jSmart.prototype.PHPJS("html_entity_decode","unescape").html_entity_decode(e,n);case"url":return jSmart.prototype.PHPJS("rawurldecode","unescape").rawurldecode(e)}return e});jSmart.prototype.registerPlugin("modifier","escape",function(e,t,n,i){e=new String(e);t=t||"html";n=n||"UTF-8";i=typeof i!="undefined"?Boolean(i):true;switch(t){case"html":if(i){e=e.replace(/&/g,"&amp;")}return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;");case"htmlall":return jSmart.prototype.PHPJS("htmlentities","escape").htmlentities(e,3,n);case"url":return jSmart.prototype.PHPJS("rawurlencode","escape").rawurlencode(e);case"urlpathinfo":return jSmart.prototype.PHPJS("rawurlencode","escape").rawurlencode(e).replace(/%2F/g,"/");case"quotes":return e.replace(/(^|[^\\])'/g,"$1\\'");case"hex":var r="";for(var s=0;s<e.length;++s){r+="%"+jSmart.prototype.PHPJS("bin2hex","escape").bin2hex(e.substr(s,1))}return r;case"hexentity":var r="";for(var s=0;s<e.length;++s){r+="&#x"+jSmart.prototype.PHPJS("bin2hex","escape").bin2hex(e.substr(s,1)).toUpperCase()+";"}return r;case"decentity":var r="";for(var s=0;s<e.length;++s){r+="&#"+jSmart.prototype.PHPJS("ord","escape").ord(e.substr(s,1))+";"}return r;case"mail":return e.replace(/@/g," [AT] ").replace(/[.]/g," [DOT] ");case"nonstd":var r="";for(var s=0;s<e.length;++s){var a=jSmart.prototype.PHPJS("ord","escape").ord(e.substr(s,1));if(a>=126){r+="&#"+a+";"}else{r+=e.substr(s,1)}}return r;case"javascript":return e.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(/"/g,'\\"').replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/<\//g,"</")}return e});jSmart.prototype.registerPlugin("modifier","indent",function(e,t,n){t=t?t:4;n=n?n:" ";var i="";while(t--){i+=n}var r=e.match(/\n+$/);return i+e.replace(/\n+$/,"").replace(/\n/g,"\n"+i)+(r?r[0]:"")});jSmart.prototype.registerPlugin("modifier","lower",function(e){return e.toLowerCase()});jSmart.prototype.registerPlugin("modifier","nl2br",function(e){return e.replace(/\n/g,"<br />\n")});jSmart.prototype.registerPlugin("modifier","regex_replace",function(e,t,n){var i=t.match(/^ *\/(.*)\/(.*) *$/);return new String(e).replace(new RegExp(i[1],"g"+(i.length>1?i[2]:"")),n)});jSmart.prototype.registerPlugin("modifier","replace",function(e,t,n){if(!t){return e}e=new String(e);t=new String(t);n=new String(n);var i="";var r=-1;for(r=e.indexOf(t);r>=0;r=e.indexOf(t)){i+=e.slice(0,r)+n;r+=t.length;e=e.slice(r)}return i+e});jSmart.prototype.registerPlugin("modifier","spacify",function(e,t){if(!t){t=" "}return e.replace(/(\n|.)(?!$)/g,"$1"+t)});jSmart.prototype.registerPlugin("modifier","noprint",function(e){return""});jSmart.prototype.registerPlugin("modifier","string_format",function(e,t){return jSmart.prototype.PHPJS("sprintf","string_format").sprintf(t,e)});jSmart.prototype.registerPlugin("modifier","strip",function(e,t){t=t?t:" ";return new String(e).replace(/[\s]+/g,t)});jSmart.prototype.registerPlugin("modifier","strip_tags",function(e,t){t=t==null?true:t;return new String(e).replace(/<[^>]*?>/g,t?" ":"")});jSmart.prototype.registerPlugin("modifier","truncate",function(e,t,n,i,r){t=t?t:80;n=n!=null?n:"...";if(e.length<=t){return e}t-=Math.min(t,n.length);if(r){return e.slice(0,Math.floor(t/2))+n+e.slice(e.length-Math.floor(t/2))}if(!i){e=e.slice(0,t+1).replace(/\s+?(\S+)?$/,"")}return e.slice(0,t)+n});jSmart.prototype.registerPlugin("modifier","upper",function(e){return e.toUpperCase()});jSmart.prototype.registerPlugin("modifier","wordwrap",function(e,t,n,i){t=t||80;n=n||"\n";var r=e.split("\n");for(var s=0;s<r.length;++s){var a=r[s];var o="";while(a.length>t){var l=0;var u=a.slice(l).match(/\s+/);for(;u&&l+u.index<=t;u=a.slice(l).match(/\s+/)){l+=u.index+u[0].length}l=l||(i?t:u?u.index+u[0].length:a.length);o+=a.slice(0,l).replace(/\s+$/,"");if(l<a.length){o+=n}a=a.slice(l)}r[s]=o+a}return r.join("\n")});String.prototype.fetch=function(e){var t=new jSmart(this);return t.fetch(e)}})();function isEmail(e){var t=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)}function md5cycle(e,t){var n=e[0],i=e[1],r=e[2],s=e[3];n=ff(n,i,r,s,t[0],7,-680876936);s=ff(s,n,i,r,t[1],12,-389564586);r=ff(r,s,n,i,t[2],17,606105819);i=ff(i,r,s,n,t[3],22,-1044525330);n=ff(n,i,r,s,t[4],7,-176418897);s=ff(s,n,i,r,t[5],12,1200080426);r=ff(r,s,n,i,t[6],17,-1473231341);i=ff(i,r,s,n,t[7],22,-45705983);n=ff(n,i,r,s,t[8],7,1770035416);s=ff(s,n,i,r,t[9],12,-1958414417);r=ff(r,s,n,i,t[10],17,-42063);i=ff(i,r,s,n,t[11],22,-1990404162);n=ff(n,i,r,s,t[12],7,1804603682);s=ff(s,n,i,r,t[13],12,-40341101);r=ff(r,s,n,i,t[14],17,-1502002290);i=ff(i,r,s,n,t[15],22,1236535329);n=gg(n,i,r,s,t[1],5,-165796510);s=gg(s,n,i,r,t[6],9,-1069501632);r=gg(r,s,n,i,t[11],14,643717713);i=gg(i,r,s,n,t[0],20,-373897302);n=gg(n,i,r,s,t[5],5,-701558691);s=gg(s,n,i,r,t[10],9,38016083);r=gg(r,s,n,i,t[15],14,-660478335);i=gg(i,r,s,n,t[4],20,-405537848);n=gg(n,i,r,s,t[9],5,568446438);s=gg(s,n,i,r,t[14],9,-1019803690);r=gg(r,s,n,i,t[3],14,-187363961);i=gg(i,r,s,n,t[8],20,1163531501);n=gg(n,i,r,s,t[13],5,-1444681467);s=gg(s,n,i,r,t[2],9,-51403784);r=gg(r,s,n,i,t[7],14,1735328473);i=gg(i,r,s,n,t[12],20,-1926607734);n=hh(n,i,r,s,t[5],4,-378558);s=hh(s,n,i,r,t[8],11,-2022574463);r=hh(r,s,n,i,t[11],16,1839030562);i=hh(i,r,s,n,t[14],23,-35309556);n=hh(n,i,r,s,t[1],4,-1530992060);s=hh(s,n,i,r,t[4],11,1272893353);r=hh(r,s,n,i,t[7],16,-155497632);i=hh(i,r,s,n,t[10],23,-1094730640);n=hh(n,i,r,s,t[13],4,681279174);s=hh(s,n,i,r,t[0],11,-358537222);r=hh(r,s,n,i,t[3],16,-722521979);i=hh(i,r,s,n,t[6],23,76029189);n=hh(n,i,r,s,t[9],4,-640364487);s=hh(s,n,i,r,t[12],11,-421815835);r=hh(r,s,n,i,t[15],16,530742520);i=hh(i,r,s,n,t[2],23,-995338651);n=ii(n,i,r,s,t[0],6,-198630844);s=ii(s,n,i,r,t[7],10,1126891415);r=ii(r,s,n,i,t[14],15,-1416354905);i=ii(i,r,s,n,t[5],21,-57434055);n=ii(n,i,r,s,t[12],6,1700485571);s=ii(s,n,i,r,t[3],10,-1894986606);r=ii(r,s,n,i,t[10],15,-1051523);i=ii(i,r,s,n,t[1],21,-2054922799);n=ii(n,i,r,s,t[8],6,1873313359);s=ii(s,n,i,r,t[15],10,-30611744);r=ii(r,s,n,i,t[6],15,-1560198380);i=ii(i,r,s,n,t[13],21,1309151649);n=ii(n,i,r,s,t[4],6,-145523070);s=ii(s,n,i,r,t[11],10,-1120210379);r=ii(r,s,n,i,t[2],15,718787259);i=ii(i,r,s,n,t[9],21,-343485551);e[0]=add32(n,e[0]);e[1]=add32(i,e[1]);e[2]=add32(r,e[2]);e[3]=add32(s,e[3])}function cmn(e,t,n,i,r,s){t=add32(add32(t,e),add32(i,s));return add32(t<<r|t>>>32-r,n)}function ff(e,t,n,i,r,s,a){return cmn(t&n|~t&i,e,t,r,s,a)}function gg(e,t,n,i,r,s,a){return cmn(t&i|n&~i,e,t,r,s,a)}function hh(e,t,n,i,r,s,a){return cmn(t^n^i,e,t,r,s,a)}function ii(e,t,n,i,r,s,a){return cmn(n^(t|~i),e,t,r,s,a)}function md51(e){txt="";var t=e.length,n=[1732584193,-271733879,-1732584194,271733878],i;for(i=64;i<=e.length;i+=64){md5cycle(n,md5blk(e.substring(i-64,i)))}e=e.substring(i-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(i=0;i<e.length;i++)r[i>>2]|=e.charCodeAt(i)<<(i%4<<3);r[i>>2]|=128<<(i%4<<3);if(i>55){md5cycle(n,r);for(i=0;i<16;i++)r[i]=0}r[14]=t*8;md5cycle(n,r);return n}function md5blk(e){var t=[],n;for(n=0;n<64;n+=4){t[n>>2]=e.charCodeAt(n)+(e.charCodeAt(n+1)<<8)+(e.charCodeAt(n+2)<<16)+(e.charCodeAt(n+3)<<24)}return t}var hex_chr="0123456789abcdef".split("");function rhex(e){var t="",n=0;for(;n<4;n++)t+=hex_chr[e>>n*8+4&15]+hex_chr[e>>n*8&15];return t}function hex(e){for(var t=0;t<e.length;t++)e[t]=rhex(e[t]);return e.join("")}function md5(e){return hex(md51(e))}function add32(e,t){return e+t&4294967295}if(md5("hello")!="5d41402abc4b2a76b9719d911017c592"){function add32(e,t){var n=(e&65535)+(t&65535),i=(e>>16)+(t>>16)+(n>>16);return i<<16|n&65535}}window.App={Models:{},Collections:{},Views:{Abstract:{},Dialogs:{},Pages:{},Widgets:{},Parts:{},Charts:{}},router:null,dialog:null,page:null,header:null,footer:null,settings:null,currentUser:null,init:function(){var e=this;$.ajaxSetup({cache:false});$.get(this.settings.apiEntryPoint+"users",function(t){console.log(t);console.log(t);if(t)e.setUser(t);else e.setUser();e.localStorage.invalidate(e.settings.version);e.i18n.setLanguage(e.settings.detectLanguage());e.router.init();e.loadingStatus(false)},"json")},showDialog:function(e,t){if(typeof App.Views.Dialogs[e]==="undefined")return false;if(App.dialog&&App.dialog.isVisible){App.dialog.once("hidden",function(){console.log("Ready to show another dialog");App.dialog=new App.Views.Dialogs[e](t)},this);App.dialog.hide()}else{App.dialog=new App.Views.Dialogs[e](t);App.log.event("dialog","Show Dialog "+e)}return true},showPage:function(e,t){console.log("Showing page: "+e);if(typeof t==="undefined")t={};if(typeof App.Views.Pages[e]==="undefined"){console.error("There is no view class defined");return false}if(typeof this.page!=="undefined"&&this.page){this.page.sleep()}var n=this.viewStack.getView(e,t);if(n!==false){console.log("Showing page from stack");this.page=n;this.page.wakeUp();this.loadingStatus(false)}else{this.loadingStatus(true);this.page=new App.Views.Pages[e](t);this.page.on("loaded",function(){this.loadingStatus(false)},this);if(this.page.isReady)this.loadingStatus(false);this.viewStack.addView(e,t,this.page)}this.renderLayoutBlocks();return true},setProgress:function(e){if(!this.progress)this.progress=new Mprogress;if(typeof e==="undefined"){if(this.progress.status==null)return this.progress.start();else return this.progress.inc()}if(e>=1||e===true)return this.progress.end();this.progress.set(e)},loadingStatus:function(e){if(e){console.log("app.js | Loading status = true");this.isLoading=true;$("#preloader").stop().show()}else{console.log("app.js | Loading status = false");this.isLoading=false;$("#preloader").stop().fadeOut("slow")}},setUser:function(e){this.currentUser=new App.Models.User;this.currentUser.on("signedInStatusChanged",this.userChanged,this);if(typeof e!=="undefined")this.currentUser.signInWithData(e)},userChanged:function(){console.log("User info changed");this.renderLayoutBlocks()},renderLayoutBlocks:function(){var e=this;if(!this.header){this.header=new App.Views.Header}var t=function(){e.header.render()};if($.isReady){t()}else{$(function(){t()})}}};App.viewStack={stack:{},inStackCount:0,addView:function(e,t,n){if(!App.settings.enablePagesStack)return false;var i=e;if(typeof t!=="undefined")for(var r in t){if(typeof t[r].id!=="undefined")i+="-"+r+"_id"+t[r].id;else i+="-"+r+"_"+t[r]}this.stack[i]={view:n,hash:i,added:new Date};this.inStackCount++;this.removeOldestIfNeeded();return true},getView:function(e,t){if(!App.settings.enablePagesStack)return false;var n=e;if(typeof t!=="undefined")for(var i in t){if(typeof t[i].id!=="undefined")n+="-"+i+"_id"+t[i].id;else n+="-"+i+"_"+t[i]}if(typeof this.stack[n]!=="undefined")return this.stack[n].view;else return false},clear:function(){this.stack={};this.inStackCount=0},removeOldestIfNeeded:function(){var e=App.settings.pagesStackMaxLength;if(this.inStackCount<=e)return;var t=[];for(var n in this.stack)t.push({hash:this.stack[n].hash,added:this.stack[n].added});t.sort(function(e,t){return e.added-t.added});console.log("Removing "+t[0].hash+" from pages stack");delete this.stack[t[0].hash];this.inStackCount--}};App.settings={sitePath:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""),apiEntryPoint:site_path+"/api/",templatePath:site_path+"/jstemplates/",version:typeof app_version!=="undefined"?app_version:"",title:function(e){return e+" | "+"Wallet"},disqusShortname:"wasabiventuresacademy",disqusLanguage:"ru",appLanguage:"en",detectLanguage:function(){var e=window.navigator.userLanguage||window.navigator.language;if(e&&e.indexOf("-")!=-1){e=e.split("-")[0]}return e},timeFormat:"12",dateFormat:"mdy",allowRealTimeTranslation:true,enableTemplatesCache:false,enablePagesStack:true,pagesStackMaxLength:25,history:{pushState:true,startSilent:false},inviteMode:true,site_path:site_path,invite_mode:this.inviteMode,client_side:true,currencies:{AED:"United Arab Emirates Dirham",AFN:"Afghan Afghani",ALL:"Albanian Lek",AMD:"Armenian Dram",ANG:"Netherlands Antillean Guilder",AOA:"Angolan Kwanza",ARS:"Argentine Peso",AUD:"Australian Dollar",AWG:"Aruban Florin",AZN:"Azerbaijani Manat",BAM:"Bosnia-Herzegovina Convertible Mark",BBD:"Barbadian Dollar",BDT:"Bangladeshi Taka",BGN:"Bulgarian Lev",BHD:"Bahraini Dinar",BIF:"Burundian Franc",BMD:"Bermudan Dollar",BND:"Brunei Dollar",BOB:"Bolivian Boliviano",BRL:"Brazilian Real",BSD:"Bahamian Dollar",BTC:"Bitcoin",BTN:"Bhutanese Ngultrum",BWP:"Botswanan Pula",BYR:"Belarusian Ruble",BZD:"Belize Dollar",CAD:"Canadian Dollar",CDF:"Congolese Franc",CHF:"Swiss Franc",CLF:"Chilean Unit of Account (UF)",CLP:"Chilean Peso",CNY:"Chinese Yuan",COP:"Colombian Peso",CRC:"Costa Rican ColÃ³n",CUP:"Cuban Peso",CVE:"Cape Verdean Escudo",CZK:"Czech Republic Koruna",DJF:"Djiboutian Franc",DKK:"Danish Krone",DOP:"Dominican Peso",DZD:"Algerian Dinar",EEK:"Estonian Kroon",EGP:"Egyptian Pound",ERN:"Eritrean Nakfa",ETB:"Ethiopian Birr",EUR:"Euro",FJD:"Fijian Dollar",FKP:"Falkland Islands Pound",GBP:"British Pound Sterling",GEL:"Georgian Lari",GGP:"Guernsey Pound",GHS:"Ghanaian Cedi",GIP:"Gibraltar Pound",GMD:"Gambian Dalasi",GNF:"Guinean Franc",GTQ:"Guatemalan Quetzal",GYD:"Guyanaese Dollar",HKD:"Hong Kong Dollar",HNL:"Honduran Lempira",HRK:"Croatian Kuna",HTG:"Haitian Gourde",HUF:"Hungarian Forint",IDR:"Indonesian Rupiah",ILS:"Israeli New Sheqel",IMP:"Manx pound",INR:"Indian Rupee",IQD:"Iraqi Dinar",IRR:"Iranian Rial",ISK:"Icelandic KrÃ³na",JEP:"Jersey Pound",JMD:"Jamaican Dollar",JOD:"Jordanian Dinar",JPY:"Japanese Yen",KES:"Kenyan Shilling",KGS:"Kyrgystani Som",KHR:"Cambodian Riel",KMF:"Comorian Franc",KPW:"North Korean Won",KRW:"South Korean Won",KWD:"Kuwaiti Dinar",KYD:"Cayman Islands Dollar",KZT:"Kazakhstani Tenge",LAK:"Laotian Kip",LBP:"Lebanese Pound",LKR:"Sri Lankan Rupee",LRD:"Liberian Dollar",LSL:"Lesotho Loti",LTL:"Lithuanian Litas",LVL:"Latvian Lats",LYD:"Libyan Dinar",MAD:"Moroccan Dirham",MDL:"Moldovan Leu",MGA:"Malagasy Ariary",MKD:"Macedonian Denar",MMK:"Myanma Kyat",MNT:"Mongolian Tugrik",MOP:"Macanese Pataca",MRO:"Mauritanian Ouguiya",MTL:"Maltese Lira",MUR:"Mauritian Rupee",MVR:"Maldivian Rufiyaa",MWK:"Malawian Kwacha",MXN:"Mexican Peso",MYR:"Malaysian Ringgit",MZN:"Mozambican Metical",NAD:"Namibian Dollar",NGN:"Nigerian Naira",NIO:"Nicaraguan CÃ³rdoba",NOK:"Norwegian Krone",NPR:"Nepalese Rupee",NZD:"New Zealand Dollar",OMR:"Omani Rial",PAB:"Panamanian Balboa",PEN:"Peruvian Nuevo Sol",PGK:"Papua New Guinean Kina",PHP:"Philippine Peso",PKR:"Pakistani Rupee",PLN:"Polish Zloty",PYG:"Paraguayan Guarani",QAR:"Qatari Rial",RON:"Romanian Leu",RSD:"Serbian Dinar",RUB:"Russian Ruble",RWF:"Rwandan Franc",SAR:"Saudi Riyal",SBD:"Solomon Islands Dollar",SCR:"Seychellois Rupee",SDG:"Sudanese Pound",SEK:"Swedish Krona",SGD:"Singapore Dollar",SHP:"Saint Helena Pound",SLL:"Sierra Leonean Leone",SOS:"Somali Shilling",SRD:"Surinamese Dollar",STD:"SÃ£o TomÃ© and PrÃ­ncipe Dobra",SVC:"Salvadoran ColÃ³n",SYP:"Syrian Pound",SZL:"Swazi Lilangeni",THB:"Thai Baht",TJS:"Tajikistani Somoni",TMT:"Turkmenistani Manat",TND:"Tunisian Dinar",TOP:"Tongan PaÊ»anga",TRY:"Turkish Lira",TTD:"Trinidad and Tobago Dollar",TWD:"New Taiwan Dollar",TZS:"Tanzanian Shilling",UAH:"Ukrainian Hryvnia",UGX:"Ugandan Shilling",USD:"United States Dollar",UYU:"Uruguayan Peso",UZS:"Uzbekistan Som",VEF:"Venezuelan BolÃ­var Fuerte",VND:"Vietnamese Dong",VUV:"Vanuatu Vatu",WST:"Samoan Tala",XAF:"CFA Franc BEAC",XAG:"Silver (troy ounce)",XAU:"Gold (troy ounce)",XCD:"East Caribbean Dollar",XDR:"Special Drawing Rights",XOF:"CFA Franc BCEAO",XPF:"CFP Franc",YER:"Yemeni Rial",ZAR:"South African Rand",ZMK:"Zambian Kwacha (pre-2013)",ZMW:"Zambian Kwacha",ZWL:"Zimbabwean Dollar"}};App.localStorage={invalidate:function(e){var t=this.get("current_app_version");if(t&&e!=t)this.clear();this.set("current_app_version",e)},set:function(e,t){if(typeof t==="undefined")return this.remove(e);window.localStorage.setItem(e,this._serialize(t));return t},get:function(e){return this._deserialize(window.localStorage.getItem(e))},remove:function(e){window.localStorage.removeItem(e);return true},clear:function(){window.localStorage.clear();return true},isSupported:function(){if(typeof window==="undefined")return false;try{return"localStorage"in window&&window.localStorage}catch(e){return false}return true},_serialize:function(e){return JSON.stringify(e)},_deserialize:function(e){if(typeof e!="string")return undefined;try{return JSON.parse(e)}catch(t){return e||undefined}}};App.templateManager={_cache:{},_templates:{},_loadingStates:{},_loadingCallbacks:{},_initialized:false,initialize:function(){jSmart.prototype.getTemplate=function(e){if(e.indexOf("shared/widgets/")===0){var t=e.split("shared/widgets/").join("").split(".tpl").join("");console.log('template_manager.js | Including widget "'+t+'"');return'<div class="widget client-side-widget client-side-widget-'+t+'" id="widget_'+(Math.random()+"").split("0.").join("")+'" data-widget-name="'+t+'"></div>'}if(typeof App.templateManager._templates[e]!=="undefined"){return App.templateManager._cache[e]}else{throw new Error("Template "+e+" is not yet loaded")}};jSmart.prototype.registerPlugin("modifier","decimal",function(e){var t=+(e+"").replace(/^\s+|\s+$/g,"");var n=Math.abs(t)-Math.floor(Math.abs(t));n*=100;n=Math.round(n);if(n===0)return"00";if(n<10)return"0"+n;else return n});jSmart.prototype.registerPlugin("modifier","rational",function(e){var t=+(e+"").replace(/^\s+|\s+$/g,"");var n=Math.floor(Math.abs(t));return n});Date.prototype.format=function(e){var t="";var n=Date.replaceChars;for(var i=0;i<e.length;i++){var r=e.charAt(i);if(i-1>=0&&e.charAt(i-1)=="\\"){t+=r}else if(n[r]){t+=n[r].call(this)}else if(r!="\\"){t+=r}}return t};Date.replaceChars={shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longMonths:["January","February","March","April","May","June","July","August","September","October","November","December"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longDays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],d:function(){return(this.getDate()<10?"0":"")+this.getDate()},D:function(){return Date.replaceChars.shortDays[this.getDay()]},j:function(){return this.getDate()},l:function(){return Date.replaceChars.longDays[this.getDay()]},N:function(){return this.getDay()+1},S:function(){return this.getDate()%10==1&&this.getDate()!=11?"st":this.getDate()%10==2&&this.getDate()!=12?"nd":this.getDate()%10==3&&this.getDate()!=13?"rd":"th"},w:function(){return this.getDay()},z:function(){var e=new Date(this.getFullYear(),0,1);return Math.ceil((this-e)/864e5)},W:function(){var e=new Date(this.getFullYear(),0,1);return Math.ceil(((this-e)/864e5+e.getDay()+1)/7)},F:function(){return Date.replaceChars.longMonths[this.getMonth()]},m:function(){return(this.getMonth()<9?"0":"")+(this.getMonth()+1)},M:function(){return Date.replaceChars.shortMonths[this.getMonth()]},n:function(){return this.getMonth()+1},t:function(){var e=new Date;return new Date(e.getFullYear(),e.getMonth(),0).getDate()},L:function(){var e=this.getFullYear();return e%400==0||e%100!=0&&e%4==0},o:function(){var e=new Date(this.valueOf());e.setDate(e.getDate()-(this.getDay()+6)%7+3);return e.getFullYear()},Y:function(){return this.getFullYear()},y:function(){return(""+this.getFullYear()).substr(2)},a:function(){return this.getHours()<12?"am":"pm"},A:function(){return this.getHours()<12?"AM":"PM"},B:function(){return Math.floor(((this.getUTCHours()+1)%24+this.getUTCMinutes()/60+this.getUTCSeconds()/3600)*1e3/24)},g:function(){return this.getHours()%12||12},G:function(){return this.getHours()},h:function(){return((this.getHours()%12||12)<10?"0":"")+(this.getHours()%12||12)},H:function(){return(this.getHours()<10?"0":"")+this.getHours()},i:function(){return(this.getMinutes()<10?"0":"")+this.getMinutes()},s:function(){return(this.getSeconds()<10?"0":"")+this.getSeconds()},u:function(){var e=this.getMilliseconds();return(e<10?"00":e<100?"0":"")+e},e:function(){return"Not Yet Supported"},I:function(){var e=null;for(var t=0;t<12;++t){var n=new Date(this.getFullYear(),t,1);var i=n.getTimezoneOffset();if(e===null)e=i;else if(i<e){e=i;break}else if(i>e)break}return this.getTimezoneOffset()==e|0},O:function(){return(-this.getTimezoneOffset()<0?"-":"+")+(Math.abs(this.getTimezoneOffset()/60)<10?"0":"")+Math.abs(this.getTimezoneOffset()/60)+"00"},P:function(){return(-this.getTimezoneOffset()<0?"-":"+")+(Math.abs(this.getTimezoneOffset()/60)<10?"0":"")+Math.abs(this.getTimezoneOffset()/60)+":00"},T:function(){var e=this.getMonth();this.setMonth(0);var t=this.toTimeString().replace(/^.+ \(?([^\)]+)\)?$/,"$1");this.setMonth(e);return t},Z:function(){return-this.getTimezoneOffset()*60},c:function(){return this.format("Y-m-d\\TH:i:sP")},r:function(){return this.toString()},U:function(){return this.getTime()/1e3}};jSmart.prototype.registerPlugin("modifier","date_format",function(e,t,n){var i=new Date(e*1e3);return i.format(t?t:"M j, Y",e?e:n)});jSmart.prototype.registerPlugin("modifier","wallet_time",function(e){var t=new Date(e*1e3);if(App.settings.timeFormat=="12")return t.format("g:i a",e);else return t.format("H:i",e)});jSmart.prototype.registerPlugin("modifier","wallet_date",function(e){var t=new Date(e*1e3);if(App.settings.dateFormat=="mdy")return t.format("M j, Y",e);else{var n=t.format("F",e).toLowerCase();return t.format("j",e)+" "+App.i18n.translate(n)+" "+t.format("Y",e)}});jSmart.prototype.registerPlugin("block","t",function(e,t,n,i){if(typeof App==="undefined"||typeof App.i18n==="undefined")return t;else return App.i18n.translate(t)});this._initialized=true},commonData:function(){return{settings:_.extend(App.settings,{site_path:App.settings.sitePath,client_side:true,invite_mode:App.settings.inviteMode})}},fetch:function(e,t,n){if(!this._initialized)this.initialize();t=_.extend(t,this.commonData());if(typeof this._templates[e]!=="undefined"||this.tryToLoadFromStorage(e)){var i=this._templates[e].fetch(t);if(typeof n==="function")n(i);return i}var r=this;if(typeof n==="function"){if(typeof this._loadingStates[e]!=="undefined"&&this._loadingStates[e]==="loading"){if(typeof this._loadingCallbacks[e]==="undefined"){this._loadingCallbacks[e]=[]}this._loadingCallbacks[e].push(function(e){n(e.fetch(t))})}else{this.loadFromServer(e,function(e){n(e.fetch(t))})}}else{this.loadFromServer(e)}return false},tryToLoadFromStorage:function(e){if(!App.settings.enableTemplatesCache){console.log("Templates cache is disabled");return false}if(!App.localStorage.isSupported()){console.log("Local storage is disabled");return false}var t=App.localStorage.get("app_temapltes_"+e);if(t){this._cache[e]=t;this._templates[e]=new jSmart(t);this._loadingStates[e]="ready";return true}return false},loadFromServer:function(e,t){this._loadingStates[e]="loading";var n=this;var i=e;var r=t;console.time("template_manager.js | Fetch "+i+" from server");var s=function(e){console.timeEnd("template_manager.js | Fetch "+i+" from server");console.group("Template name: "+i);console.log("Callback function present: "+typeof r);if(typeof n._loadingCallbacks[i]==="undefined")console.log("No additional callbacks");else console.log("Additional callbacks: "+n._loadingCallbacks[i].length);console.groupEnd();if(e){App.localStorage.set("app_temapltes_"+i,e);n._cache[i]=e;n._templates[i]=new jSmart(e);n._loadingStates[i]="ready";if(typeof r==="function")r(n._templates[i]);if(typeof n._loadingCallbacks[i]!=="undefined"){for(var t in n._loadingCallbacks[i])n._loadingCallbacks[i][t](n._templates[i]);n._loadingCallbacks[i]=[]}}};var a=true;if(!App.settings.enableTemplatesCache)a=false;$.ajax({url:App.settings.templatePath+e,data:{},success:s,dataType:"html",mimeType:"text/plain",cache:a})}};App.i18n={strings:{},loaded:false,setLanguage:function(e){this.languageCode=e;this.loadStrings()},getLanguage:function(e){return this.languageCode},translate:function(e,t){if(typeof t=="undefined")t=e;if(typeof this.strings[t]==="undefined"||this.strings[t]===false)return e;else return this.strings[t]},translateDOM:function(){var e=this;$("[data-i18n]").each(function(){var t=$(this).data("i18n");t=e.translate(t);$(this).text(t)})},loadStrings:function(){var e=this;var t=function(t){e.strings=t;e.loaded=true;e.translateDOM()};this.loaded=false;$.ajax({url:App.settings.apiEntryPoint+"i18n/bycode/"+this.languageCode,data:{},success:t,dataType:"json",mimeType:"application/json",cache:true})}};App.Views.Abstract.Dialog=Backbone.View.extend({el:$("#dialog_wrapper"),isVisible:false,show:function(e){if(!$("#dialog_wrapper").length)$("body").append("<div id='dialog_wrapper'></div>");this.setElement($("#dialog_wrapper"));if(typeof e==="undefined")e={};this.renderLoading();var t=this;var n=new $.Deferred;var i=new $.Deferred;$.when(n,i).done(function(){t.trigger("ready")});this.$el.children().on("shown.bs.modal",function(e){t.isVisible=true;console.log("Dialog "+t.dialogName+" is shown. Firing shown event.");t.trigger("shown");i.resolve()});this.$el.children().on("hidden.bs.modal",function(e){t.isVisible=false;t.undelegateEvents();$("#dialog_wrapper").html("");console.log("Dialog "+t.dialogName+" is hidden. Firing hidden event.");t.trigger("hidden")});this.once("rendered",function(){n.resolve()});this.isVisible=true;this.$el.children().modal();this.renderHTML(e)},renderLoading:function(){console.log("Dialog "+this.dialogName+" rendered loading");this.$el.html('<div id="dialog_'+this.dialogName+'" class="modal dialog_'+this.dialogName+'" role="dialog" aria-labelledby="dialog_label">'+'<div class="modal-dialog"><div class="modal-content modal-loading">Loading</div></div></div>')},renderHTML:function(e){var t=this;App.templateManager.fetch("dialogs/"+this.dialogName,e,function(e){console.log("Dialog "+t.dialogName+" rendering");t.$(".modal").html(e);t.trigger("rendered");console.log("Dialog "+t.dialogName+" rendered")})},hide:function(){console.log("Hide dialog");this.$el.children().modal("hide")}});App.Views.Abstract.Page=Backbone.View.extend({isReady:false,requiresSignedIn:false,widgets:[],parts:[],partsInitialized:false,requireSingedIn:function(e){this.requiresSignedIn=true;this.listenToOnce(App.currentUser,"signedout",function(){console.log("abstract/page.js | Clearing stack and redirect user back to the root");App.viewStack.clear();App.router.redirect("/")});if(typeof App.currentUser!=="undefined"&&App.currentUser.isSignedIn()){if(typeof e==="function")e(App.currentUser);return App.currentUser}else{this.listenToOnce(App.currentUser,"signedin",function(){e(App.currentUser)});App.showDialog("Signin");App.dialog.on("hidden",function(){if(!App.currentUser.isSignedIn()){App.viewStack.clear();App.router.navigate("/",{trigger:true})}})}},setURL:function(e){if(typeof e==="undefined"){var e="";if(typeof this.url==="function")e=this.url();else if(typeof this.url==="string")e=this.url}if(e){App.router.setUrl(e);App.log.setURL(e)}else{App.log.setURL("")}App.log.pageView()},setTitle:function(e){if(typeof e==="undefined"){var e="";if(typeof this.title==="function")e=this.title();else if(typeof this.title==="string")e=this.title}if(typeof App.settings.title=="function")e=App.settings.title(e);if(e){console.log("Document title changed to '"+e+"'");$(document).attr("title",e);App.log.setTitle(e)}},wakeUp:function(){App.setProgress(false);this.holderReady=false;this.render()},sleep:function(){for(var e in this.parts){this.parts[e].undelegateEvents();this.parts[e].stopListening()}this.undelegateEvents();this.stopListening()},proccessWidgets:function(){this.widgets=[];var e=this;this.$(".client-side-widget").each(function(){var t=$(this).data();if(typeof t.widgetName==="undefined"||!t.widgetName)return false;if(typeof App.Views.Widgets[t.widgetName]==="undefined"){console.error("Widget class for "+t.widgetName+" is not defined");return false}var n=new App.Views.Widgets[t.widgetName]({el:$(this)});e.widgets.push(n)})},renderHTML:function(e){if(typeof this.templateName==="undefined"||!this.templateName)throw"templateName is undefined";if(typeof e==="undefined")e={};this.switchBuffers();var t=this;App.templateManager.fetch(this.templateName,e,function(e){t.$el.html('<div class="page">'+e+"</div>");$(".page","#page_holder_"+App.currentHolder).removeClass("page_loading");t.proccessWidgets();t.trigger("render");t.trigger("loaded");App.setProgress(true)});this.setTitle();this.setURL();this.isReady=true;return this},switchBuffers:function(){if(typeof this.holderReady!=="undefined"&&this.holderReady===true)return true;console.log("Switching buffers");var e=2;if(typeof App.currentHolder!=="undefined"&&App.currentHolder==2)e=1;var t=e==1?2:1;$("#page_holder_"+t).hide();$("#page_holder_"+t).html("");$("#page_holder_"+e).show();this.setElement($("#page_holder_"+e));App.currentHolder=e;this.holderReady=true},renderLoading:function(){App.setProgress(false);App.templateManager.fetch(this.templateName,{});this.switchBuffers();this.$el.html('<div class="page page_loading"></div>');this.setTitle();this.setURL();console.log("Displaying loading");this.trigger("loading")}});App.Models.NewsCategory=Backbone.Model.extend({defaults:{name:null},url:function(){return App.settings.apiEntryPoint+"news_categories/"+(typeof this.id==="undefined"?"":this.id)}});App.Models.NewsItem=Backbone.Model.extend({defaults:{title:null,body:null,slug:null},url:function(){if(this.id)return App.settings.apiEntryPoint+"news_items/"+(typeof this.id==="undefined"?"":this.id);else return App.settings.apiEntryPoint+"news_items/by_slug/"+this.get("slug")}});App.Models.StaticPage=Backbone.Model.extend({defaults:{title:null,body:null,slug:null},url:function(){if(this.id)return App.settings.apiEntryPoint+"static_pages/"+(typeof this.id==="undefined"?"":this.id);else return App.settings.apiEntryPoint+"static_pages/by_slug/"+this.get("slug")}});App.Models.Transaction=Backbone.Model.extend({defaults:function(){return{user_id:null,wallet_id:null,description:null,type:null,subtype:null,amount:null,abs_amount:null,datetime:Math.floor((new Date).getTime()/1e3)}},url:function(){
if(!this.get("wallet_id"))return App.settings.apiEntryPoint+"transactions/"+(typeof this.id==="undefined"?"":this.id);else return App.settings.apiEntryPoint+"wallets/"+this.get("wallet_id")+"/transactions/"+(typeof this.id==="undefined"?"":this.id)}});App.Models.User=Backbone.Model.extend({validate:function(e,t){var n=[];if(typeof this.get("email")!=="string"||!isEmail(this.get("email")))n.push({msg:"Invalid email",attr:"email"});else if(this.get("email").length>255)n.push({msg:"Email is too long",attr:"email"});if(typeof this.get("login")!=="string"||this.get("login").length<2)n.push({msg:"Username is too short",attr:"login"});else if(this.get("login").length>255)n.push({msg:"Username is too long",attr:"login"});if(typeof this.get("password")!=="string"||this.get("password").length<6)n.push({msg:"Password is too short",attr:"password"});if(n.length)return n},defaults:{auth_code:null,email:null,password:null,is_demo:null,login:null},getWallets:function(){if(typeof this.wallets==="undefined"){this.wallets=new App.Collections.Wallets;this.wallets.setUserId(this.id)}return this.wallets},url:function(){return App.settings.apiEntryPoint+"users"+(typeof this.id==="undefined"?"":"/"+this.id)},signedIn:false,signInError:null,isSignedIn:function(){return this.signedIn},isAdmin:function(){return false},isDemo:function(){return this.get("is_demo")==true},signInWithData:function(e){if(typeof e!=="undefined"){this.set(e);if(this.signedIn===false){this.signedIn=true;this.trigger("signedInStatusChanged")}}else{if(this.signedIn===true){this.signedIn=false;this.trigger("signedInStatusChanged")}}},demoRegister:function(){this.register("demo","demo@demo.com","demonstration")},changePassword:function(e,t){var n=this;this.set("current_password",e);this.set("password",t);return this.save(null,{success:function(e,t){if(typeof t.id!=="undefined"){console.log("Server side change password success");n.set("password","");n.trigger("changed")}},error:function(e,t){console.log("Server side change password error");if(typeof t.responseJSON!=="undefined"&&typeof t.responseJSON.message!=="undefined"){if(!(n.validationError instanceof Array))n.validationError=[];for(var i in t.responseJSON.message)n.validationError.push({msg:t.responseJSON.message[i]})}n.trigger("invalid")}})},fillProfile:function(e,t,n){var i=this;this.set("login",e);this.set("email",t);this.set("password",n);this.set("is_demo",false);return this.save(null,{success:function(e,t){if(typeof t.id!=="undefined"){console.log("Server side fill profile success");i.set("password","");i.trigger("filled")}},error:function(e,t){console.log("Server side fill profile error");if(typeof t.responseJSON!=="undefined"&&typeof t.responseJSON.message!=="undefined"){if(!(i.validationError instanceof Array))i.validationError=[];for(var n in t.responseJSON.message)i.validationError.push({msg:t.responseJSON.message[n]})}i.trigger("invalid")}})},register:function(e,t,n){var i=this;this.set("login",e);this.set("email",t);this.set("password",n);return this.save(null,{success:function(e,t){if(typeof t.id!=="undefined"){console.log("Server side registration success");i.set("password","");i.trigger("registered");if(typeof t.auth_code!=="undefined"){i.signedIn=true;i.trigger("signedInStatusChanged");console.log("Server side registration - signed in")}}},error:function(e,t){console.log("Server side registration error");if(typeof t.responseJSON!=="undefined"&&typeof t.responseJSON.message!=="undefined"){if(!(i.validationError instanceof Array))i.validationError=[];for(var n in t.responseJSON.message)i.validationError.push({msg:t.responseJSON.message[n]})}i.trigger("invalid")}})},newPassword:function(e,t,n){var i=this;var r=App.settings.apiEntryPoint+"users/newpassword";this.clear();$.ajax({url:r,type:"POST",dataType:"json",data:{code:e,hash:t,password:n},success:function(e){console.log("Success setting new password");i.trigger("newpassword:success")},error:function(e){console.log("Error setting new password");i.validationError=[];if(typeof e.responseJSON!="undefined"&&typeof e.responseJSON.code!="undefined"&&typeof e.responseJSON.message!="undefined")if(e.responseJSON.message instanceof Array){for(var t in e.responseJSON.message)i.validationError.push({msg:e.responseJSON.message[t]})}else{i.validationError.push({msg:e.responseJSON.message})}i.trigger("newpassword:error")}});return true},restorePassword:function(e){var t=this;var n=App.settings.apiEntryPoint+"users/restore";this.clear();$.ajax({url:n,type:"POST",dataType:"json",data:{email:e},success:function(e){console.log("Success restoring password");t.trigger("restore:success")},error:function(e){console.log("Error restoring password");t.validationError=[];if(typeof e.responseJSON!="undefined"&&typeof e.responseJSON.code!="undefined"&&typeof e.responseJSON.message!="undefined")if(e.responseJSON.message instanceof Array){for(var n in e.responseJSON.message)t.validationError.push({msg:e.responseJSON.message[n]})}else{t.validationError.push({msg:e.responseJSON.message})}t.trigger("restore:error")}});return true},signIn:function(e,t){var n=this;var i=App.settings.apiEntryPoint+"users/signin";$.ajax({url:i,type:"POST",dataType:"json",data:{username:e,password:t},success:function(e){if(typeof e.auth_code!="undefined"&&e.auth_code){console.log("Logged in successfully");n.trigger("signedin");n.signInWithData(e)}},error:function(e){console.log("Cannot log in");n.signInWithData();if(!(n.validationError instanceof Array))n.validationError=[];if(typeof e.responseJSON!="undefined"&&typeof e.responseJSON.code!="undefined"&&typeof e.responseJSON.message!="undefined")for(var t in e.responseJSON.message)n.validationError.push({msg:e.responseJSON.message[t]});n.trigger("invalid")}});return true},signOut:function(){var e=this;var t=App.settings.apiEntryPoint+"users/signout";if(!this.isSignedIn()){return false}this.signedIn=false;this.clear().set(this.defaults);delete this.wallets;$.ajax({url:t,type:"POST",dataType:"json",success:function(t){console.log("Signed out");e.trigger("signedout");e.signInWithData()},error:function(e){console.error("Error signing out")}});return true}});App.Models.Wallet=Backbone.Model.extend({defaults:{name:null,type:null,status:"active",total:null,currency:"USD"},getTotal:function(){return parseFloat(this.get("total"),10)},url:function(){return App.settings.apiEntryPoint+"wallets/"+(typeof this.id==="undefined"?"":this.id)},hide:function(){if(this.get("status")=="active"){this.set("status","hidden");this.save()}else if(this.get("status")=="hidden"){this.destroy()}},getTransactions:function(){if(typeof this.transactions==="undefined"){this.transactions=new App.Collections.Transactions;this.transactions.setWalletId(this.id);var e=this;this.transactions.fetch().done(function(){})}this.transactions.setWalletId(this.id);return this.transactions},addProfit:function(e,t){var n=new App.Models.Transaction;var i=Math.abs(parseFloat(e,10));i=Math.round(i*100)/100;n.set("description",t);n.set("amount",i);n.set("wallet_id",this.id);n.save();this.getTransactions().add(n);this.set("total",this.getTotal()+i);this.trigger("addTransaction",n)},setTotalTo:function(e){var t=new App.Models.Transaction;var n=Math.abs(parseFloat(e,10));n=Math.round(n*100)/100;t.set("amount",n);t.set("subtype","setup");t.set("wallet_id",this.id);t.save();this.getTransactions().add(t);this.set("total",n);this.trigger("addTransaction",t)},addExpense:function(e,t){var n=new App.Models.Transaction;var i=-Math.abs(parseFloat(e,10));i=Math.round(i*100)/100;n.set("description",t);n.set("amount",i);n.set("wallet_id",this.id);n.save();this.getTransactions().add(n);this.set("total",this.getTotal()+i);this.trigger("addTransaction",n)},removeTransaction:function(e){var t=this.get("total")-e.get("amount");var n=e.id;this.getTransactions().remove(e);e.destroy();this.set("total",t);this.trigger("removeTransaction",n)}});App.Models.WalletsAccess=Backbone.Model.extend({defaults:{wallet_id:null,to_user_id:null,original_user_id:null,to_email:null},url:function(){if(!this.get("wallet_id"))return App.settings.apiEntryPoint+"wallets_accesses/"+(typeof this.id==="undefined"?"":this.id);else return App.settings.apiEntryPoint+"wallets/"+this.get("wallet_id")+"/accesses/"+(typeof this.id==="undefined"?"":this.id)},getGravatarURL:function(){return"http://www.gravatar.com/avatar/"+md5(this.get("to_email").replace(/^\s+|\s+$/g,"").toLowerCase())}});App.Collections.NewsCategories=Backbone.Collection.extend({model:App.Models.NewsCategory,url:App.settings.apiEntryPoint+"news_categories"});App.Collections.NewsItems=Backbone.PageableCollection.extend({model:App.Models.NewsItem,newsCategoryId:false,initialize:function(e,t){if(typeof t!=="undefined"&&typeof t.newsCategoryId!=="undefined"&&t.newsCategoryId)this.newsCategoryId=t.newsCategoryId},url:function(){if(typeof this.newsCategoryId!=="undefined"&&this.newsCategoryId)return App.settings.apiEntryPoint+"news_categories/"+this.newsCategoryId+"/news_items";else return App.settings.apiEntryPoint+"news_items"},parse:function(e,t){var n=this.parseState(e,_.clone(this.queryParams),_.clone(this.state),t);try{if(n)this.state=this._checkState(_extend({},this.state,n))}catch(i){this.trigger("error")}return this.parseRecords(e,t)}});App.Collections.Transactions=Backbone.Collection.extend({model:App.Models.Transaction,wallet_id:false,state:"loading",periodMonth:false,periodYear:false,comparator:function(e){return-e.get("datetime")},url:function(){if(this.wallet_id)return App.settings.apiEntryPoint+"wallets/"+this.wallet_id+"/transactions/"+this.periodToGETParams();else return App.settings.apiEntryPoint+"transactions/"+this.periodToGETParams()},periodToReadableFormat:function(e,t){var n=["January","February","March","April","May","June","July","August","September","October","November","December"];if(typeof e=="undefined"||typeof t=="undefined"){if(!this.periodMonth||!this.periodYear)this.setPeriod();return App.i18n.translate(n[this.periodMonth-1])+" "+this.periodYear}else{return App.i18n.translate(n[e-1])+" "+t}},nextPeriodToReadableFormat:function(){if(!this.periodMonth||!this.periodYear)this.setPeriod();var e=this.periodMonth+1;var t=this.periodYear;if(e==13){t++;e=1}return this.periodToReadableFormat(e,t)},prevPeriodToReadableFormat:function(){if(!this.periodMonth||!this.periodYear)this.setPeriod();var e=this.periodMonth-1;var t=this.periodYear;if(e==0){t--;e=12}return this.periodToReadableFormat(e,t)},currentPeriodToReadableFormat:function(){var e=new Date;return this.periodToReadableFormat(e.getMonth()+1,e.getFullYear())},diffToCurrentPeriod:function(){if(!this.periodMonth||!this.periodYear)this.setPeriod();var e=new Date;var t=e.getMonth()+1;var n=e.getFullYear();return t-this.periodMonth+(n-this.periodYear)*12},periodToGETParams:function(){if(!this.periodMonth||!this.periodYear)this.setPeriod();if(this.periodMonth<12)var e=new Date(this.periodYear,this.periodMonth,1,0,0,0,0).getTime()/1e3-1;else var e=new Date(this.periodYear+1,0,1,0,0,0,0).getTime()/1e3-1;var t=new Date(this.periodYear,this.periodMonth-1,1,0,0,0,0).getTime()/1e3;return"?to="+e+"&from="+t},setWalletId:function(e){this.wallet_id=e},hasNextPeriod:function(){if(this.periodMonth==false||this.periodYear==false)return false;var e=new Date;if(this.periodYear<e.getFullYear()||this.periodYear==e.getFullYear()&&this.periodMonth<e.getMonth()+1)return true;return false},hasPrevPeriod:function(){if(this.periodMonth==false||this.periodYear==false)return true;var e=new Date;if(this.periodYear<=1970)return false;return true},nextPeriod:function(){if(!this.periodMonth||!this.periodYear)this.setPeriod();if(!this.hasNextPeriod())return false;this.periodMonth++;if(this.periodMonth>12){this.periodMonth=1;this.periodYear++}return true},currentPeriod:function(){if(!this.periodMonth||!this.periodYear){this.setPeriod();return true}if(!this.hasNextPeriod())return false;var e=new Date;var t=e.getMonth()+1;var n=e.getFullYear();this.periodMonth=t;this.periodYear=n;return true},prevPeriod:function(){if(!this.periodMonth||!this.periodYear)this.setPeriod();if(!this.hasPrevPeriod())return false;this.periodMonth--;if(this.periodMonth<1){this.periodMonth=12;this.periodYear--}return true},setPeriod:function(e,t){if(typeof e=="undefined"){var n=new Date;this.periodMonth=n.getMonth()+1}else{if(e>=1&&e<=12)this.periodMonth=e;else console.error("Invalid month parameter")}if(typeof t=="undefined"){var n=new Date;this.periodYear=n.getFullYear()}else{if(t>=1970)this.periodYear=t;else console.error("Invalid year parameter")}},gotoNext:function(){if(this.nextPeriod()){this.fetch();this.trigger("changedperiod");return true}return false},gotoPrev:function(){if(this.prevPeriod()){this.fetch();this.trigger("changedperiod");return true}return false},gotoCurrent:function(){if(this.currentPeriod()){this.fetch();this.trigger("changedperiod");return true}return false},initialize:function(){this.state="loading";this.on("request",function(){this.state="loading"},this);this.on("sync",function(){this.state="ready"},this)}});App.Collections.Users=Backbone.Collection.extend({model:App.Models.User,url:function(){return App.settings.apiEntryPoint+"users"}});App.Collections.Wallets=Backbone.Collection.extend({model:App.Models.Wallet,user_id:false,url:function(){if(this.user_id)return App.settings.apiEntryPoint+"users/"+this.user_id+"/wallets";else return App.settings.apiEntryPoint+"wallets"},search:function(e){var t=this.where(e);var n=new App.Collections.Wallets(t);return n},setUserId:function(e){this.user_id=e}});App.Collections.WalletsAccesses=Backbone.Collection.extend({model:App.Models.WalletsAccess,wallet_id:false,url:function(){if(this.wallet_id)return App.settings.apiEntryPoint+"wallets/"+this.wallet_id+"/accesses";else return App.settings.apiEntryPoint+"wallets_accesses"},setWalletId:function(e){this.wallet_id=e}});App.Views.Dialogs.AddProfit=App.Views.Abstract.Dialog.extend({dialogName:"add_profit",events:{"submit form":"onSubmit"},initialize:function(e){this.wallet=e.wallet||false;var t=this;this.on("ready",function(){t.$("#input_amount").focus()});this.show()},onSubmit:function(){var e=this;this.$(".btn-primary").button("loading");var t=this.$("#input_amount").val();var n=this.$("#input_description").val();t=+t;if(t&&t>0){this.wallet.addProfit(t,n)}this.hide();return false}});App.Views.Dialogs.AddWallet=App.Views.Abstract.Dialog.extend({dialogName:"add_wallet",events:{"submit form":"onSubmit"},initialize:function(){var e=this;this.on("ready",function(){e.$("#input_name").focus()});this.show()},onSubmit:function(){var e=this;this.$(".btn-primary").button("loading");var t=this.$("#input_name").val();var n=this.$("#input_currency").val();var i="";if(!n)i="Please select wallet currency";if(i){this.$(".errors-container").html(i);this.$(".errors-container").slideDown();this.$("#input_currency").focus();this.$(".btn-primary").button("reset");var e=this;setTimeout(function(){e.$(".errors-container").slideUp()},2e3)}else{var r=new App.Models.Wallet;r.set("name",t);r.set("currency",n);r.set("total",0);r.set("status","active");r.save();if(typeof App.page!=="undefined"&&App.page&&typeof App.page.items!=="undefined"&&App.page.items.model==App.Models.Wallet){App.page.items.add(r)}this.hide()}return false}});App.Views.Dialogs.EditWallet=App.Views.Abstract.Dialog.extend({dialogName:"edit_wallet",events:{"submit form":"onSubmit"},initialize:function(e){if(typeof e.item!="undefined")this.item=e.item;else throw"Can not initialize dialog without param.item";var t=this;this.on("ready",function(){t.$("#input_name").focus().select()});this.show({item:this.item.toJSON()})},onSubmit:function(){var e=this;this.$(".btn-primary").button("loading");var t=this.$("#input_name").val();var n=this.$("#input_currency").val();var i="";if(!n)i="Please select wallet currency";if(i){this.$(".errors-container").html(i);this.$(".errors-container").slideDown();this.$("#input_currency").focus();this.$(".btn-primary").button("reset");var e=this;setTimeout(function(){e.$(".errors-container").slideUp()},2e3)}else{this.item.set("name",t);this.item.set("currency",n);this.item.save();this.hide()}return false}});App.Views.Dialogs.FillProfile=App.Views.Abstract.Dialog.extend({dialogName:"fill_profile",events:{"submit form":"onSubmit"},initialize:function(){var e=this;this.on("ready",function(){e.$("#input_login").focus().select()});this.show()},onSubmit:function(){var e=this;this.$(".btn-primary").button("loading");var t=this.$("#input_login").val();var n=this.$("#input_password").val();var i=this.$("#input_email").val();this.listenTo(App.currentUser,"invalid",function(){var e="";for(var t in App.currentUser.validationError)e+=App.currentUser.validationError[t].msg+"<br>";this.$(".errors-container").html(e);this.$(".errors-container").slideDown();this.$("#input_login").focus();this.$(".btn-primary").button("reset");var n=this;setTimeout(function(){n.$(".errors-container").slideUp()},2e3)});this.listenTo(App.currentUser,"filled",function(){$("#fill_profile_invitation").slideUp();this.$(".modal-body-default").slideUp();this.$(".modal-body-success").slideDown();setTimeout(function(){App.dialog.hide()},2e3)});App.currentUser.fillProfile(t,i,n);return false}});App.Views.Dialogs.HideWallet=App.Views.Abstract.Dialog.extend({dialogName:"hide_wallet",events:{"submit form":"onSubmit","click .process_button":"doProcess"},initialize:function(e){if(typeof e.item!="undefined")this.item=e.item;else throw"Can not initialize dialog without param.item";this.show({item:this.item.toJSON()})},doProcess:function(){this.$(".btn-danger").button("loading");this.item.hide();this.hide()},onSubmit:function(){this.hide();return false}});App.Views.Dialogs.Logout=App.Views.Abstract.Dialog.extend({dialogName:"logout",initialize:function(){App.currentUser.signOut();App.viewStack.clear();App.router.redirect("/");$("#fill_profile_invitation").hide()}});App.Views.Dialogs.NewPassword=App.Views.Abstract.Dialog.extend({code:"",hash:"",dialogName:"newpassword",events:{"submit form":"onSubmit"},initialize:function(e){this.code="";if(e&&typeof e.code!=="undefined")this.code=e.code;this.hash="";if(e&&typeof e.hash!=="undefined")this.hash=e.hash;var t=this;this.on("ready",function(){t.$("#input_password").focus().select()});this.show({code:this.code,hash:this.hash})},onSubmit:function(){var e=this;this.$(".btn-primary").button("loading");var t=this.$("#input_password").val();var n=this.$("#input_confirm_password").val();var i="";if(t!=n)i="Passowrds missmatch";if(t.length<6)i="Password is too short";if(i){this.$(".errors-container").html(i);this.$(".errors-container").slideDown();this.$("#input_password").focus();this.$(".btn-primary").button("reset");var e=this;setTimeout(function(){e.$(".errors-container").slideUp()},2e3)}else{App.currentUser.clear();this.listenTo(App.currentUser,"newpassword:success",function(){this.$(".modal-body-default").slideUp();this.$(".modal-body-success").slideDown()});this.listenTo(App.currentUser,"newpassword:error",function(){var e="";for(var t in App.currentUser.validationError)e+=App.currentUser.validationError[t].msg+"<br>";this.$(".errors-container").html(e);this.$(".errors-container").slideDown();this.$("#input_email").focus();this.$(".btn-primary").button("reset");var n=this;setTimeout(function(){n.$(".errors-container").slideUp()},2e3)});App.currentUser.newPassword(this.code,this.hash,t)}return false}});App.Views.Dialogs.Registration=App.Views.Abstract.Dialog.extend({dialogName:"registration",events:{"submit form":"onSubmit"},initialize:function(){var e=this;this.on("ready",function(){e.$("#input_login").focus()});this.show()},onSubmit:function(){var e=this;this.$(".btn-primary").button("loading");var t=this.$("#input_login").val();var n=this.$("#input_password").val();var i=this.$("#input_email").val();App.currentUser.clear();this.listenTo(App.currentUser,"signedInStatusChanged",function(){App.userChanged();this.hide()});this.listenTo(App.currentUser,"registered",function(){this.$(".modal-body-default").slideUp();this.$(".modal-body-success").slideDown()});this.listenTo(App.currentUser,"invalid",function(){var e="";for(var t in App.currentUser.validationError)e+=App.currentUser.validationError[t].msg+"<br>";this.$(".errors-container").html(e);this.$(".errors-container").slideDown();this.$("#input_login").focus();this.$(".btn-primary").button("reset");var n=this;setTimeout(function(){n.$(".errors-container").slideUp()},2e3)});App.currentUser.register(t,i,n);return false}});App.Views.Dialogs.RemoveAccess=App.Views.Abstract.Dialog.extend({dialogName:"remove_access",events:{"submit form":"onSubmit","click .process_button":"doProcess"},initialize:function(e){if(typeof e.item!="undefined")this.item=e.item;else throw"Can not initialize dialog without param.item";if(typeof e.access!="undefined")this.access=e.access;else throw"Can not initialize dialog without param.access";this.show({item:this.item.toJSON(),access:this.access.toJSON()})},doProcess:function(){var e=this;this.$(".btn-danger").button("loading");this.listenToOnce(this.access,"sync error",function(){App.showDialog("WalletAccesses",{item:e.item})});this.access.destroy()},onSubmit:function(){App.showDialog("WalletAccesses",{item:this.item});return false}});App.Views.Dialogs.RemoveTransaction=App.Views.Abstract.Dialog.extend({dialogName:"remove_transaction",events:{"submit form":"onSubmit","click .process_button":"doProcess"},initialize:function(e){if(typeof e.item!="undefined")this.item=e.item;else throw"Can not initialize dialog without param.item";this.show({item:this.item.toJSON()})},doProcess:function(){var e=this;this.$(".btn-danger").button("loading");App.page.model.removeTransaction(this.item);this.hide();return false},onSubmit:function(){App.showDialog("TransactionDetails",{item:this.item});return false}});App.Views.Dialogs.Restore=App.Views.Abstract.Dialog.extend({dialogName:"restore",events:{"submit form":"onSubmit"},initialize:function(){var e=this;this.on("ready",function(){e.$("#input_email").focus()});this.show()},onSubmit:function(){var e=this;this.$(".btn-primary").button("loading");var t=this.$("#input_email").val();this.listenTo(App.currentUser,"restore:error",function(){var e="";for(var t in App.currentUser.validationError)e+=App.currentUser.validationError[t].msg+"<br>";this.$(".errors-container").html(e);this.$(".errors-container").slideDown();this.$("#input_email").focus();this.$(".btn-primary").button("reset");var n=this;setTimeout(function(){n.$(".errors-container").slideUp()},2e3)});this.listenTo(App.currentUser,"restore:success",function(){this.$(".modal-body-default").slideUp();this.$(".modal-body-success").slideDown()});App.currentUser.restorePassword(t);return false}});App.Views.Dialogs.SetTotalTo=App.Views.Abstract.Dialog.extend({dialogName:"set_total_to",events:{"submit form":"onSubmit"},initialize:function(e){this.wallet=e.wallet||false;var t=this;this.on("ready",function(){t.$("#input_total").focus()});this.show()},onSubmit:function(){var e=this;this.$(".btn-primary").button("loading");var t=this.$("#input_total").val();if(Number(t)===parseFloat(t,10)){t=+t;this.wallet.setTotalTo(t)}this.hide();return false}});App.Views.Dialogs.Signin=App.Views.Abstract.Dialog.extend({dialogName:"signin",events:{"submit form":"onSubmit"},initialize:function(){var e=this;this.on("ready",function(){e.$("#input_username").focus()});this.show()},onSubmit:function(){this.$(".btn-primary").button("loading");var e=this.$("#input_username").val();var t=this.$("#input_password").val();App.currentUser.set("login",e);App.currentUser.set("password",t);this.listenTo(App.currentUser,"signedin",function(){this.$(".btn-primary").button("reset");this.hide()});this.listenTo(App.currentUser,"invalid",function(){this.$(".btn-primary").button("reset");this.$(".errors-container").slideDown();this.$("#input_username").focus();var e=this;setTimeout(function(){e.$(".errors-container").slideUp()},2e3)});App.currentUser.signIn(e,t);return false},onResponse:function(e){var t=this;if(e.isSignedIn()){this.$("#signin_modal_form_submit").button("reset");this.hide()}else{this.$("#signin_invalid_password_alert").slideDown();this.$("#signin_modal_form_submit").button("reset");this.$("#input_username").focus();setTimeout(function(){t.$("#signin_invalid_password_alert").slideUp()},1e3)}}});App.Views.Dialogs.TransactionDetails=App.Views.Abstract.Dialog.extend({dialogName:"transaction_details",events:{"submit form":"onSubmit","click #remove_transaction_button":"removeTransaction"},removeTransaction:function(){App.showDialog("RemoveTransaction",{item:this.item});return false},initialize:function(e){if(typeof e.item!="undefined")this.item=e.item;else throw"Can not initialize dialog without param.item";if(typeof e.wallet!="undefined")this.wallet=e.wallet;else throw"Can not initialize dialog without param.wallet";this.show({item:this.item.toJSON(),wallet:this.wallet.toJSON()})},onSubmit:function(){var e=this;this.$(".btn-primary").button("loading");this.hide();return false}});App.Views.Dialogs.WalletAccesses=App.Views.Abstract.Dialog.extend({status:"loading",dialogName:"wallet_accesses",events:{"submit form":"onSubmit","click .item_button_remove_access":"removeAccess"},removeAccess:function(e){var t=$(e.currentTarget).data();if(typeof t.id==="undefined")return true;var n=parseInt(t.id,10);var i=this.accesses.get(n);if(!i)return true;App.showDialog("RemoveAccess",{item:this.item,access:i});return false},initialize:function(e){if(typeof e.item!="undefined")this.item=e.item;else throw"Can not initialize dialog without param.item";this.accesses=new App.Collections.WalletsAccesses;this.accesses.setWalletId(this.item.id);this.listenTo(this.accesses,"sync",this.loaded);this.accesses.fetch();var t=this;this.on("ready",function(){t.$("#input_email").focus()});this.show(this.data())},data:function(){var e=[];if(this.accesses&&this.accesses.length)for(var t=0;t<this.accesses.length;t++){var n=this.accesses.at(t).toJSON();n["gravatar"]=this.accesses.at(t).getGravatarURL();e.push(n)}return{item:this.item.toJSON(),accesses:e,status:this.status}},loaded:function(){this.status="ready";this.render()},render:function(){this.renderHTML(this.data())},onSubmit:function(){var e=this;var t=this.$("#input_email").val();if(!t)return false;var n=this.accesses.where({to_email:t});if(n&&n.length){$("#emails_with_access_"+n[0].id).animate({opacity:.5},500).animate({opacity:1},500);return false}this.$(".btn-primary").button("loading");var i=new App.Models.WalletsAccess;i.set("to_email",t);i.set("wallet_id",this.item.id);i.save();this.accesses.add(i);return false}});App.Views.Widgets.Disqus=Backbone.View.extend({shortname:"example",identifier:"something",title:"title",url:"",language:"en",el:$("#comments_container"),initialize:function(){console.log("Initializing disqus widget");this.shortname=App.settings.disqusShortname;this.language=App.settings.disqusLanguage},embedJSCode:function(){var e=this;window.disqus_config=function(){this.language=e.language;this.page.identifier=e.identifier;this.page.url=e.url;this.page.title=e.title;this.callbacks.onReady=[function(){console.log("Disqus is ready")}]};var t=document.createElement("script");t.type="text/javascript";t.async=true;t.src="//"+this.shortname+".disqus.com/embed.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(t)},render:function(e,t,n){if(typeof n==="undefined")n=document.location;this.identifier=e;this.title=t;this.url=n;this.el=$("#comments_container");if($("#disqus_thread").length==0&&$("#comments_container").length>0)$("#comments_container").html('<div id="disqus_thread"></div>');else if($("#comments_container").length==0)console.error("#comments_container is required to initialize comments");if(typeof DISQUS!=="undefined"){var i=this;DISQUS.reset({reload:true,config:function(){this.page.identifier=i.identifier;this.page.url=i.url;this.page.title=i.title;this.language=i.language}})}else{this.embedJSCode()}}});App.Views.Widgets.news_sidebar=Backbone.View.extend({templateName:"news_sidebar",cacheTime:10,initialize:function(){console.log("Initializing news_sidebar widget");this.render()},renderLoading:function(){},renderHTML:function(e){if(typeof e==="undefined")var e={};var t=this;App.templateManager.fetch("widgets/"+this.templateName,e,function(e){t.$el.html(e);t.trigger("render");t.trigger("loaded");if(typeof App.page!=="undefined"&&App.page&&typeof App.page.newsCategoryId!=="undefined"&&App.page.newsCategoryId)t.$("#news_sidebar_item_"+App.page.newsCategoryId).addClass("active")})},tryToGetCachedData:function(){var e=App.localStorage.get("widget-data-"+this.templateName);if(e&&typeof e.added!=="undefined"&&typeof e.data!=="undefined"&&e.added>(new Date).getTime()/1e3-this.cacheTime)return e.data;return false},setDataToCache:function(e){App.localStorage.set("widget-data-"+this.templateName,{added:(new Date).getTime()/1e3,data:e})},render:function(){this.renderLoading();var e=this.tryToGetCachedData();if(e){this.renderHTML(e)}else{this.categories=new App.Collections.NewsCategories;var t=this;$.when(this.categories.fetch()).done(function(e){var n={categories:t.categories.toJSON()};t.setDataToCache(n);t.renderHTML(n)})}}});App.Views.Parts.ProfileChangePassword=Backbone.View.extend({events:{"submit #change_password_form":"proccess"},proccess:function(){var e=this.$("#current_password_input").val();var t=this.$("#new_password_input").val();var n=this.$("#new_password_repeat_input").val();if(n!=t){this.showError(2);return false}if(t.length<6){this.showError(3);return false}this.$(".btn-primary").button("loading");this.listenTo(App.currentUser,"invalid",function(){this.showError(1)});this.listenTo(App.currentUser,"changed",function(){this.$(".alert-danger").hide();this.$("form").hide();this.$(".alert-info").show()});App.currentUser.changePassword(e,t);return false},showError:function(e){this.$(".btn-primary").button("reset");this.$("span",".alert-danger").hide();this.$(".errorNo"+e,".alert-danger").show();if(this.$(".errorNo"+e,".alert-danger")&&typeof this.$(".errorNo"+e,".alert-danger").data("input")!=="undefined"){var t=this.$("#"+this.$(".errorNo"+e,".alert-danger").data("input")).closest(".form-group");if(t){t.addClass("has-error");setTimeout(function(){t.removeClass("has-error")},3e3);this.$("#"+this.$(".errorNo"+e,".alert-danger").data("input")).focus()}}this.$(".alert-danger").stop(true,true).slideDown("fast");var n=this;setTimeout(function(){n.$(".alert-danger").slideUp("slow")},3e3)},initialize:function(){console.log("views/parts/profile_change_password.js | Initializing  view")},wakeUp:function(){console.error("views/parts/profile_change_password.js | Waking up")},render:function(){console.log("views/parts/profile_change_password.js | Rendering");this.setElement($("#"+this.id))}});App.Views.Parts.Transactions=Backbone.View.extend({templateName:"parts/transactions",el:$("#comments_container"),events:{"click .item":"transactionDetails","click #goto_next":"gotoNext","click #goto_prev":"gotoPrev","click #goto_current":"gotoCurrent"},gotoNext:function(){this.collection.gotoNext()},gotoPrev:function(){this.collection.gotoPrev()},gotoCurrent:function(){this.collection.gotoCurrent()},transactionDetails:function(e){console.log("views/parts/transactions.js | Show transactions details");var t=$(e.currentTarget).data();if(typeof t.id==="undefined")return true;var n=parseInt(t.id,10);var i=this.collection.get(n);if(!i)return true;App.showDialog("TransactionDetails",{item:i,wallet:this.model});return false},initialize:function(){console.log("views/parts/transactions.js | Initializing Transactions view");if(!this.model||!this.collection)console.error("views/parts/transactions.js | model && collection && id should be provided for this view");this.listenTo(this.collection,"sync",this.render);this.listenTo(this.collection,"changedperiod",this.fadeOut)},wakeUp:function(){console.error("views/parts/transactions.js | Waking up");this.listenTo(this.collection,"sync",this.render);this.listenTo(this.collection,"changedperiod",this.fadeOut);
},fadeOut:function(){this.$("#transactions_container").fadeTo(1,.5)},render:function(){console.log("views/parts/transactions.js | Rendering, state = "+this.collection.state);this.setElement($("#"+this.id));this.$("#transactions_container").fadeTo(1,1);var e={state:this.collection.state,collection:this.collection,transactions:this.collection.sort().toJSON(),item:this.model.toJSON()};var t=this;App.templateManager.fetch(this.templateName,e,function(e){t.$el.html(e);t.trigger("render");t.trigger("loaded")})}});App.Views.Pages.NotFound=App.Views.Abstract.Page.extend({templateName:"404",title:"Nothing is found. 404",render:function(){this.renderHTML()},initialize:function(e){this.render()}});App.Views.Pages.Index=App.Views.Abstract.Page.extend({templateName:"pages/index/index",category:"home",events:{"click #demo_signup":"demoSignUp","click #demo_without_mouse_signup":"demoSignUp"},demoSignUp:function(){App.log.event("registration","Demo Sign Up","From Homepage");this.renderLoading();App.currentUser.demoRegister()},title:function(){return"Homepage"},render:function(){this.renderHTML({})},wakeUp:function(){if(typeof App.currentUser!=="undefined"&&App.currentUser&&App.currentUser.isSignedIn())App.router.redirect("/wallets/");else{this.holderReady=false;this.render()}},initialize:function(){if(typeof App.currentUser!=="undefined"&&App.currentUser&&App.currentUser.isSignedIn())return App.router.redirect("/wallets/");this.renderLoading();this.listenTo(App.currentUser,"signedInStatusChanged",function(){App.router.redirect("/wallets/")});this.on("render",function(){$("#demo_signup").clickonmouseover();$(".image-link").magnificPopup({type:"image",gallery:{enabled:true},callbacks:{open:function(){App.log.event("homepage","Zoom Screenshot")}},image:{titleSrc:function(e){return $("#"+e.el.attr("id")+"-title").text()+"<small>"+$("#"+e.el.attr("id")+"-description").text()+"</small>"}}});if($(window).width()>800&&$("#footer").offset().top>$("#screenshots_header").offset().top+180){var e=$("#footer").offset().top-($("#screenshots_header").offset().top+180);e=Math.round(e);$("#screenshots_header").css("margin-top",e+"px")}if("ontouchstart"in window||"onmsgesturechange"in window){$(".register_without_mouse").fadeIn("slow")}else{$(".register_with_mouse").fadeIn("slow")}});this.render()}});App.Views.Pages.NewsItem=App.Views.Abstract.Page.extend({templateName:"pages/news/view",category:"news",disqus:null,title:function(){if(typeof this.model!="undefined"&&this.model.get("title"))return this.model.get("title")},url:function(){if(typeof this.model!="undefined"&&this.model.get("slug"))return"news/view/"+this.model.get("slug")+".html"},render:function(){console.log("Renedring news item");this.on("render",function(){this.disqus.render("news_item_"+this.model.get("slug"),this.model.get("title"))},this);this.renderHTML({item:this.model.attributes})},initialize:function(e){this.disqus=new App.Views.Widgets.Disqus;if(typeof e.item!=="undefined"){this.model=e.item;this.render();this.listenTo(this.model,"change",this.render)}else if(typeof e.slug!=="undefined"){this.model=new App.Models.NewsItem;this.model.set("slug",e.slug);this.listenTo(this.model,"change",this.render);this.renderLoading();this.model.fetch({error:function(){App.showPage("NotFound")}})}else throw"slug or item parameters required"}});App.Views.Pages.NewsItems=App.Views.Abstract.Page.extend({page:1,newsCategoryId:false,perPage:25,templateName:"pages/news/recent",category:"news",widgets:[],title:function(){return"News, page: "+this.page},url:function(){if(this.newsCategoryId==false){if(this.page==1)return"news/recent";else return"news/recent/"+this.page}else{if(this.page==1)return"news/category/"+this.newsCategoryId;else return"news/category/"+this.newsCategoryId+"/"+this.page}},events:{"click #go_to_prev":"prevPage","click #go_to_next":"nextPage","click .to_news_item":"toNewsItem"},toNewsItem:function(e){var t=$(e.currentTarget).data();if(typeof t.newsItemId==="undefined")return true;var n=parseInt(t.newsItemId,10);var i=this.items.get(n);if(!i)return true;App.showPage("NewsItem",{item:i});return false},prevPage:function(){if(this.page==1)return false;console.log("Navigating to prev page");App.showPage("NewsItems",{page:this.page-1,newsCategoryId:this.newsCategoryId});return false},nextPage:function(){if(!this.items.hasNextPage())return false;console.log("Navigating to next page");App.showPage("NewsItems",{page:this.page+1,newsCategoryId:this.newsCategoryId});return false},render:function(){console.log("Rendering news items");this.renderHTML({items:this.items.toJSON(),currentPage:this.page,perPage:this.perPage,news_category_id:this.newsCategoryId});if(!this.items.hasNextPage())this.$("#go_to_next").parent().addClass("disabled");else this.$("#go_to_next").parent().removeClass("disabled");if(!this.items.hasPreviousPage())this.$("#go_to_prev").parent().addClass("disabled");else this.$("#go_to_prev").parent().removeClass("disabled")},initialize:function(e){console.log("news_items.js | initialize");if(typeof e.page!=="undefined")this.page=parseInt(e.page,10);if(typeof e.newsCategoryId!=="undefined"&&e.newsCategoryId)this.newsCategoryId=parseInt(e.newsCategoryId,10);else this.newsCategoryId=false;this.items=new App.Collections.NewsItems([],{newsCategoryId:this.newsCategoryId});this.items.state.pageSize=this.perPage;this.renderLoading();try{var t=this;this.items.getPage(this.page).done(function(){t.render();t.listenTo(t.items,"add",t.render);t.listenTo(t.items,"reset",t.render);t.listenTo(t.items,"remove",t.render)})}catch(n){console.error("RRR")}}});App.Views.Pages.Profile=App.Views.Abstract.Page.extend({templateName:"pages/profile/index",category:"user",title:function(){return"User Profile"},url:function(){return"profile"},initializeParts:function(){console.info("views/pages/profile.js | initializing parts");this.parts=[];this.parts.push(new App.Views.Parts.ProfileChangePassword({id:"profile_change_password_container"}));this.partsInitialized=true},render:function(){console.log("views/pages/profile.js | Renedring user profile");if(!this.partsInitialized)this.initializeParts();this.once("render",function(){for(var e in this.parts)this.parts[e].render()});this.renderHTML({})},wakeUp:function(){console.log("views/pages/profile.js | waking up");this.holderReady=false;var e=this;this.requireSingedIn(function(){e.render()})},initialize:function(e){console.log("views/pages/profile.js | initializing");this.renderLoading();var t=this;this.requireSingedIn(function(){t.render()})}});App.Views.Pages.Static=App.Views.Abstract.Page.extend({templateName:"pages/static/view",category:"static",title:function(){if(typeof this.model!="undefined"&&this.model.get("title"))return this.model.get("title")},render:function(){this.renderHTML({static_page:this.model.attributes})},wakeUp:function(){if(!this.model.id)App.showPage("NotFound")},initialize:function(e){this.model=new App.Models.StaticPage;this.model.set("slug",e.slug);this.listenTo(this.model,"change",this.render);this.renderLoading();this.model.fetch({error:function(){App.showPage("NotFound")}})}});App.Views.Pages.Wallet=App.Views.Abstract.Page.extend({templateName:"pages/wallets/view",category:"wallets",events:{"submit #add_transaction_form":"addExpense","click #add_profit_button":"addProfit","click #set_total_to_button":"setTotalTo"},title:function(){if(typeof this.model!="undefined"&&this.model.get("name"))return this.model.get("name");else return"Wallet"},url:function(){if(typeof this.model!="undefined"&&this.model.id)return"wallets/"+this.model.id},setTotalTo:function(){App.showDialog("SetTotalTo",{wallet:this.model});return false},addProfit:function(){App.showDialog("AddProfit",{wallet:this.model});return false},addExpense:function(){var e=$("#add_transaction_text").val();var t=$("#add_transaction_amount").val();console.log("Add transaction with description: "+e);var n=e.split(",").join(".").match(/[0-9.]+/g);var i=false;if(typeof n!=="undefined"&&n&&typeof n[0]!=="undefined"&&n[0]){i=+n[0]}if(i){this.model.addExpense(i,e);this.$("#add_transaction_amount").hide();$("#add_transaction_text").val("").blur()}else{t=t.split(",").join(".");t=+t;if(t>0){this.model.addExpense(t,e);this.$("#add_transaction_amount").hide();this.$("#add_transaction_text").val("").blur()}else{this.$("#add_transaction_amount").show();this.$("#add_transaction_amount").focus()}}return false},render:function(){console.log("views/pages/wallet.js | rendering");if(!this.partsInitialized)this.initializeParts();if(App.currentUser.isDemo()){if(typeof this.initialWalletTotal!=="undefined"){if(!$("#fill_profile_invitation").is(":visible"))if(this.model.get("total")!=this.initialWalletTotal)$("#fill_profile_invitation").slideDown("slow")}else{this.initialWalletTotal=this.model.get("total")}}this.once("render",function(){for(var e in this.parts)this.parts[e].render();for(var e in this.charts)this.charts[e].render()});this.renderHTML({item:this.model.toJSON()})},initializeParts:function(){console.info("views/pages/wallet.js | initializing parts");this.parts=[];this.parts.push(new App.Views.Parts.Transactions({id:"transactions_container",model:this.model,collection:this.model.getTransactions()}));this.partsInitialized=true;this.charts=[];this.charts.push(new App.Views.Charts.Balance({id:"balance_canvas",model:this.model}))},wakeUp:function(){console.log("views/pages/wallet.js | waking up");this.holderReady=false;var e=this;this.requireSingedIn(function(){e.render();e.listenTo(e.model,"change sync destroy",e.render);for(var t in e.parts)if(typeof e.parts[t].wakeUp==="function")e.parts[t].wakeUp()})},reloadWallet:function(){var e=this.model.id;var t=this;this.requireSingedIn(function(){var n=t.model.getTransactions();t.model=new App.Models.Wallet;t.model.id=e;t.model.transactions=n;t.model.transactions.fetch();t.listenTo(t.model,"change sync destroy",t.render);t.model.fetch({error:function(){App.showPage("NotFound")}})})},initialize:function(e){console.log("views/pages/wallet.js | initializing");this.renderLoading();var t=this;this.requireSingedIn(function(){if(typeof e.item!=="undefined"){t.model=e.item;t.render();t.listenTo(t.model,"change sync destroy",t.render)}else if(typeof e.id!=="undefined"){t.model=new App.Models.Wallet;t.model.id=e.id;t.listenTo(t.model,"change sync destroy",t.render);t.model.fetch({error:function(){App.showPage("NotFound")}})}else throw"id or item parameters required"})}});App.Views.Pages.Wallets=App.Views.Abstract.Page.extend({templateName:"pages/wallets/index",category:"wallets",status:"active",origin:"both",events:{"mouseenter .item":"moreWalletDetails","mouseleave .item":"lessWalletDetails","click .item_button_remove":"removeItem","click .item":"toItem","click .item_button_edit":"editItem","click .item_button_restore":"restoreItem","click .item_button_accesses":"showAccesses","click .filter_menu":"filter","click .origin_menu":"filterOrigin"},title:function(){return"Wallets"},url:function(){return"wallets"},filter:function(e){var t=$(e.currentTarget).data("status");if((t=="active"||t=="hidden")&&t!=this.status){this.status=t;this.render()}return false},filterOrigin:function(e){var t=$(e.currentTarget).data("origin");if((t=="both"||t=="mine"||t=="shared")&&t!=this.origin){this.origin=t;this.render()}return false},toItem:function(e){var t=$(e.currentTarget).data();if(typeof t.id==="undefined")return true;var n=parseInt(t.id,10);var i=this.items.get(n);if(!i)return true;App.showPage("Wallet",{item:i});return false},moreWalletDetails:function(e){$(e.currentTarget).find(".item_buttons").show()},lessWalletDetails:function(e){$(e.currentTarget).find(".item_buttons").hide()},removeItem:function(e){var t=$(e.currentTarget).parents(".item").data("id");App.showDialog("HideWallet",{item:this.items.get(t)});return false},restoreItem:function(e){var t=$(e.currentTarget).parents(".item").data("id");var n=this.items.get(t);if(n&&n.get("status")=="hidden"){n.set("status","active");n.save()}return false},showAccesses:function(e){var t=$(e.currentTarget).parents(".item").data("id");App.showDialog("WalletAccesses",{item:this.items.get(t)});return false},editItem:function(e){var t=$(e.currentTarget).parents(".item").data("id");App.showDialog("EditWallet",{item:this.items.get(t)});return false},render:function(){if(this.origin=="both")var e=this.items.search({status:this.status});else var e=this.items.search({status:this.status,origin:this.origin});this.renderHTML({items:e.toJSON(),status:this.status,origin:this.origin})},wakeUp:function(){this.holderReady=false;var e=this;this.requireSingedIn(function(){e.render();e.listenTo(e.items,"sync add change reset remove",e.render)})},initialize:function(){console.log("wallets.js | initialize");this.renderLoading();var e=this;this.requireSingedIn(function(){e.items=App.currentUser.getWallets();e.listenTo(e.items,"sync",e.render);e.items.fetch().done(function(){e.listenTo(e.items,"add change reset remove",e.render)}).error(function(){e.render()})})}});App.Views.Charts.Balance=Backbone.View.extend({events:{},chart:false,aTransactions:[],_data:{},dataReady:false,dataFetched:false,initialize:function(){if(!this.model||!this.id)console.error("views/charts/balance.js | model(wallet) and id of canvas should be provided for this view");this.model.on("addTransaction",this.appendTransaction,this);this.model.on("removeTransaction",this.removeTransaction,this);this.on("dataReady",function(){console.log("views/charts/balance.js | dataReady");if(typeof this._data.labels==="undefined"||!this._data.labels||this._data.labels.length==0)return;var e=this;$("#"+e.id).fadeOut(20,function(){e.chart=new Chartist.Line("#"+e.id,e._data,{low:0,lineSmooth:false,chartPadding:0,fullWidth:false,showArea:true});$("#"+e.id).fadeIn(400)})})},appendTransaction:function(e){this.aTransactions.push(e);this.trigger("transactionsReady")},removeTransaction:function(e){this.aTransactions=_.filter(this.aTransactions,function(t){return t.id!=e});this.trigger("transactionsReady")},getMissedTransactionsFromPage:function(){var e=false},fetchTransactions:function(){if(this.aTransactions.length){this.trigger("transactionsReady");return this.aTransactions}var e=new App.Collections.Transactions;this.aTransactions=[];e.setWalletId(this.model.id);var t=this;e.once("sync",function(){console.log("Synced current month");e.forEach(function(e){t.aTransactions.push(e)});e.once("sync",function(){console.log("Synced prev month");e.forEach(function(e){t.aTransactions.push(e)});t.trigger("transactionsReady")});e.gotoPrev()});e.fetch()},fetchData:function(){if(this.dataFetched)return false;if(this.dataReady){this.trigger("dataReady");return this._data}this.dataFetched=true;var e=this;this.on("transactionsReady",function(){console.log("views/charts/balance.js | transactionsReady");var t=_.filter(this.aTransactions,function(e){return e.get("amount")<0});var n={};var i=new Date;var r=i.getDate();var s=i.getMonth();var a=i.getYear();i=i.getTime();for(var o=60;o>=0;o--){var l=new Date(i-24*60*60*1e3*o);var u=l.getDate();var c=l.getMonth();var f=l.getYear();var p=0;_.each(t,function(e){var t=new Date(e.get("datetime")*1e3);if(t.getDate()===u&&t.getMonth()===c)p+=Math.abs(e.get("amount"))});n[u+"-"+c]={day:u,month:c,year:f,total:Math.abs(p)}}var d=0;var h=0;var g=0;_.each(n,function(e){if(e.total>0){if(d==0&&h==0){d=e.day;h=e.month;g=e.year}if(e.month<h&&e.year==g||e.day<d&&e.month==h){d=e.day;h=e.month;g=e.year}}});if(d)_.each(n,function(e){if(g<e.year||h<e.month&&g<=e.year||d<e.day&&h==e.month){if(e.total==0&&typeof e.filledMissed==="undefined"){var t=0;var i=[];var o=e.day+1;var l=e.month;var u=e.year;i.push(e.day+"-"+e.month);while(t==0&&(s==l&&r>=o||a==u&&s>l||a>u))if(typeof n[o+"-"+l]!=="undefined"){if(n[o+"-"+l].total==0){i.push(o+"-"+l)}else{i.push(o+"-"+l);t=n[o+"-"+l].total}o++}else{l++;o=1;if(l==12){l=0;u++}}i=_.uniq(i);if(i.length>0){var c=t/i.length;_.each(i,function(e){n[e].total=c;n[e].filledMissed=true})}}}});var m=[];_.each(n,function(e,t){m.push({label:e.day+"/"+(e.month+1),value:e.total})});m=_.last(m,31);var v=false;m=_.filter(m,function(e){if(e.value>0||v){v=true;return true}else return false});if(m.length>10){var y=[];var o=0;if(m.length>20){while(typeof m[o]!=="undefined"){var b=m[o].value;if(typeof m[o+1]!=="undefined")b+=m[o+1].value;if(typeof m[o+2]!=="undefined")b+=m[o+2].value;if(typeof m[o+1]!=="undefined"&&typeof m[o+2]!=="undefined")b=b/3;else if(typeof m[o+1]!=="undefined")b=b/2;var w=m[o].label;if(typeof m[o+2]!=="undefined")w+=" - <br>"+m[o+2].label;else if(typeof m[o+1]!=="undefined")w+=" - <br>"+m[o+1].label;y.push({label:w,value:b});o=o+3}}else{while(typeof m[o]!=="undefined"){var b=m[o].value;if(typeof m[o+1]!=="undefined")b+=m[o+1].value;if(typeof m[o+1]!=="undefined")b=b/2;var w=m[o].label;if(typeof m[o+1]!=="undefined")w+=" - <br>"+m[o+1].label;y.push({label:w,value:b});o=o+2}}m=y}var x=_.map(m,function(e){return e.label});var S=[[]];S[0]=_.map(m,function(e){return e.value});e._data={labels:x,series:S};e.dataFetched=false;e.dataReady=true;e.trigger("dataReady")});this.fetchTransactions()},wakeUp:function(){this.render()},render:function(){console.log("Rendering chart");if(!$("#"+this.id).length)return;this.fetchData()}});App.Views.Header=Backbone.View.extend({el:$("#header"),events:{},render:function(){this.setElement($("#header"));if(App.currentUser.isSignedIn()){console.log("header.js | Rendering for signed in user");this.$(".header_is_not_signed_in").hide();this.$(".header_is_signed_in").show()}else{console.log("header.js | Rendering for not signed in user");this.$(".header_is_not_signed_in").show();this.$(".header_is_signed_in").hide()}$(".menu_category").parent().removeClass("active");if(typeof App.page!=="undefined"&&App.page&&typeof App.page.category!=="undefined"){$(".menu_category_"+App.page.category).parent().addClass("active")}else{$(".menu_category_home").parent().addClass("active")}console.log("header.js | Header rendered");return this}});App.log={currentURL:null,currentTitle:null,currentVisitTime:null,hasToForce:false,setURL:function(e){if(e!=this.currentURL){this.hasToForce=true;this.currentURL=e;if(typeof ga==="function"){ga("set","page","/"+e)}}},setTitle:function(e){if(e!=this.currentTitle){this.currentTitle=e;this.hasToForce=true;if(typeof ga==="function"){ga("set","title",e)}}},pageView:function(){var e=Date.now();if(this.currentVisitTime==null||e-this.currentVisitTime>1e3||this.hasToForce){if(typeof ga==="function"){ga("send","pageview")}this.hasToForce=false}this.currentVisitTime=e},event:function(e,t,n,i){if(typeof n==="undefined")n="";if(typeof ga==="function"){if(typeof i!=="undefined")ga("send","event",e,t,n,i);else ga("send","event",e,t,n)}}};App.router=new(Backbone.Router.extend({setUrl:function(e){this.navigate(e)},redirect:function(e){if(typeof App.page!=="undefined"&&App.page&&typeof App.page.isReady!=="undefined"&&!App.page.isReady)App.loadingStatus(false);this.navigate(e,{trigger:true})},routes:{"(/)":"index",help:"help","wallets(/)":"wallets","profile(/)":"profile","wallets/:id":"wallet","static/view/:id":"static","news/recent/:page(/)":"newsItems","news/recent(/)":"newsItems","news/category/:id/:page(/)":"newsCategory","news/category/:id(/)":"newsCategory","news/view/:slug.html":"newsItem"},dialogs:{"user/signin":"Signin","user/registration":"Registration","user/restore":"Restore","user/newpassword":"NewPassword","user/logout":"Logout","user/fillprofile":"FillProfile","wallets/add":"AddWallet"},index:function(){App.showPage("Index")},profile:function(){App.showPage("Profile")},"static":function(e){App.showPage("Static",{slug:e})},help:function(){console.log("routing help")},wallet:function(e){App.showPage("Wallet",{id:e})},wallets:function(){App.showPage("Wallets")},newsItems:function(e){if(typeof e==="undefined")e=1;App.showPage("NewsItems",{page:e})},newsCategory:function(e,t){if(typeof t==="undefined")t=1;App.showPage("NewsItems",{page:t,newsCategoryId:e})},newsItem:function(e){App.showPage("NewsItem",{slug:e})},init:function(){Backbone.history.start({pushState:App.settings.history.pushState,silent:App.settings.history.startSilent});Backbone.history.isRoutingURL=function(e){for(var t in this.handlers)if(this.handlers[t].route.test(e))return true;return false};var e=this;if(Backbone.history&&Backbone.history._hasPushState){$(document).on("click","a",function(t){if(typeof t.ctrlKey!=="undefined"&&t.ctrlKey)return true;var n=$(this).attr("href");var i=this.protocol+"//";n=n.split(App.settings.sitePath).join("");n=n.slice(-1)=="/"?n.slice(0,-1):n;n=n.slice(0,1)=="/"?n.slice(1):n;for(var r in e.dialogs)if(r==n){console.log('Showing "'+e.dialogs[r]+'" dialog from document click event');App.showDialog(e.dialogs[r]);return false}if(n.slice(i.length)!==i&&Backbone.history.isRoutingURL(n)){console.log('Navigating to "'+n+'" from document click event');t.preventDefault();App.router.navigate(n,{trigger:true});return false}return true})}}}));$(function(){App.init()});